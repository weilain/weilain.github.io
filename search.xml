<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>k8s部署nacos-nfs版本</title>
      <link href="p/98ed58c9/"/>
      <url>p/98ed58c9/</url>
      
        <content type="html"><![CDATA[<p>官方给出了两种方式去搭建集权其中一种是快速搭建方式，另一种是集群搭建方式。<br>但是快速搭建的劣势是数据没有持久化，可能会出现数据集丢失的问题，一个集群，做到高可用，数据放入mysql数据库，才是生产环境必须要使用的方式。<br>可以使用自建已有mysql</p><p>即在这个k8s集群上搭建nacos集群。</p><h2 id="下载代码（代码中自带执行脚本的）"><a href="#下载代码（代码中自带执行脚本的）" class="headerlink" title="下载代码（代码中自带执行脚本的）"></a>下载代码（代码中自带执行脚本的）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;nacos-group&#x2F;nacos-k8s.git</span><br></pre></td></tr></table></figure><p>下载之后，上传代码到可执行服务器上。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/k8s/naocs-1.png" alt="github--lena"></p><h2 id="部署-NFS"><a href="#部署-NFS" class="headerlink" title="部署 NFS"></a>部署 NFS</h2><h3 id="为什么要部署nfs呢？什么是nfs呢？"><a href="#为什么要部署nfs呢？什么是nfs呢？" class="headerlink" title="为什么要部署nfs呢？什么是nfs呢？"></a>为什么要部署nfs呢？什么是nfs呢？</h3><p>在高级使用中,Nacos在K8S拥有自动扩容缩容和数据持久特性,请注意如果需要使用这部分功能请使用PVC持久卷,Nacos的自动扩容缩容需要依赖持久卷,以及数据持久化也是一样,本例中使用的是NFS来使用PVC。也就是说nacos是有状态服务，需要持久化磁盘存储数据。<br>NFS:Network File System(NFS),网络文件系统,存储数据的硬盘。</p><h3 id="这个nfs服务部署在哪里？"><a href="#这个nfs服务部署在哪里？" class="headerlink" title="这个nfs服务部署在哪里？"></a>这个nfs服务部署在哪里？</h3><p>可以部署在这样一台机器上，可以和上面的k8s集群通讯，这里选择ip:61作为nfs的部署服务，你也可以选在ip:100等，只要能通就可以。</p><h3 id="安装nfs"><a href="#安装nfs" class="headerlink" title="安装nfs"></a>安装nfs</h3><h4 id="确认是否安装nfs"><a href="#确认是否安装nfs" class="headerlink" title="确认是否安装nfs"></a>确认是否安装nfs</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@master-01 nacos-k8s]# rpm -qa nfs-utils rpcbind</span><br><span class="line">nfs-utils-1.3.0-0.68.el7.x86_64</span><br><span class="line">rpcbind-0.2.0-49.el7.x86_64</span><br></pre></td></tr></table></figure><p>我的是已经安装过的，如果没有安装，请安装</p><h4 id="安装过程："><a href="#安装过程：" class="headerlink" title="安装过程："></a>安装过程：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 服务端 ip:61机器上</span><br><span class="line">$ yum install -y nfs-utils rpcbind</span><br><span class="line"></span><br><span class="line"># 客户端 其他台机器上均需要安装这个服务</span><br><span class="line">$ yum install -y nfs-utils</span><br></pre></td></tr></table></figure><h4 id="创建共享文件夹-data-nfs和-data-mysql，当然你可以自己选择位置"><a href="#创建共享文件夹-data-nfs和-data-mysql，当然你可以自己选择位置" class="headerlink" title="创建共享文件夹/data/nfs和/data/mysql，当然你可以自己选择位置"></a>创建共享文件夹/data/nfs和/data/mysql，当然你可以自己选择位置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;data</span><br><span class="line">mkdir nfs</span><br><span class="line">mkdir mysql</span><br></pre></td></tr></table></figure><ul><li>nfs:为nfs共享文件的目录</li><li>mysql：为mysql数据文件目录</li></ul><h4 id="配置-etc-exports文件，在此文件中写入如下内容"><a href="#配置-etc-exports文件，在此文件中写入如下内容" class="headerlink" title="配置 /etc/exports文件，在此文件中写入如下内容"></a>配置 /etc/exports文件，在此文件中写入如下内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;data&#x2F;nfs *(insecure,rw,async,no_root_squash)</span><br><span class="line">&#x2F;data&#x2F;mysql *(insecure,rw,async,no_root_squash)</span><br></pre></td></tr></table></figure><p>配置完成后需要时期生效：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exportfs -r</span><br></pre></td></tr></table></figure><p>具体含义如下：</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/k8s/naocs-2.png" alt="github--lena"></p><h4 id="启动-RPC-服务"><a href="#启动-RPC-服务" class="headerlink" title="启动 RPC 服务"></a>启动 RPC 服务</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service rpcbind start</span><br></pre></td></tr></table></figure><h4 id="查看-NFS-服务项-rpc-服务器注册的端口列表"><a href="#查看-NFS-服务项-rpc-服务器注册的端口列表" class="headerlink" title="查看 NFS 服务项 rpc 服务器注册的端口列表"></a>查看 NFS 服务项 rpc 服务器注册的端口列表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpcinfo -p localhost</span><br></pre></td></tr></table></figure><p>由于已经有其他服务，所有看到的多：</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/k8s/naocs-3.png" alt="github--lena"></p><h4 id="启动-NFS-服务"><a href="#启动-NFS-服务" class="headerlink" title="启动 NFS 服务"></a>启动 NFS 服务</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service nfs start</span><br></pre></td></tr></table></figure><h4 id="查看是否加载了-etc-exports中的配置："><a href="#查看是否加载了-etc-exports中的配置：" class="headerlink" title="查看是否加载了/etc/exports中的配置："></a>查看是否加载了/etc/exports中的配置：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">showmount -e localhost</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/k8s/naocs-4.png" alt="github--lena"></p><p>至此nfs部署完成</p><h2 id="部署-NFS剩下部分"><a href="#部署-NFS剩下部分" class="headerlink" title="部署 NFS剩下部分"></a>部署 NFS剩下部分</h2><h4 id="创建角色"><a href="#创建角色" class="headerlink" title="创建角色"></a>创建角色</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create -f deploy&#x2F;nfs&#x2F;rbac.yaml</span><br></pre></td></tr></table></figure><p>如果的K8S命名空间不是default,请在部署RBAC之前执行以下脚本（就不要执行上面的脚本了或者手动修改yaml文件内所属 <code>namespace</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Set the subject of the RBAC objects to the current namespace where the provisioner is being deployed</span><br><span class="line">NS&#x3D;$(kubectl config get-contexts|grep -e &quot;^\*&quot; |awk &#39;&#123;print $5&#125;&#39;)</span><br><span class="line">NAMESPACE&#x3D;$&#123;NS:-default&#125;</span><br><span class="line">sed -i&#39;&#39; &quot;s&#x2F;namespace:.*&#x2F;namespace: $NAMESPACE&#x2F;g&quot; .&#x2F;deploy&#x2F;nfs&#x2F;rbac.yaml</span><br></pre></td></tr></table></figure><h4 id="创建-ServiceAccount-和部署-NFS-Client-Provisioner"><a href="#创建-ServiceAccount-和部署-NFS-Client-Provisioner" class="headerlink" title="创建 ServiceAccount 和部署 NFS-Client Provisioner"></a>创建 ServiceAccount 和部署 NFS-Client Provisioner</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create -f deploy&#x2F;nfs&#x2F;deployment.yaml</span><br></pre></td></tr></table></figure><p>内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: ServiceAccount</span><br><span class="line">metadata:</span><br><span class="line">  name: nfs-client-provisioner</span><br><span class="line">---</span><br><span class="line">kind: Deployment</span><br><span class="line">apiVersion: apps&#x2F;v1</span><br><span class="line">metadata:</span><br><span class="line">  name: nfs-client-provisioner</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  strategy:</span><br><span class="line">    type: Recreate</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: nfs-client-provisioner</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: nfs-client-provisioner</span><br><span class="line">    spec:</span><br><span class="line">      serviceAccount: nfs-client-provisioner</span><br><span class="line">      containers:</span><br><span class="line">        - name: nfs-client-provisioner</span><br><span class="line">          image: quay.io&#x2F;external_storage&#x2F;nfs-client-provisioner:latest</span><br><span class="line">          volumeMounts:</span><br><span class="line">            - name: nfs-client-root</span><br><span class="line">              mountPath: &#x2F;persistentvolumes</span><br><span class="line">          env:</span><br><span class="line">            - name: PROVISIONER_NAME</span><br><span class="line">              value: fuseim.pri&#x2F;ifs</span><br><span class="line">            - name: NFS_SERVER</span><br><span class="line">              value: 10.1.33.61 </span><br><span class="line">            - name: NFS_PATH</span><br><span class="line">              value: &#x2F;data&#x2F;nfs</span><br><span class="line">      volumes:</span><br><span class="line">        - name: nfs-client-root</span><br><span class="line">          nfs:</span><br><span class="line">            server: 10.1.33.61</span><br><span class="line">            path: &#x2F;data&#x2F;nfs</span><br></pre></td></tr></table></figure><h4 id="创建-NFS-StorageClass"><a href="#创建-NFS-StorageClass" class="headerlink" title="创建 NFS StorageClass"></a>创建 NFS StorageClass</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create -f deploy&#x2F;nfs&#x2F;class.yaml</span><br></pre></td></tr></table></figure><h4 id="验证NFS部署成功"><a href="#验证NFS部署成功" class="headerlink" title="验证NFS部署成功"></a>验证NFS部署成功</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod -l app&#x3D;nfs-client-provisioner</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/k8s/naocs-5.png" alt="github--lena"></p><h2 id="部署数据库"><a href="#部署数据库" class="headerlink" title="部署数据库"></a>部署数据库</h2><p>这个数据库就是记录nacos配置的数据库，做到持久化，就能保证安全了。</p><h4 id="安装数据库"><a href="#安装数据库" class="headerlink" title="安装数据库"></a>安装数据库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create -f deploy&#x2F;mysql&#x2F;mysql-nfs.yaml</span><br></pre></td></tr></table></figure><p>代码，如下，有修改哦：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: ReplicationController</span><br><span class="line">metadata:</span><br><span class="line">  name: mysql</span><br><span class="line">  labels:</span><br><span class="line">    name: mysql</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  selector:</span><br><span class="line">    name: mysql</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        name: mysql</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: mysql</span><br><span class="line">        image: nacos&#x2F;nacos-mysql:5.7 </span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 3306</span><br><span class="line">        volumeMounts:</span><br><span class="line">        - name: mysql-data</span><br><span class="line">          mountPath: &#x2F;var&#x2F;lib&#x2F;mysql </span><br><span class="line">        env:</span><br><span class="line">        - name: MYSQL_ROOT_PASSWORD</span><br><span class="line">          value: &quot;root&quot;</span><br><span class="line">        - name: MYSQL_DATABASE</span><br><span class="line">          value: &quot;nacos_config&quot;</span><br><span class="line">        - name: MYSQL_USER</span><br><span class="line">          value: &quot;nacos&quot;</span><br><span class="line">        - name: MYSQL_PASSWORD</span><br><span class="line">          value: &quot;nacos&quot;</span><br><span class="line">      volumes:</span><br><span class="line">      - name: mysql-data</span><br><span class="line">        nfs:</span><br><span class="line">          server: 10.1.33.61 </span><br><span class="line">          path: &#x2F;data&#x2F;mysql</span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: mysql</span><br><span class="line">  labels:</span><br><span class="line">    name: mysql</span><br><span class="line">spec:</span><br><span class="line">  ports:</span><br><span class="line">  - port: 3306</span><br><span class="line">    targetPort: 3306</span><br><span class="line">  selector:</span><br><span class="line">    name: mysql</span><br></pre></td></tr></table></figure><h4 id="验证数据库是否安装成功"><a href="#验证数据库是否安装成功" class="headerlink" title="验证数据库是否安装成功"></a>验证数据库是否安装成功</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/k8s/naocs-6.png" alt="github--lena"></p><h4 id="建表"><a href="#建表" class="headerlink" title="建表"></a>建表</h4><p>数据库初始化语句位置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;alibaba&#x2F;nacos&#x2F;blob&#x2F;develop&#x2F;distribution&#x2F;conf&#x2F;nacos-mysql.sql</span><br></pre></td></tr></table></figure><p>如果库中没有这些表需要自己创建。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#x2F;*</span><br><span class="line"> * Copyright 1999-2018 Alibaba Group Holding Ltd.</span><br><span class="line"> *</span><br><span class="line"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span><br><span class="line"> * you may not use this file except in compliance with the License.</span><br><span class="line"> * You may obtain a copy of the License at</span><br><span class="line"> *</span><br><span class="line"> *      http:&#x2F;&#x2F;www.apache.org&#x2F;licenses&#x2F;LICENSE-2.0</span><br><span class="line"> *</span><br><span class="line"> * Unless required by applicable law or agreed to in writing, software</span><br><span class="line"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span><br><span class="line"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="line"> * See the License for the specific language governing permissions and</span><br><span class="line"> * limitations under the License.</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">&#x2F;*   数据库全名 &#x3D; nacos_config   *&#x2F;</span><br><span class="line">&#x2F;*   表名称 &#x3D; config_info   *&#x2F;</span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">CREATE TABLE &#96;config_info&#96; (</span><br><span class="line">  &#96;id&#96; bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;id&#39;,</span><br><span class="line">  &#96;data_id&#96; varchar(255) NOT NULL COMMENT &#39;data_id&#39;,</span><br><span class="line">  &#96;group_id&#96; varchar(255) DEFAULT NULL,</span><br><span class="line">  &#96;content&#96; longtext NOT NULL COMMENT &#39;content&#39;,</span><br><span class="line">  &#96;md5&#96; varchar(32) DEFAULT NULL COMMENT &#39;md5&#39;,</span><br><span class="line">  &#96;gmt_create&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;创建时间&#39;,</span><br><span class="line">  &#96;gmt_modified&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;修改时间&#39;,</span><br><span class="line">  &#96;src_user&#96; text COMMENT &#39;source user&#39;,</span><br><span class="line">  &#96;src_ip&#96; varchar(50) DEFAULT NULL COMMENT &#39;source ip&#39;,</span><br><span class="line">  &#96;app_name&#96; varchar(128) DEFAULT NULL,</span><br><span class="line">  &#96;tenant_id&#96; varchar(128) DEFAULT &#39;&#39; COMMENT &#39;租户字段&#39;,</span><br><span class="line">  &#96;c_desc&#96; varchar(256) DEFAULT NULL,</span><br><span class="line">  &#96;c_use&#96; varchar(64) DEFAULT NULL,</span><br><span class="line">  &#96;effect&#96; varchar(64) DEFAULT NULL,</span><br><span class="line">  &#96;type&#96; varchar(64) DEFAULT NULL,</span><br><span class="line">  &#96;c_schema&#96; text,</span><br><span class="line">  PRIMARY KEY (&#96;id&#96;),</span><br><span class="line">  UNIQUE KEY &#96;uk_configinfo_datagrouptenant&#96; (&#96;data_id&#96;,&#96;group_id&#96;,&#96;tenant_id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8 COLLATE&#x3D;utf8_bin COMMENT&#x3D;&#39;config_info&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">&#x2F;*   数据库全名 &#x3D; nacos_config   *&#x2F;</span><br><span class="line">&#x2F;*   表名称 &#x3D; config_info_aggr   *&#x2F;</span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">CREATE TABLE &#96;config_info_aggr&#96; (</span><br><span class="line">  &#96;id&#96; bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;id&#39;,</span><br><span class="line">  &#96;data_id&#96; varchar(255) NOT NULL COMMENT &#39;data_id&#39;,</span><br><span class="line">  &#96;group_id&#96; varchar(255) NOT NULL COMMENT &#39;group_id&#39;,</span><br><span class="line">  &#96;datum_id&#96; varchar(255) NOT NULL COMMENT &#39;datum_id&#39;,</span><br><span class="line">  &#96;content&#96; longtext NOT NULL COMMENT &#39;内容&#39;,</span><br><span class="line">  &#96;gmt_modified&#96; datetime NOT NULL COMMENT &#39;修改时间&#39;,</span><br><span class="line">  &#96;app_name&#96; varchar(128) DEFAULT NULL,</span><br><span class="line">  &#96;tenant_id&#96; varchar(128) DEFAULT &#39;&#39; COMMENT &#39;租户字段&#39;,</span><br><span class="line">  PRIMARY KEY (&#96;id&#96;),</span><br><span class="line">  UNIQUE KEY &#96;uk_configinfoaggr_datagrouptenantdatum&#96; (&#96;data_id&#96;,&#96;group_id&#96;,&#96;tenant_id&#96;,&#96;datum_id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8 COLLATE&#x3D;utf8_bin COMMENT&#x3D;&#39;增加租户字段&#39;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">&#x2F;*   数据库全名 &#x3D; nacos_config   *&#x2F;</span><br><span class="line">&#x2F;*   表名称 &#x3D; config_info_beta   *&#x2F;</span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">CREATE TABLE &#96;config_info_beta&#96; (</span><br><span class="line">  &#96;id&#96; bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;id&#39;,</span><br><span class="line">  &#96;data_id&#96; varchar(255) NOT NULL COMMENT &#39;data_id&#39;,</span><br><span class="line">  &#96;group_id&#96; varchar(128) NOT NULL COMMENT &#39;group_id&#39;,</span><br><span class="line">  &#96;app_name&#96; varchar(128) DEFAULT NULL COMMENT &#39;app_name&#39;,</span><br><span class="line">  &#96;content&#96; longtext NOT NULL COMMENT &#39;content&#39;,</span><br><span class="line">  &#96;beta_ips&#96; varchar(1024) DEFAULT NULL COMMENT &#39;betaIps&#39;,</span><br><span class="line">  &#96;md5&#96; varchar(32) DEFAULT NULL COMMENT &#39;md5&#39;,</span><br><span class="line">  &#96;gmt_create&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;创建时间&#39;,</span><br><span class="line">  &#96;gmt_modified&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;修改时间&#39;,</span><br><span class="line">  &#96;src_user&#96; text COMMENT &#39;source user&#39;,</span><br><span class="line">  &#96;src_ip&#96; varchar(50) DEFAULT NULL COMMENT &#39;source ip&#39;,</span><br><span class="line">  &#96;tenant_id&#96; varchar(128) DEFAULT &#39;&#39; COMMENT &#39;租户字段&#39;,</span><br><span class="line">  PRIMARY KEY (&#96;id&#96;),</span><br><span class="line">  UNIQUE KEY &#96;uk_configinfobeta_datagrouptenant&#96; (&#96;data_id&#96;,&#96;group_id&#96;,&#96;tenant_id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8 COLLATE&#x3D;utf8_bin COMMENT&#x3D;&#39;config_info_beta&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">&#x2F;*   数据库全名 &#x3D; nacos_config   *&#x2F;</span><br><span class="line">&#x2F;*   表名称 &#x3D; config_info_tag   *&#x2F;</span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">CREATE TABLE &#96;config_info_tag&#96; (</span><br><span class="line">  &#96;id&#96; bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;id&#39;,</span><br><span class="line">  &#96;data_id&#96; varchar(255) NOT NULL COMMENT &#39;data_id&#39;,</span><br><span class="line">  &#96;group_id&#96; varchar(128) NOT NULL COMMENT &#39;group_id&#39;,</span><br><span class="line">  &#96;tenant_id&#96; varchar(128) DEFAULT &#39;&#39; COMMENT &#39;tenant_id&#39;,</span><br><span class="line">  &#96;tag_id&#96; varchar(128) NOT NULL COMMENT &#39;tag_id&#39;,</span><br><span class="line">  &#96;app_name&#96; varchar(128) DEFAULT NULL COMMENT &#39;app_name&#39;,</span><br><span class="line">  &#96;content&#96; longtext NOT NULL COMMENT &#39;content&#39;,</span><br><span class="line">  &#96;md5&#96; varchar(32) DEFAULT NULL COMMENT &#39;md5&#39;,</span><br><span class="line">  &#96;gmt_create&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;创建时间&#39;,</span><br><span class="line">  &#96;gmt_modified&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;修改时间&#39;,</span><br><span class="line">  &#96;src_user&#96; text COMMENT &#39;source user&#39;,</span><br><span class="line">  &#96;src_ip&#96; varchar(50) DEFAULT NULL COMMENT &#39;source ip&#39;,</span><br><span class="line">  PRIMARY KEY (&#96;id&#96;),</span><br><span class="line">  UNIQUE KEY &#96;uk_configinfotag_datagrouptenanttag&#96; (&#96;data_id&#96;,&#96;group_id&#96;,&#96;tenant_id&#96;,&#96;tag_id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8 COLLATE&#x3D;utf8_bin COMMENT&#x3D;&#39;config_info_tag&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">&#x2F;*   数据库全名 &#x3D; nacos_config   *&#x2F;</span><br><span class="line">&#x2F;*   表名称 &#x3D; config_tags_relation   *&#x2F;</span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">CREATE TABLE &#96;config_tags_relation&#96; (</span><br><span class="line">  &#96;id&#96; bigint(20) NOT NULL COMMENT &#39;id&#39;,</span><br><span class="line">  &#96;tag_name&#96; varchar(128) NOT NULL COMMENT &#39;tag_name&#39;,</span><br><span class="line">  &#96;tag_type&#96; varchar(64) DEFAULT NULL COMMENT &#39;tag_type&#39;,</span><br><span class="line">  &#96;data_id&#96; varchar(255) NOT NULL COMMENT &#39;data_id&#39;,</span><br><span class="line">  &#96;group_id&#96; varchar(128) NOT NULL COMMENT &#39;group_id&#39;,</span><br><span class="line">  &#96;tenant_id&#96; varchar(128) DEFAULT &#39;&#39; COMMENT &#39;tenant_id&#39;,</span><br><span class="line">  &#96;nid&#96; bigint(20) NOT NULL AUTO_INCREMENT,</span><br><span class="line">  PRIMARY KEY (&#96;nid&#96;),</span><br><span class="line">  UNIQUE KEY &#96;uk_configtagrelation_configidtag&#96; (&#96;id&#96;,&#96;tag_name&#96;,&#96;tag_type&#96;),</span><br><span class="line">  KEY &#96;idx_tenant_id&#96; (&#96;tenant_id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8 COLLATE&#x3D;utf8_bin COMMENT&#x3D;&#39;config_tag_relation&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">&#x2F;*   数据库全名 &#x3D; nacos_config   *&#x2F;</span><br><span class="line">&#x2F;*   表名称 &#x3D; group_capacity   *&#x2F;</span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">CREATE TABLE &#96;group_capacity&#96; (</span><br><span class="line">  &#96;id&#96; bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;主键ID&#39;,</span><br><span class="line">  &#96;group_id&#96; varchar(128) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;Group ID，空字符表示整个集群&#39;,</span><br><span class="line">  &#96;quota&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;配额，0表示使用默认值&#39;,</span><br><span class="line">  &#96;usage&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;使用量&#39;,</span><br><span class="line">  &#96;max_size&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;单个配置大小上限，单位为字节，0表示使用默认值&#39;,</span><br><span class="line">  &#96;max_aggr_count&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;聚合子配置最大个数，，0表示使用默认值&#39;,</span><br><span class="line">  &#96;max_aggr_size&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;单个聚合数据的子配置大小上限，单位为字节，0表示使用默认值&#39;,</span><br><span class="line">  &#96;max_history_count&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;最大变更历史数量&#39;,</span><br><span class="line">  &#96;gmt_create&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;创建时间&#39;,</span><br><span class="line">  &#96;gmt_modified&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;修改时间&#39;,</span><br><span class="line">  PRIMARY KEY (&#96;id&#96;),</span><br><span class="line">  UNIQUE KEY &#96;uk_group_id&#96; (&#96;group_id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8 COLLATE&#x3D;utf8_bin COMMENT&#x3D;&#39;集群、各Group容量信息表&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">&#x2F;*   数据库全名 &#x3D; nacos_config   *&#x2F;</span><br><span class="line">&#x2F;*   表名称 &#x3D; his_config_info   *&#x2F;</span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">CREATE TABLE &#96;his_config_info&#96; (</span><br><span class="line">  &#96;id&#96; bigint(64) unsigned NOT NULL,</span><br><span class="line">  &#96;nid&#96; bigint(20) unsigned NOT NULL AUTO_INCREMENT,</span><br><span class="line">  &#96;data_id&#96; varchar(255) NOT NULL,</span><br><span class="line">  &#96;group_id&#96; varchar(128) NOT NULL,</span><br><span class="line">  &#96;app_name&#96; varchar(128) DEFAULT NULL COMMENT &#39;app_name&#39;,</span><br><span class="line">  &#96;content&#96; longtext NOT NULL,</span><br><span class="line">  &#96;md5&#96; varchar(32) DEFAULT NULL,</span><br><span class="line">  &#96;gmt_create&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,</span><br><span class="line">  &#96;gmt_modified&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,</span><br><span class="line">  &#96;src_user&#96; text,</span><br><span class="line">  &#96;src_ip&#96; varchar(50) DEFAULT NULL,</span><br><span class="line">  &#96;op_type&#96; char(10) DEFAULT NULL,</span><br><span class="line">  &#96;tenant_id&#96; varchar(128) DEFAULT &#39;&#39; COMMENT &#39;租户字段&#39;,</span><br><span class="line">  PRIMARY KEY (&#96;nid&#96;),</span><br><span class="line">  KEY &#96;idx_gmt_create&#96; (&#96;gmt_create&#96;),</span><br><span class="line">  KEY &#96;idx_gmt_modified&#96; (&#96;gmt_modified&#96;),</span><br><span class="line">  KEY &#96;idx_did&#96; (&#96;data_id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8 COLLATE&#x3D;utf8_bin COMMENT&#x3D;&#39;多租户改造&#39;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">&#x2F;*   数据库全名 &#x3D; nacos_config   *&#x2F;</span><br><span class="line">&#x2F;*   表名称 &#x3D; tenant_capacity   *&#x2F;</span><br><span class="line">&#x2F;******************************************&#x2F;</span><br><span class="line">CREATE TABLE &#96;tenant_capacity&#96; (</span><br><span class="line">  &#96;id&#96; bigint(20) unsigned NOT NULL AUTO_INCREMENT COMMENT &#39;主键ID&#39;,</span><br><span class="line">  &#96;tenant_id&#96; varchar(128) NOT NULL DEFAULT &#39;&#39; COMMENT &#39;Tenant ID&#39;,</span><br><span class="line">  &#96;quota&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;配额，0表示使用默认值&#39;,</span><br><span class="line">  &#96;usage&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;使用量&#39;,</span><br><span class="line">  &#96;max_size&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;单个配置大小上限，单位为字节，0表示使用默认值&#39;,</span><br><span class="line">  &#96;max_aggr_count&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;聚合子配置最大个数&#39;,</span><br><span class="line">  &#96;max_aggr_size&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;单个聚合数据的子配置大小上限，单位为字节，0表示使用默认值&#39;,</span><br><span class="line">  &#96;max_history_count&#96; int(10) unsigned NOT NULL DEFAULT &#39;0&#39; COMMENT &#39;最大变更历史数量&#39;,</span><br><span class="line">  &#96;gmt_create&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;创建时间&#39;,</span><br><span class="line">  &#96;gmt_modified&#96; datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &#39;修改时间&#39;,</span><br><span class="line">  PRIMARY KEY (&#96;id&#96;),</span><br><span class="line">  UNIQUE KEY &#96;uk_tenant_id&#96; (&#96;tenant_id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8 COLLATE&#x3D;utf8_bin COMMENT&#x3D;&#39;租户容量信息表&#39;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CREATE TABLE &#96;tenant_info&#96; (</span><br><span class="line">  &#96;id&#96; bigint(20) NOT NULL AUTO_INCREMENT COMMENT &#39;id&#39;,</span><br><span class="line">  &#96;kp&#96; varchar(128) NOT NULL COMMENT &#39;kp&#39;,</span><br><span class="line">  &#96;tenant_id&#96; varchar(128) default &#39;&#39; COMMENT &#39;tenant_id&#39;,</span><br><span class="line">  &#96;tenant_name&#96; varchar(128) default &#39;&#39; COMMENT &#39;tenant_name&#39;,</span><br><span class="line">  &#96;tenant_desc&#96; varchar(256) DEFAULT NULL COMMENT &#39;tenant_desc&#39;,</span><br><span class="line">  &#96;create_source&#96; varchar(32) DEFAULT NULL COMMENT &#39;create_source&#39;,</span><br><span class="line">  &#96;gmt_create&#96; bigint(20) NOT NULL COMMENT &#39;创建时间&#39;,</span><br><span class="line">  &#96;gmt_modified&#96; bigint(20) NOT NULL COMMENT &#39;修改时间&#39;,</span><br><span class="line">  PRIMARY KEY (&#96;id&#96;),</span><br><span class="line">  UNIQUE KEY &#96;uk_tenant_info_kptenantid&#96; (&#96;kp&#96;,&#96;tenant_id&#96;),</span><br><span class="line">  KEY &#96;idx_tenant_id&#96; (&#96;tenant_id&#96;)</span><br><span class="line">) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8 COLLATE&#x3D;utf8_bin COMMENT&#x3D;&#39;tenant_info&#39;;</span><br><span class="line"></span><br><span class="line">CREATE TABLE &#96;users&#96; (</span><br><span class="line">&#96;username&#96; varchar(50) NOT NULL PRIMARY KEY,</span><br><span class="line">&#96;password&#96; varchar(500) NOT NULL,</span><br><span class="line">&#96;enabled&#96; boolean NOT NULL</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">CREATE TABLE &#96;roles&#96; (</span><br><span class="line">&#96;username&#96; varchar(50) NOT NULL,</span><br><span class="line">&#96;role&#96; varchar(50) NOT NULL,</span><br><span class="line">UNIQUE INDEX &#96;idx_user_role&#96; (&#96;username&#96; ASC, &#96;role&#96; ASC) USING BTREE</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">CREATE TABLE &#96;permissions&#96; (</span><br><span class="line">    &#96;role&#96; varchar(50) NOT NULL,</span><br><span class="line">    &#96;resource&#96; varchar(255) NOT NULL,</span><br><span class="line">    &#96;action&#96; varchar(8) NOT NULL,</span><br><span class="line">    UNIQUE INDEX &#96;uk_role_permission&#96; (&#96;role&#96;,&#96;resource&#96;,&#96;action&#96;) USING BTREE</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">INSERT INTO users (username, password, enabled) VALUES (&#39;nacos&#39;, &#39;$2a$10$EuWPZHzz32dJN7jexM34MOeYirDdFAZm2kuWj7VEOJhhZkDrxfvUu&#39;, TRUE);</span><br><span class="line"></span><br><span class="line">INSERT INTO roles (username, role) VALUES (&#39;nacos&#39;, &#39;ROLE_ADMIN&#39;);</span><br></pre></td></tr></table></figure><h2 id="部署Nacos"><a href="#部署Nacos" class="headerlink" title="部署Nacos"></a>部署Nacos</h2><h4 id="修改depoly-nacos-nacos-pvc-nfs-yaml"><a href="#修改depoly-nacos-nacos-pvc-nfs-yaml" class="headerlink" title="修改depoly/nacos/nacos-pvc-nfs.yaml"></a>修改depoly/nacos/nacos-pvc-nfs.yaml</h4><p>先给出修改后的代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: nacos-headless</span><br><span class="line">  labels:</span><br><span class="line">    app: nacos</span><br><span class="line">  annotations:</span><br><span class="line">    service.alpha.kubernetes.io&#x2F;tolerate-unready-endpoints: &quot;true&quot;</span><br><span class="line">spec:</span><br><span class="line">  ports:</span><br><span class="line">    - port: 8848</span><br><span class="line">      name: server</span><br><span class="line">      targetPort: 8848</span><br><span class="line">    - port: 7848</span><br><span class="line">      name: rpc</span><br><span class="line">      targetPort: 7848</span><br><span class="line">  clusterIP: None</span><br><span class="line">  selector:</span><br><span class="line">    app: nacos</span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: ConfigMap</span><br><span class="line">metadata:</span><br><span class="line">  name: nacos-cm</span><br><span class="line">data:</span><br><span class="line">  mysql.db.name: &quot;nacos_config&quot;</span><br><span class="line">  mysql.port: &quot;3306&quot;</span><br><span class="line">  mysql.user: &quot;nacos&quot;</span><br><span class="line">  mysql.password: &quot;nacos&quot;</span><br><span class="line">---</span><br><span class="line">apiVersion: apps&#x2F;v1</span><br><span class="line">kind: StatefulSet</span><br><span class="line">metadata:</span><br><span class="line">  name: nacos</span><br><span class="line">spec:</span><br><span class="line">  serviceName: nacos-headless</span><br><span class="line">  replicas: 3</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: nacos</span><br><span class="line">      annotations:</span><br><span class="line">        pod.alpha.kubernetes.io&#x2F;initialized: &quot;true&quot;</span><br><span class="line">    spec:</span><br><span class="line">      affinity:</span><br><span class="line">        podAntiAffinity:</span><br><span class="line">          requiredDuringSchedulingIgnoredDuringExecution:</span><br><span class="line">            - labelSelector:</span><br><span class="line">                matchExpressions:</span><br><span class="line">                  - key: &quot;app&quot;</span><br><span class="line">                    operator: In</span><br><span class="line">                    values:</span><br><span class="line">                      - nacos</span><br><span class="line">              topologyKey: &quot;kubernetes.io&#x2F;hostname&quot;</span><br><span class="line">      serviceAccountName: nfs-client-provisioner</span><br><span class="line">      initContainers:</span><br><span class="line">        - name: peer-finder-plugin-install</span><br><span class="line">          image: nacos&#x2F;nacos-peer-finder-plugin:1.0</span><br><span class="line">          imagePullPolicy: Always</span><br><span class="line">          volumeMounts:</span><br><span class="line">            - mountPath: &quot;&#x2F;home&#x2F;nacos&#x2F;plugins&#x2F;peer-finder&quot;</span><br><span class="line">              name: plugindir</span><br><span class="line">      containers:</span><br><span class="line">        - name: nacos</span><br><span class="line">          imagePullPolicy: Always</span><br><span class="line">          image: nacos&#x2F;nacos-server:latest </span><br><span class="line">          resources:</span><br><span class="line">            requests:</span><br><span class="line">              memory: &quot;2Gi&quot;</span><br><span class="line">              cpu: &quot;500m&quot;</span><br><span class="line">          ports:</span><br><span class="line">            - containerPort: 8848</span><br><span class="line">              name: client-port</span><br><span class="line">            - containerPort: 7848</span><br><span class="line">              name: rpc</span><br><span class="line">          env:</span><br><span class="line">            - name: NACOS_REPLICAS</span><br><span class="line">              value: &quot;3&quot;</span><br><span class="line">            - name: SERVICE_NAME</span><br><span class="line">              value: &quot;nacos-headless&quot;</span><br><span class="line">            - name: DOMAIN_NAME</span><br><span class="line">              value: &quot;cluster.local&quot;</span><br><span class="line">            - name: POD_NAMESPACE</span><br><span class="line">              valueFrom:</span><br><span class="line">                fieldRef:</span><br><span class="line">                  apiVersion: v1</span><br><span class="line">                  fieldPath: metadata.namespace</span><br><span class="line">            - name: MYSQL_SERVICE_DB_NAME</span><br><span class="line">              valueFrom:</span><br><span class="line">                configMapKeyRef:</span><br><span class="line">                  name: nacos-cm</span><br><span class="line">                  key: mysql.db.name</span><br><span class="line">            - name: MYSQL_SERVICE_PORT</span><br><span class="line">              valueFrom:</span><br><span class="line">                configMapKeyRef:</span><br><span class="line">                  name: nacos-cm</span><br><span class="line">                  key: mysql.port</span><br><span class="line">            - name: MYSQL_SERVICE_USER</span><br><span class="line">              valueFrom:</span><br><span class="line">                configMapKeyRef:</span><br><span class="line">                  name: nacos-cm</span><br><span class="line">                  key: mysql.user</span><br><span class="line">            - name: MYSQL_SERVICE_PASSWORD</span><br><span class="line">              valueFrom:</span><br><span class="line">                configMapKeyRef:</span><br><span class="line">                  name: nacos-cm</span><br><span class="line">                  key: mysql.password</span><br><span class="line">            - name: NACOS_SERVER_PORT</span><br><span class="line">              value: &quot;8848&quot;</span><br><span class="line">            - name: NACOS_APPLICATION_PORT</span><br><span class="line">              value: &quot;8848&quot;</span><br><span class="line">            - name: PREFER_HOST_MODE</span><br><span class="line">              value: &quot;hostname&quot;</span><br><span class="line">          volumeMounts:</span><br><span class="line">            - name: plugindir</span><br><span class="line">              mountPath: &#x2F;home&#x2F;nacos&#x2F;plugins&#x2F;peer-finder</span><br><span class="line">            - name: datadir</span><br><span class="line">              mountPath: &#x2F;home&#x2F;nacos&#x2F;data</span><br><span class="line">            - name: logdir</span><br><span class="line">              mountPath: &#x2F;home&#x2F;nacos&#x2F;logs</span><br><span class="line">  volumeClaimTemplates:</span><br><span class="line">    - metadata:</span><br><span class="line">        name: plugindir</span><br><span class="line">        annotations:</span><br><span class="line">          volume.beta.kubernetes.io&#x2F;storage-class: &quot;managed-nfs-storage&quot;</span><br><span class="line">      spec:</span><br><span class="line">        accessModes: [ &quot;ReadWriteMany&quot; ]</span><br><span class="line">        resources:</span><br><span class="line">          requests:</span><br><span class="line">            storage: 5Gi</span><br><span class="line">    - metadata:</span><br><span class="line">        name: datadir</span><br><span class="line">        annotations:</span><br><span class="line">          volume.beta.kubernetes.io&#x2F;storage-class: &quot;managed-nfs-storage&quot;</span><br><span class="line">      spec:</span><br><span class="line">        accessModes: [ &quot;ReadWriteMany&quot; ]</span><br><span class="line">        resources:</span><br><span class="line">          requests:</span><br><span class="line">            storage: 5Gi</span><br><span class="line">    - metadata:</span><br><span class="line">        name: logdir</span><br><span class="line">        annotations:</span><br><span class="line">          volume.beta.kubernetes.io&#x2F;storage-class: &quot;managed-nfs-storage&quot;</span><br><span class="line">      spec:</span><br><span class="line">        accessModes: [ &quot;ReadWriteMany&quot; ]</span><br><span class="line">        resources:</span><br><span class="line">          requests:</span><br><span class="line">            storage: 5Gi</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: nacos</span><br></pre></td></tr></table></figure><blockquote><p>注意修改的点；</p></blockquote><blockquote><p>要注意创建相对应副本数名称为<code>managed-nfs-storage</code> 的pv</p></blockquote><h4 id="创建nacos"><a href="#创建nacos" class="headerlink" title="创建nacos"></a>创建nacos</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl create -f nacos-k8s&#x2F;deploy&#x2F;nacos&#x2F;nacos-pvc-nfs.yaml</span><br></pre></td></tr></table></figure><h4 id="验证Nacos节点启动成功"><a href="#验证Nacos节点启动成功" class="headerlink" title="验证Nacos节点启动成功"></a>验证Nacos节点启动成功</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod -l app&#x3D;nacos</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/k8s/naocs-7.png" alt="github--lena"></p><h2 id="页面访问"><a href="#页面访问" class="headerlink" title="页面访问"></a>页面访问</h2><p>查看nacos服务对外暴露的端口</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get svc -o wide</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/k8s/naocs-8.png" alt="github--lena"></p><h4 id="为nacos创建ingres代理"><a href="#为nacos创建ingres代理" class="headerlink" title="为nacos创建ingres代理"></a>为nacos创建ingres代理</h4><p>nacos-ingress.yaml</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: extensions&#x2F;v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: nacos-ingress</span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io&#x2F;ingress.class: &quot;nginx&quot;</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: www.nacos.com </span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - path: &#x2F;nacos</span><br><span class="line">        backend:</span><br><span class="line">          serviceName: nacos-headless </span><br><span class="line">          servicePort: 8848 </span><br></pre></td></tr></table></figure><p>执行下面命令就可以执行成功了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f nacos-ingress.yaml </span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="如果需要刪除后重建则特别注意"><a href="#如果需要刪除后重建则特别注意" class="headerlink" title="如果需要刪除后重建则特别注意"></a>如果需要刪除后重建则特别注意</h2><h4 id="pv删除"><a href="#pv删除" class="headerlink" title="pv删除"></a>pv删除</h4><p>通过k8s 图形界面存储中删除，删除后红色中横线，并没有删除！</p><h4 id="使用命令查看是否删除完成"><a href="#使用命令查看是否删除完成" class="headerlink" title="使用命令查看是否删除完成"></a>使用命令查看是否删除完成</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pv </span><br></pre></td></tr></table></figure><h4 id="使用命令删除重新创建即可"><a href="#使用命令删除重新创建即可" class="headerlink" title="使用命令删除重新创建即可"></a>使用命令删除重新创建即可</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">kubectl patch pv pvc-122b45c0-78fb-4185-9a29-4b2f023ba25e  -p &#39;&#123;&quot;metadata&quot;:&#123;&quot;finalizers&quot;:null&#125;&#125;&#39;</span><br><span class="line">kubectl patch pv pvc-122b45c0-78fb-4185-9a29-4b2f023ba25e  -p &#39;&#123;&quot;metadata&quot;:&#123;&quot;finalizers&quot;:null&#125;&#125;&#39;</span><br><span class="line">kubectl patch pv pvc-122b45c0-78fb-4185-9a29-4b2f023ba25e  -p &#39;&#123;&quot;metadata&quot;:&#123;&quot;finalizers&quot;:null&#125;&#125;&#39;</span><br><span class="line">kubectl patch pv pvc-122b45c0-78fb-4185-9a29-4b2f023ba25e  -p &#39;&#123;&quot;metadata&quot;:&#123;&quot;finalizers&quot;:null&#125;&#125;&#39;</span><br><span class="line">kubectl patch pv pvc-122b45c0-78fb-4185-9a29-4b2f023ba25e  -p &#39;&#123;&quot;metadata&quot;:&#123;&quot;finalizers&quot;:null&#125;&#125;&#39;</span><br><span class="line">kubectl patch pv pvc-122b45c0-78fb-4185-9a29-4b2f023ba25e  -p &#39;&#123;&quot;metadata&quot;:&#123;&quot;finalizers&quot;:null&#125;&#125;&#39;</span><br><span class="line">kubectl patch pv pvc-122b45c0-78fb-4185-9a29-4b2f023ba25e  -p &#39;&#123;&quot;metadata&quot;:&#123;&quot;finalizers&quot;:null&#125;&#125;&#39;</span><br><span class="line">kubectl patch pv pvc-122b45c0-78fb-4185-9a29-4b2f023ba25e  -p &#39;&#123;&quot;metadata&quot;:&#123;&quot;finalizers&quot;:null&#125;&#125;&#39;</span><br><span class="line">kubectl patch pv pvc-122b45c0-78fb-4185-9a29-4b2f023ba25e  -p &#39;&#123;&quot;metadata&quot;:&#123;&quot;finalizers&quot;:null&#125;&#125;&#39;</span><br><span class="line">kubectl patch pv pvc-122b45c0-78fb-4185-9a29-4b2f023ba25e  -p &#39;&#123;&quot;metadata&quot;:&#123;&quot;finalizers&quot;:null&#125;&#125;&#39;</span><br></pre></td></tr></table></figure><h4 id="创建的过程"><a href="#创建的过程" class="headerlink" title="创建的过程"></a>创建的过程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">1.先删除</span><br><span class="line">kubectl delete  -f deploy&#x2F;nfs&#x2F;class.yaml</span><br><span class="line"></span><br><span class="line">2.创建</span><br><span class="line">kubectl create  -f deploy&#x2F;nfs&#x2F;class.yaml</span><br><span class="line"></span><br><span class="line">3. 删除ServiceAccount 和部署 NFS-Client Provisioner</span><br><span class="line">kubectl delete -f deploy&#x2F;nfs&#x2F;deployment.yaml</span><br><span class="line"></span><br><span class="line">4. 创建ServiceAccount 和部署 NFS-Client Provisioner</span><br><span class="line">kubectl create -f deploy&#x2F;nfs&#x2F;deployment.yaml</span><br><span class="line"></span><br><span class="line">5. 验证NFS部署成功 </span><br><span class="line">kubectl get pod -l app&#x3D;nfs-client-provisioner</span><br><span class="line"></span><br><span class="line">6. 删除数据库</span><br><span class="line">kubectl delete -f deploy&#x2F;mysql&#x2F;mysql-nfs.yaml</span><br><span class="line"></span><br><span class="line">7.安装数据库</span><br><span class="line">kubectl create -f deploy&#x2F;mysql&#x2F;mysql-nfs.yaml</span><br><span class="line"></span><br><span class="line">8. 验证是否成功</span><br><span class="line">kubectl get pod</span><br><span class="line"></span><br><span class="line">9. 建表</span><br><span class="line">进入shell创建</span><br><span class="line"></span><br><span class="line">10.删除nacos集群</span><br><span class="line">kubectl delete -f deploy&#x2F;nacos&#x2F;nacos-pvc-nfs.yaml</span><br><span class="line"></span><br><span class="line">11.创建nacos集群</span><br><span class="line">kubectl create -f deploy&#x2F;nacos&#x2F;nacos-pvc-nfs.yaml</span><br></pre></td></tr></table></figure><blockquote><p>参考：<a href="https://blog.csdn.net/fsjwin/article/details/110503029">https://blog.csdn.net/fsjwin/article/details/110503029</a><br><a href="https://nacos.io/zh-cn/docs/use-nacos-with-kubernetes.html">https://nacos.io/zh-cn/docs/use-nacos-with-kubernetes.html</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Kubernetes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kubernetes </tag>
            
            <tag> nacos </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>K8S 部署 Statefulset mysql</title>
      <link href="p/25e4d739/"/>
      <url>p/25e4d739/</url>
      
        <content type="html"><![CDATA[<h2 id="Statefulset-MySQL"><a href="#Statefulset-MySQL" class="headerlink" title="Statefulset MySQL"></a>Statefulset MySQL</h2><p>此例是多副本的 MySQL 数据库。<br>示例应用的拓扑结构有一个主服务器和多个副本，使用异步的基于行（Row-Based）的数据复制。</p><div class="note warning flat"><p>说明： 这不是生产环境下配置。 尤其注意，MySQL 设置都使用的是不安全的默认值，这是因为我们想把重点放在 Kubernetes 中运行有状态应用程序的一般模式上。</p></div><h2 id="创建存储卷"><a href="#创建存储卷" class="headerlink" title="创建存储卷"></a>创建存储卷</h2><p>集群需要用到存储，准备持久卷（PersistentVolume，简称PV），我这里以yaml文件创建3个PV。如后续伸缩需要更新PersistentVolume 配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">kind: PersistentVolume</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  name: k8s-pv-my1</span><br><span class="line">  labels:</span><br><span class="line">    type: mysql</span><br><span class="line">spec:</span><br><span class="line">  capacity:</span><br><span class="line">    storage: 20Gi</span><br><span class="line">  storageClassName: mysql</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  hostPath:</span><br><span class="line">    path: &quot;&#x2F;var&#x2F;lib&#x2F;mysql&quot;</span><br><span class="line">  persistentVolumeReclaimPolicy: Recycle</span><br><span class="line">---</span><br><span class="line">kind: PersistentVolume</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  name: k8s-pv-my2</span><br><span class="line">  labels:</span><br><span class="line">    type: mysql</span><br><span class="line">spec:</span><br><span class="line">  capacity:</span><br><span class="line">    storage: 20Gi</span><br><span class="line">  storageClassName: mysql</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  hostPath:</span><br><span class="line">    path: &quot;&#x2F;var&#x2F;lib&#x2F;mysql&quot;</span><br><span class="line">  persistentVolumeReclaimPolicy: Recycle</span><br><span class="line">---</span><br><span class="line">kind: PersistentVolume</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  name: k8s-pv-my3</span><br><span class="line">  labels:</span><br><span class="line">    type: mysql</span><br><span class="line">spec:</span><br><span class="line">  capacity:</span><br><span class="line">    storage: 20Gi</span><br><span class="line">  storageClassName: mysql</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  hostPath:</span><br><span class="line">    path: &quot;&#x2F;var&#x2F;lib&#x2F;mysql&quot;</span><br><span class="line">  persistentVolumeReclaimPolicy: Recycle</span><br></pre></td></tr></table></figure><h3 id="部署及存储卷状态查询"><a href="#部署及存储卷状态查询" class="headerlink" title="部署及存储卷状态查询"></a>部署及存储卷状态查询</h3><blockquote><p>注意：如果是使用云服务提供的云盘，注意购买云盘要与node节点使用区一致， 还要注意 node 类型支持那些云盘类型</p></blockquote><p>这里发现pv和pvc还没有绑定状态是Available</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f persistent-volume.yaml</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pv  </span><br></pre></td></tr></table></figure><h2 id="部署-MySQL"><a href="#部署-MySQL" class="headerlink" title="部署 MySQL"></a>部署 MySQL</h2><p>MySQL 示例部署包含一个 ConfigMap、两个 Service 与一个 StatefulSet。</p><h3 id="ConfigMap"><a href="#ConfigMap" class="headerlink" title="ConfigMap"></a>ConfigMap</h3><p>使用以下的 YAML 配置文件创建 ConfigMap ：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: ConfigMap</span><br><span class="line">metadata:</span><br><span class="line">  name: mysql</span><br><span class="line">  labels:</span><br><span class="line">    app: mysql</span><br><span class="line">data:</span><br><span class="line">  master.cnf: |</span><br><span class="line">    # Apply this config only on the master.</span><br><span class="line">    [mysqld]</span><br><span class="line">    log-bin    </span><br><span class="line">  slave.cnf: |</span><br><span class="line">    # Apply this config only on slaves.</span><br><span class="line">    [mysqld]</span><br><span class="line">    super-read-only    </span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f mysql-configmap.yaml </span><br></pre></td></tr></table></figure><p>这个 ConfigMap 提供 <code>my.cnf</code> 覆盖设置，使你可以独立控制 MySQL 主服务器和从服务器的配置。在这里，你希望主服务器能够将复制日志提供给副本服务器，并且希望副本服务器拒绝任何不是通过复制进行的写操作。</p><p>ConfigMap 本身没有什么特别之处，因而也不会出现不同部分应用于不同的 Pod 的情况。每个 Pod 都会在初始化时基于 StatefulSet 控制器提供的信息决定要查看的部分。</p><h3 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h3><p>使用以下 YAML 配置文件创建服务：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># Headless service for stable DNS entries of StatefulSet members.</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: mysql</span><br><span class="line">  labels:</span><br><span class="line">    app: mysql</span><br><span class="line">spec:</span><br><span class="line">  ports:</span><br><span class="line">  - name: mysql</span><br><span class="line">    port: 3306</span><br><span class="line">  clusterIP: None</span><br><span class="line">  selector:</span><br><span class="line">    app: mysql</span><br><span class="line">---</span><br><span class="line"># Client service for connecting to any MySQL instance for reads.</span><br><span class="line"># For writes, you must instead connect to the master: mysql-0.mysql.</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: mysql-read</span><br><span class="line">  labels:</span><br><span class="line">    app: mysql</span><br><span class="line">spec:</span><br><span class="line">  ports:</span><br><span class="line">  - name: mysql</span><br><span class="line">    port: 3306</span><br><span class="line">  selector:</span><br><span class="line">    app: mysql</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f mysql-services.yaml</span><br></pre></td></tr></table></figure><p>这个无头服务给 StatefulSet 控制器为集合中每个 Pod 创建的 DNS 条目提供了一个宿主。因为服务名为 <code>mysql</code>，所以可以通过在同一 Kubernetes 集群和名字中的任何其他 Pod 内解析 <code>&lt;Pod 名称&gt;.mysql</code> 来访问 Pod。</p><p>客户端服务称为 <code>mysql-read</code>，是一种常规服务，具有其自己的集群 IP。该集群 IP 在报告就绪的所有MySQL Pod 之间分配连接。可能的端点集合包括 MySQL 主节点和所有副本节点。</p><p>请注意，只有读查询才能使用负载平衡的客户端服务。因为只有一个 MySQL 主服务器，所以客户端应直接连接到 MySQL 主服务器 Pod（通过其在无头服务中的 DNS 条目）以执行写入操作。</p><h3 id="StatefulSet"><a href="#StatefulSet" class="headerlink" title="StatefulSet"></a>StatefulSet</h3><p>最后，使用以下 YAML 配置文件创建 StatefulSet：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: apps&#x2F;v1</span><br><span class="line">kind: StatefulSet</span><br><span class="line">metadata:</span><br><span class="line">  name: mysql</span><br><span class="line">spec:</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: mysql</span><br><span class="line">  serviceName: mysql</span><br><span class="line">  replicas: 3</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: mysql</span><br><span class="line">    spec:</span><br><span class="line">      initContainers:</span><br><span class="line">      - name: init-mysql</span><br><span class="line">        image: mysql:5.7</span><br><span class="line">        command:</span><br><span class="line">        - bash</span><br><span class="line">        - &quot;-c&quot;</span><br><span class="line">        - |</span><br><span class="line">          set -ex</span><br><span class="line">          # Generate mysql server-id from pod ordinal index.</span><br><span class="line">          [[ &#96;hostname&#96; &#x3D;~ -([0-9]+)$ ]] || exit 1</span><br><span class="line">          ordinal&#x3D;$&#123;BASH_REMATCH[1]&#125;</span><br><span class="line">          echo [mysqld] &gt; &#x2F;mnt&#x2F;conf.d&#x2F;server-id.cnf</span><br><span class="line">          # Add an offset to avoid reserved server-id&#x3D;0 value.</span><br><span class="line">          echo server-id&#x3D;$((100 + $ordinal)) &gt;&gt; &#x2F;mnt&#x2F;conf.d&#x2F;server-id.cnf</span><br><span class="line">          # Copy appropriate conf.d files from config-map to emptyDir.</span><br><span class="line">          if [[ $ordinal -eq 0 ]]; then</span><br><span class="line">            cp &#x2F;mnt&#x2F;config-map&#x2F;master.cnf &#x2F;mnt&#x2F;conf.d&#x2F;</span><br><span class="line">          else</span><br><span class="line">            cp &#x2F;mnt&#x2F;config-map&#x2F;slave.cnf &#x2F;mnt&#x2F;conf.d&#x2F;</span><br><span class="line">          fi          </span><br><span class="line">        volumeMounts:</span><br><span class="line">        - name: conf</span><br><span class="line">          mountPath: &#x2F;mnt&#x2F;conf.d</span><br><span class="line">        - name: config-map</span><br><span class="line">          mountPath: &#x2F;mnt&#x2F;config-map</span><br><span class="line">      - name: clone-mysql</span><br><span class="line">        image: ist0ne&#x2F;xtrabackup:1.0</span><br><span class="line">        command:</span><br><span class="line">        - bash</span><br><span class="line">        - &quot;-c&quot;</span><br><span class="line">        - |</span><br><span class="line">          set -ex</span><br><span class="line">          # Skip the clone if data already exists.</span><br><span class="line">          [[ -d &#x2F;var&#x2F;lib&#x2F;mysql&#x2F;mysql ]] &amp;&amp; exit 0</span><br><span class="line">          # Skip the clone on master (ordinal index 0).</span><br><span class="line">          [[ &#96;hostname&#96; &#x3D;~ -([0-9]+)$ ]] || exit 1</span><br><span class="line">          ordinal&#x3D;$&#123;BASH_REMATCH[1]&#125;</span><br><span class="line">          [[ $ordinal -eq 0 ]] &amp;&amp; exit 0</span><br><span class="line">          # Clone data from previous peer.</span><br><span class="line">          ncat --recv-only mysql-$(($ordinal-1)).mysql 3307 | xbstream -x -C &#x2F;var&#x2F;lib&#x2F;mysql</span><br><span class="line">          # Prepare the backup.</span><br><span class="line">          xtrabackup --prepare --target-dir&#x3D;&#x2F;var&#x2F;lib&#x2F;mysql          </span><br><span class="line">        volumeMounts:</span><br><span class="line">        - name: data</span><br><span class="line">          mountPath: &#x2F;var&#x2F;lib&#x2F;mysql</span><br><span class="line">          subPath: mysql</span><br><span class="line">        - name: conf</span><br><span class="line">          mountPath: &#x2F;etc&#x2F;mysql&#x2F;conf.d</span><br><span class="line">      containers:</span><br><span class="line">      - name: mysql</span><br><span class="line">        image: mysql:5.7</span><br><span class="line">        env:</span><br><span class="line">        - name: MYSQL_ALLOW_EMPTY_PASSWORD</span><br><span class="line">          value: &quot;1&quot;</span><br><span class="line">        ports:</span><br><span class="line">        - name: mysql</span><br><span class="line">          containerPort: 3306</span><br><span class="line">        volumeMounts:</span><br><span class="line">        - name: data</span><br><span class="line">          mountPath: &#x2F;var&#x2F;lib&#x2F;mysql</span><br><span class="line">          subPath: mysql</span><br><span class="line">        - name: conf</span><br><span class="line">          mountPath: &#x2F;etc&#x2F;mysql&#x2F;conf.d</span><br><span class="line">        resources:</span><br><span class="line">          requests:</span><br><span class="line">            cpu: 500m</span><br><span class="line">            memory: 1Gi</span><br><span class="line">        livenessProbe:</span><br><span class="line">          exec:</span><br><span class="line">            command: [&quot;mysqladmin&quot;, &quot;ping&quot;]</span><br><span class="line">          initialDelaySeconds: 30</span><br><span class="line">          periodSeconds: 10</span><br><span class="line">          timeoutSeconds: 5</span><br><span class="line">        readinessProbe:</span><br><span class="line">          exec:</span><br><span class="line">            # Check we can execute queries over TCP (skip-networking is off).</span><br><span class="line">            command: [&quot;mysql&quot;, &quot;-h&quot;, &quot;127.0.0.1&quot;, &quot;-e&quot;, &quot;SELECT 1&quot;]</span><br><span class="line">          initialDelaySeconds: 5</span><br><span class="line">          periodSeconds: 2</span><br><span class="line">          timeoutSeconds: 1</span><br><span class="line">      - name: xtrabackup</span><br><span class="line">        image: ist0ne&#x2F;xtrabackup:1.0</span><br><span class="line">        ports:</span><br><span class="line">        - name: xtrabackup</span><br><span class="line">          containerPort: 3307</span><br><span class="line">        command:</span><br><span class="line">        - bash</span><br><span class="line">        - &quot;-c&quot;</span><br><span class="line">        - |</span><br><span class="line">          set -ex</span><br><span class="line">          cd &#x2F;var&#x2F;lib&#x2F;mysql</span><br><span class="line"></span><br><span class="line">          # Determine binlog position of cloned data, if any.</span><br><span class="line">          if [[ -f xtrabackup_slave_info &amp;&amp; &quot;x$(&lt;xtrabackup_slave_info)&quot; !&#x3D; &quot;x&quot; ]]; then</span><br><span class="line">            # XtraBackup already generated a partial &quot;CHANGE MASTER TO&quot; query</span><br><span class="line">            # because we&#39;re cloning from an existing slave. (Need to remove the tailing semicolon!)</span><br><span class="line">            cat xtrabackup_slave_info | sed -E &#39;s&#x2F;;$&#x2F;&#x2F;g&#39; &gt; change_master_to.sql.in</span><br><span class="line">            # Ignore xtrabackup_binlog_info in this case (it&#39;s useless).</span><br><span class="line">            rm -f xtrabackup_slave_info xtrabackup_binlog_info</span><br><span class="line">          elif [[ -f xtrabackup_binlog_info ]]; then</span><br><span class="line">            # We&#39;re cloning directly from master. Parse binlog position.</span><br><span class="line">            [[ &#96;cat xtrabackup_binlog_info&#96; &#x3D;~ ^(.*?)[[:space:]]+(.*?)$ ]] || exit 1</span><br><span class="line">            rm -f xtrabackup_binlog_info xtrabackup_slave_info</span><br><span class="line">            echo &quot;CHANGE MASTER TO MASTER_LOG_FILE&#x3D;&#39;$&#123;BASH_REMATCH[1]&#125;&#39;,\</span><br><span class="line">                  MASTER_LOG_POS&#x3D;$&#123;BASH_REMATCH[2]&#125;&quot; &gt; change_master_to.sql.in</span><br><span class="line">          fi</span><br><span class="line"></span><br><span class="line">          # Check if we need to complete a clone by starting replication.</span><br><span class="line">          if [[ -f change_master_to.sql.in ]]; then</span><br><span class="line">            echo &quot;Waiting for mysqld to be ready (accepting connections)&quot;</span><br><span class="line">            until mysql -h 127.0.0.1 -e &quot;SELECT 1&quot;; do sleep 1; done</span><br><span class="line"></span><br><span class="line">            echo &quot;Initializing replication from clone position&quot;</span><br><span class="line">            mysql -h 127.0.0.1 \</span><br><span class="line">                  -e &quot;$(&lt;change_master_to.sql.in), \</span><br><span class="line">                          MASTER_HOST&#x3D;&#39;mysql-0.mysql&#39;, \</span><br><span class="line">                          MASTER_USER&#x3D;&#39;root&#39;, \</span><br><span class="line">                          MASTER_PASSWORD&#x3D;&#39;&#39;, \</span><br><span class="line">                          MASTER_CONNECT_RETRY&#x3D;10; \</span><br><span class="line">                        START SLAVE;&quot; || exit 1</span><br><span class="line">            # In case of container restart, attempt this at-most-once.</span><br><span class="line">            mv change_master_to.sql.in change_master_to.sql.orig</span><br><span class="line">          fi</span><br><span class="line"></span><br><span class="line">          # Start a server to send backups when requested by peers.</span><br><span class="line">          exec ncat --listen --keep-open --send-only --max-conns&#x3D;1 3307 -c \</span><br><span class="line">            &quot;xtrabackup --backup --slave-info --stream&#x3D;xbstream --host&#x3D;127.0.0.1 --user&#x3D;root&quot;          </span><br><span class="line">        volumeMounts:</span><br><span class="line">        - name: data</span><br><span class="line">          mountPath: &#x2F;var&#x2F;lib&#x2F;mysql</span><br><span class="line">          subPath: mysql</span><br><span class="line">        - name: conf</span><br><span class="line">          mountPath: &#x2F;etc&#x2F;mysql&#x2F;conf.d</span><br><span class="line">        resources:</span><br><span class="line">          requests:</span><br><span class="line">            cpu: 100m</span><br><span class="line">            memory: 100Mi</span><br><span class="line">      volumes:</span><br><span class="line">      - name: conf</span><br><span class="line">        emptyDir: &#123;&#125;</span><br><span class="line">      - name: config-map</span><br><span class="line">        configMap:</span><br><span class="line">          name: mysql</span><br><span class="line">  volumeClaimTemplates:</span><br><span class="line">  - metadata:</span><br><span class="line">      name: data</span><br><span class="line">    spec:</span><br><span class="line">      storageClassName: mysql</span><br><span class="line">      accessModes: [&quot;ReadWriteOnce&quot;]</span><br><span class="line">      resources:</span><br><span class="line">        requests:</span><br><span class="line">          storage: 20Gi</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f mysql-statefulset.yaml</span><br></pre></td></tr></table></figure><p>你可以通过运行以下命令查看启动进度：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods -l app&#x3D;mysql --watch</span><br></pre></td></tr></table></figure><p>一段时间后，你应该看到所有 3 个 Pod 进入 Running 状态：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">NAME      READY     STATUS    RESTARTS   AGE</span><br><span class="line">mysql-0   2&#x2F;2       Running   0          2m</span><br><span class="line">mysql-1   2&#x2F;2       Running   0          1m</span><br><span class="line">mysql-2   2&#x2F;2       Running   0          1m</span><br></pre></td></tr></table></figure><p>输入 <strong>Ctrl+C</strong> 结束 watch 操作。如果你看不到任何进度，确保已启用 动态 PersistentVolume 预配器。</p><h2 id="了解有状态的-Pod-初始化"><a href="#了解有状态的-Pod-初始化" class="headerlink" title="了解有状态的 Pod 初始化"></a>了解有状态的 Pod 初始化</h2><p>StatefulSet 控制器按序数索引顺序地每次启动一个 Pod。它一直等到每个 Pod 报告就绪才再启动下一个 Pod。</p><p>此外，控制器为每个 Pod 分配一个唯一、稳定的名称，形如 <code>&lt;statefulset 名称&gt;-&lt;序数索引&gt;</code>其结果是 Pods 名为 <code>mysql-0</code>、<code>mysql-1</code> 和 <code>mysql-2</code>。</p><p>上述 StatefulSet 清单中的 Pod 模板利用这些属性来执行 MySQL 副本的有序启动。</p><h3 id="生成配置"><a href="#生成配置" class="headerlink" title="生成配置"></a>生成配置</h3><p>在启动 Pod 规约中的任何容器之前，Pod 首先按顺序运行所有的 Init 容器</p><p>第一个名为 <code>init-mysql</code> 的 Init 容器根据序号索引生成特殊的 MySQL 配置文件。</p><p>该脚本通过从 Pod 名称的末尾提取索引来确定自己的序号索引，而 Pod 名称由 <code>hostname</code> 命令返回。然后将序数（带有数字偏移量以避免保留值）保存到 MySQL conf.d 目录中的文件 server-id.cnf。这一操作将 StatefulSet 所提供的唯一、稳定的标识转换为 MySQL 服务器的 ID，<br>而这些 ID 也是需要唯一性、稳定性保证的。</p><p>通过将内容复制到 conf.d 中，<code>init-mysql</code> 容器中的脚本也可以应用 ConfigMap 中的 <code>primary.cnf</code> 或 <code>replica.cnf</code>。由于示例部署结构由单个 MySQL 主节点和任意数量的副本节点组成，因此脚本仅将序数 <code>0</code> 指定为主节点，而将其他所有节点指定为副本节点。</p><p>与 StatefulSet 控制器的 部署顺序保证相结合，可以确保 MySQL 主服务器在创建副本服务器之前已准备就绪，以便它们可以开始复制。</p><h3 id="克隆现有数据"><a href="#克隆现有数据" class="headerlink" title="克隆现有数据"></a>克隆现有数据</h3><p>通常，当新 Pod 作为副本节点加入集合时，必须假定 MySQL 主节点可能已经有数据。还必须假设复制日志可能不会一直追溯到时间的开始。</p><p>这些保守的假设是允许正在运行的 StatefulSet 随时间扩大和缩小而不是固定在其初始大小的关键。</p><p>第二个名为 <code>clone-mysql</code> 的 Init 容器，第一次在带有空 PersistentVolume 的副本 Pod上启动时，会在从属 Pod 上执行克隆操作。<br>这意味着它将从另一个运行中的 Pod 复制所有现有数据，使此其本地状态足够一致，从而可以开始从主服务器复制。</p><p>MySQL 本身不提供执行此操作的机制，因此本示例使用了一种流行的开源工具 Percona XtraBackup。在克隆期间，源 MySQL 服务器性能可能会受到影响。为了最大程度地减少对 MySQL 主服务器的影响，该脚本指示每个 Pod 从序号较低的 Pod 中克隆。可以这样做的原因是 StatefulSet 控制器始终确保在启动 Pod N + 1 之前 Pod N 已准备就绪。</p><h3 id="开始复制"><a href="#开始复制" class="headerlink" title="开始复制"></a>开始复制</h3><p>Init 容器成功完成后，应用容器将运行。MySQL Pod 由运行实际 <code>mysqld</code> 服务的 <code>mysql</code> 容器和充当的 xtrabackup 容器组成。</p><p><code>xtrabackup</code> sidecar 容器查看克隆的数据文件，并确定是否有必要在副本服务器上初始化 MySQL 复制。如果是这样，它将等待 <code>mysqld</code> 准备就绪，然后使用从 XtraBackup 克隆文件中提取的复制参数执行  <code>CHANGE MASTER TO</code> 和 <code>START SLAVE</code> 命令。</p><p>一旦副本服务器开始复制后，它会记住其 MySQL 主服务器，并且如果服务器重新启动或连接中断也会自动重新连接。另外，因为副本服务器会以其稳定的 DNS 名称查找主服务器（<code>mysql-0.mysql</code>），即使由于重新调度而获得新的 Pod IP，它们也会自动找到主服务器。</p><p>最后，开始复制后，<code>xtrabackup</code> 容器监听来自其他 Pod 的连接，处理其数据克隆请求。如果 StatefulSet 扩大规模，或者下一个 Pod 失去其 PersistentVolumeClaim 并需要重新克隆，则此服务器将无限期保持运行。</p><h2 id="发送客户端请求"><a href="#发送客户端请求" class="headerlink" title="发送客户端请求"></a>发送客户端请求</h2><p>你可以通过运行带有 <code>mysql:5.7</code> 镜像的临时容器并运行 <code>mysql</code> 客户端二进制文件，将测试查询发送到 MySQL 主服务器（主机名 <code>mysql-0.mysql</code>）。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#进入主内部</span><br><span class="line">kubectl exec -it mysql-0  -n &lt;namespace&gt;  -- &#x2F;bin&#x2F;sh</span><br><span class="line"></span><br><span class="line">#执行或者单独另启动一个客户端执行</span><br><span class="line">mysql -h mysql-0.mysql &lt;&lt;EOF</span><br><span class="line">CREATE DATABASE test;</span><br><span class="line">CREATE TABLE test.messages (message VARCHAR(250));</span><br><span class="line">INSERT INTO test.messages VALUES (&#39;hello&#39;);</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p>使用主机名 <code>mysql-read</code> 将测试查询发送到任何报告为就绪的服务器：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#进入主内部</span><br><span class="line">kubectl exec -it mysql-0  -n &lt;namespace&gt;  -- &#x2F;bin&#x2F;sh</span><br><span class="line"></span><br><span class="line">#执行或者单独另启动一个客户端执行</span><br><span class="line">mysql -h mysql-read -e &quot;SELECT * FROM test.messages&quot;</span><br></pre></td></tr></table></figure><p>你应该获得如下输出：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+---------+</span><br><span class="line">| message |</span><br><span class="line">+---------+</span><br><span class="line">| hello   |</span><br><span class="line">+---------+</span><br></pre></td></tr></table></figure><p>为了演示 <code>mysql-read</code> 服务在服务器之间分配连接，你可以在循环中运行 <code>SELECT @@server_id</code>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#进入主内部</span><br><span class="line">kubectl exec -it mysql-0  -n &lt;namespace&gt;  -- &#x2F;bin&#x2F;sh</span><br><span class="line"></span><br><span class="line">#执行或者单独另启动一个客户端执行</span><br><span class="line">bash -ic &quot;while sleep 1; do mysql -h mysql-read -e &#39;SELECT @@server_id,NOW()&#39;; done&quot;</span><br></pre></td></tr></table></figure><p>你应该看到报告的 <code>@@server_id</code> 发生随机变化，因为每次尝试连接时都可能选择了不同的端点：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#如果进入的主执行则结果显示ID&#96;102&#96;与&#96;101&#96;｜另客户端执行 则多显示ID&#96;100&#96;，因为主默认ID&#96;100&#96;</span><br><span class="line">+-------------+---------------------+</span><br><span class="line">| @@server_id | NOW()               |</span><br><span class="line">+-------------+---------------------+</span><br><span class="line">|         102 | 2006-01-02 15:04:06 |</span><br><span class="line">+-------------+---------------------+</span><br><span class="line">+-------------+---------------------+</span><br><span class="line">| @@server_id | NOW()               |</span><br><span class="line">+-------------+---------------------+</span><br><span class="line">|         101 | 2006-01-02 15:04:07 |</span><br><span class="line">+-------------+---------------------+</span><br></pre></td></tr></table></figure><p>要停止循环时可以按 <strong>Ctrl+C</strong> ，但是让它在另一个窗口中运行非常有用，这样你就可以看到以下步骤的效果。</p><h2 id="模拟-Pod-和-Node-的宕机时间"><a href="#模拟-Pod-和-Node-的宕机时间" class="headerlink" title="模拟 Pod 和 Node 的宕机时间"></a>模拟 Pod 和 Node 的宕机时间</h2><p>为了证明从副本节点缓存而不是单个服务器读取数据的可用性提高，请在使 Pod 退出 Ready状态时，保持上述 <code>SELECT @@server_id</code> 循环一直运行。</p><h3 id="破坏就绪态探测"><a href="#破坏就绪态探测" class="headerlink" title="破坏就绪态探测"></a>破坏就绪态探测</h3><p><code>mysql</code> 容器的运行命令 <code>mysql -h 127.0.0.1 -e &#39;SELECT 1&#39;</code>，以确保服务器已启动并能够执行查询。</p><p>迫使就绪态探测失败的一种方法就是中止该命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl exec mysql-2 -c mysql -- mv &#x2F;usr&#x2F;bin&#x2F;mysql &#x2F;usr&#x2F;bin&#x2F;mysql.off</span><br></pre></td></tr></table></figure><p>此命令会进入 Pod <code>mysql-2</code> 的实际容器文件系统，重命名 <code>mysql</code> 命令，导致就绪态探测无法找到它。几秒钟后， Pod 会报告其中一个容器未就绪。你可以通过运行以下命令进行检查：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod mysql-2</span><br></pre></td></tr></table></figure><p>在 <code>READY</code> 列中查找 <code> 1/2</code> ：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NAME      READY     STATUS    RESTARTS   AGE</span><br><span class="line">mysql-2   1&#x2F;2       Running   0          3m</span><br></pre></td></tr></table></figure><p>此时，你应该会看到 <code>SELECT @@server_id</code> 循环继续运行，尽管它不再报告 <code>102</code>。回想一下，<code>init-mysql</code> 脚本将 <code>server-id</code> 定义为 <code>100 + $ordinal</code>，因此服务器 ID <code>102</code> 对应于 Pod <code>mysql-2</code>。</p><p>现在修复 Pod，几秒钟后它应该重新出现在循环输出中：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl exec mysql-2 -c mysql -- mv &#x2F;usr&#x2F;bin&#x2F;mysql.off &#x2F;usr&#x2F;bin&#x2F;mysql</span><br></pre></td></tr></table></figure><h3 id="删除-Pods"><a href="#删除-Pods" class="headerlink" title="删除 Pods"></a>删除 Pods</h3><p>如果删除了 Pod，则 StatefulSet 还会重新创建 Pod，类似于 ReplicaSet 对无状态 Pod 所做的操作。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl delete pod mysql-2</span><br></pre></td></tr></table></figure><p>StatefulSet 控制器注意到不再存在 <code>mysql-2</code> Pod，于是创建一个具有相同名称并链接到相同PersistentVolumeClaim 的新 Pod。你应该看到服务器 ID <code>102</code> 从循环输出中消失了一段时间，然后又自行出现。</p><h3 id="腾空节点"><a href="#腾空节点" class="headerlink" title="腾空节点"></a>腾空节点</h3><p>如果你的 Kubernetes 其中一个节点 设置<code>不可调度</code>，则可以通过发出以下命令来模拟节点停机（就好像节点在被升级）。</p><p>首先确定 MySQL Pod 之一在哪个节点上：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod mysql-2 -o wide</span><br></pre></td></tr></table></figure><p>节点名称应显示在最后一列中：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NAME      READY     STATUS    RESTARTS   AGE       IP            NODE</span><br><span class="line">mysql-2   2&#x2F;2       Running   0          15m       10.244.5.27   kubernetes-node-9l2t</span><br></pre></td></tr></table></figure><p>然后通过运行以下命令腾空节点，该命令将其保护起来，以使新的 Pod 不能调度到该节点，然后逐出所有现有的 Pod。将 <code>&lt;节点名称&gt;</code> 替换为在上一步中找到的节点名称。</p><p>这可能会影响节点上的其他应用程序，因此最好 <code>仅在测试集群中执行此操作</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl drain &lt;节点名称&gt; --force --delete-local-data --ignore-daemonsets</span><br></pre></td></tr></table></figure><p>现在，你可以看到 Pod 被重新调度到其他节点上：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod mysql-2 -o wide --watch</span><br></pre></td></tr></table></figure><p>它看起来应该像这样：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">NAME      READY   STATUS          RESTARTS   AGE       IP            NODE</span><br><span class="line">mysql-2   2&#x2F;2     Terminating     0          15m       10.244.1.56   kubernetes-node-9l2t</span><br><span class="line">[...]</span><br><span class="line">mysql-2   0&#x2F;2     Pending         0          0s        &lt;none&gt;        kubernetes-node-fjlm</span><br><span class="line">mysql-2   0&#x2F;2     Init:0&#x2F;2        0          0s        &lt;none&gt;        kubernetes-node-fjlm</span><br><span class="line">mysql-2   0&#x2F;2     Init:1&#x2F;2        0          20s       10.244.5.32   kubernetes-node-fjlm</span><br><span class="line">mysql-2   0&#x2F;2     PodInitializing 0          21s       10.244.5.32   kubernetes-node-fjlm</span><br><span class="line">mysql-2   1&#x2F;2     Running         0          22s       10.244.5.32   kubernetes-node-fjlm</span><br><span class="line">mysql-2   2&#x2F;2     Running         0          30s       10.244.5.32   kubernetes-node-fjlm</span><br></pre></td></tr></table></figure><p>再次，你应该看到服务器 ID <code>102</code> 从 <code>SELECT @@server_id</code> 循环输出中消失一段时间，然后自行出现。</p><p>现在去掉节点保护（Uncordon），使其恢复为正常模式:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl uncordon &lt;节点名称&gt;</span><br></pre></td></tr></table></figure><h2 id="扩展副本节点数量"><a href="#扩展副本节点数量" class="headerlink" title="扩展副本节点数量"></a>扩展副本节点数量</h2><p>使用 MySQL 复制，你可以通过添加副本节点来扩展读取查询的能力。使用 StatefulSet，你可以使用单个命令执行此操作：</p><blockquote><p>注意：要有满足伸缩的 PersistentVolume  配置</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl scale statefulset mysql --replicas&#x3D;5</span><br></pre></td></tr></table></figure><p>查看新的 Pod 的运行情况：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods -l app&#x3D;mysql --watch</span><br></pre></td></tr></table></figure><p>一旦 Pod 启动，你应该看到服务器 IDs <code>103</code> 和 <code>104</code> 开始出现在 <code>SELECT @@server_id</code> 循环输出中。</p><p>你还可以验证这些新服务器在存在之前已添加了数据：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#进入主内部</span><br><span class="line">kubectl exec -it mysql-0  -n &lt;namespace&gt;  -- &#x2F;bin&#x2F;sh</span><br><span class="line"></span><br><span class="line">#执行或者单独另启动一个客户端执行</span><br><span class="line">mysql -h mysql-3.mysql -e &quot;SELECT * FROM test.messages&quot;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+---------+</span><br><span class="line">| message |</span><br><span class="line">+---------+</span><br><span class="line">| hello   |</span><br><span class="line">+---------+</span><br></pre></td></tr></table></figure><p>向下缩容操作也是很平滑的：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl scale statefulset mysql --replicas&#x3D;3</span><br></pre></td></tr></table></figure><p>但是请注意，按比例扩大会自动创建新的 PersistentVolumeClaims，而按比例缩小不会自动删除这些 PVC。这使你可以选择保留那些初始化的 PVC，以更快地进行缩放，或者在删除它们之前提取数据。</p><p>你可以通过运行以下命令查看此信息：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pvc -l app&#x3D;mysql</span><br></pre></td></tr></table></figure><p>这表明，尽管将 StatefulSet 缩小为3，所有5个 PVC 仍然存在：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NAME           STATUS    VOLUME                                     CAPACITY   ACCESSMODES   AGE</span><br><span class="line">data-mysql-0   Bound     pvc-8acbf5dc-b103-11e6-93fa-42010a800002   10Gi       RWO           20m</span><br><span class="line">data-mysql-1   Bound     pvc-8ad39820-b103-11e6-93fa-42010a800002   10Gi       RWO           20m</span><br><span class="line">data-mysql-2   Bound     pvc-8ad69a6d-b103-11e6-93fa-42010a800002   10Gi       RWO           20m</span><br><span class="line">data-mysql-3   Bound     pvc-50043c45-b1c5-11e6-93fa-42010a800002   10Gi       RWO           2m</span><br><span class="line">data-mysql-4   Bound     pvc-500a9957-b1c5-11e6-93fa-42010a800002   10Gi       RWO           2m</span><br></pre></td></tr></table></figure><p>如果你不打算重复使用多余的 PVC，则可以删除它们：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl delete pvc data-mysql-3</span><br><span class="line">kubectl delete pvc data-mysql-4</span><br></pre></td></tr></table></figure><ol><li><p>通过在终端上按 <strong>Ctrl+C</strong> 取消 <code>SELECT @@server_id</code> 循环，或从另一个终端运行以下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl delete pod mysql-client-loop --now</span><br></pre></td></tr></table></figure></li><li><p>删除 StatefulSet。这也会开始终止 Pod。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl delete statefulset mysql</span><br></pre></td></tr></table></figure></li><li><p>验证 Pod 消失。他们可能需要一些时间才能完成终止。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods -l app&#x3D;mysql</span><br></pre></td></tr></table></figure><p>当上述命令返回如下内容时，你就知道 Pod 已终止：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">No resources found.</span><br></pre></td></tr></table></figure></li><li><p>删除 ConfigMap、Services 和 PersistentVolumeClaims。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl delete configmap,service,pvc -l app&#x3D;mysql</span><br></pre></td></tr></table></figure></li><li><p>如果你手动供应 PersistentVolume，则还需要手动删除它们，并释放下层资源。如果你使用了动态预配器，当得知你删除 PersistentVolumeClaims 时，它将自动删除 PersistentVolumes。一些动态预配器（例如用于 EBS 和 PD 的预配器）也会在删除 PersistentVolumes 时释放下层资源。</p></li></ol><blockquote><p>详细参考：<a href="https://kubernetes.io/zh/docs/tasks/run-application/run-replicated-stateful-application/">https://kubernetes.io/zh/docs/tasks/run-application/run-replicated-stateful-application/</a><br><a href="https://kubernetes.io/zh/docs/concepts/storage/persistent-volumes/">https://kubernetes.io/zh/docs/concepts/storage/persistent-volumes/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Kubernetes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kubernetes </tag>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>K8S基于ingress-nginx实现灰度发布</title>
      <link href="p/a6d2532/"/>
      <url>p/a6d2532/</url>
      
        <content type="html"><![CDATA[<h2 id="注解说明"><a href="#注解说明" class="headerlink" title="注解说明"></a>注解说明</h2><p>通过给 Ingress 资源指定 Nginx Ingress 所支持的 annotation 可实现金丝雀发布。需给服务创建2个 Ingress，其中1个常规 Ingress，另1个为<code>nginx.ingress.kubernetes.io/canary: &quot;true&quot;</code>· 固定的 annotation 的 Ingress，称为 Canary Ingress。Canary Ingress 一般代表新版本的服务，结合另外针对流量切分策略的 annotation 一起配置即可实现多种场景的金丝雀发布。以下为相关 annotation 的详细介绍：</p><ul><li><code>nginx.ingress.kubernetes.io/canary-by-header</code><br>表示如果请求头中包含指定的 header 名称，并且值为 always，就将该请求转发给该 Ingress 定义的对应后端服务。如果值为 never 则不转发，可以用于回滚到旧版。如果为其他值则忽略该 annotation。</li><li><code>nginx.ingress.kubernetes.io/canary-by-header-value</code><br>该 annotation 可以作为 canary-by-header 的补充，可指定请求头为自定义值，包含但不限于 always 或 never。当请求头的值命中指定的自定义值时，请求将会转发给该 Ingress 定义的对应后端服务，如果是其它值则忽略该 annotation。</li><li><code>nginx.ingress.kubernetes.io/canary-by-header-pattern</code><br>与 canary-by-header-value 类似，区别为该 annotation 用正则表达式匹配请求头的值，而不是只固定某一个值。如果该 annotation 与 canary-by-header-value 同时存在，该 annotation 将被忽略。</li><li><code>nginx.ingress.kubernetes.io/canary-by-cookie</code><br>与 canary-by-header 类似，该 annotation 用于 cookie，仅支持 always 和 never。</li><li><code>nginx.ingress.kubernetes.io/canary-weight</code><br>表示 Canary Ingress 所分配流量的比例的百分比，取值范围 [0-100]。例如，设置为10，则表示分配10%的流量给 Canary Ingress 对应的后端服务。</li></ul><blockquote><p>说明：<br>以上规则会按优先顺序进行评估，优先顺序为： <code>canary-by-header -&gt; canary-by-cookie -&gt; canary-weight</code>。<br>当 Ingress 被标记为 Canary Ingress 时，除了 <code>nginx.ingress.kubernetes.io/load-balance</code> 和 <code>nginx.ingress.kubernetes.io/upstream-hash-by</code> 外，所有其他非 Canary 注释都将被忽略。</p></blockquote><p>可以把以上的四个 <code>annotation</code> 分为三类：</p><ol><li>基于Request Header的流量切分，适用于灰度发布以及AB测试场景</li><li>基于Cookie的流量切分，适用于灰度发布以及AB测试场景</li><li>基于服务权重的流量切分，适用于蓝绿发布场景</li></ol><p>总体划分为以下两大类：</p><ol><li><p>基于权重的 Canary 规则<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/Canary-weight.jpg" alt="github--lena"></p></li><li><p>基于用户请求的 Canary 规则<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/Canary-cookie.jpg" alt="github--lena"></p></li></ol><blockquote><p>注意： Ingress-Nginx 实在0.21.0 版本 中，引入的Canary 功能，因此要确保ingress版本OK</p></blockquote><h2 id="部署正式版本服务"><a href="#部署正式版本服务" class="headerlink" title="部署正式版本服务"></a>部署正式版本服务</h2><p>首先创建一个 deployment 代表正式版本的服务，编写 yaml 内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Namespace</span><br><span class="line">metadata:</span><br><span class="line">  name: ns-myapp</span><br><span class="line">  labels:</span><br><span class="line">    name: ns-myapp</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line">apiVersion: apps&#x2F;v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: production</span><br><span class="line">  namespace: ns-myapp</span><br><span class="line">spec:</span><br><span class="line">  replicas: 1</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: production</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: production</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: production</span><br><span class="line">        image: mirrorgooglecontainers&#x2F;echoserver:1.10</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 8080</span><br><span class="line">        env:</span><br><span class="line">          - name: NODE_NAME</span><br><span class="line">            valueFrom:</span><br><span class="line">              fieldRef:</span><br><span class="line">                fieldPath: spec.nodeName</span><br><span class="line">          - name: POD_NAME</span><br><span class="line">            valueFrom:</span><br><span class="line">              fieldRef:</span><br><span class="line">                fieldPath: metadata.name</span><br><span class="line">          - name: POD_NAMESPACE</span><br><span class="line">            valueFrom:</span><br><span class="line">              fieldRef:</span><br><span class="line">                fieldPath: metadata.namespace</span><br><span class="line">          - name: POD_IP</span><br><span class="line">            valueFrom:</span><br><span class="line">              fieldRef:</span><br><span class="line">                fieldPath: status.podIP</span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: production</span><br><span class="line">  namespace: ns-myapp</span><br><span class="line">  labels:</span><br><span class="line">    app: production</span><br><span class="line">spec:</span><br><span class="line">  ports:</span><br><span class="line">  - port: 80</span><br><span class="line">    targetPort: 8080</span><br><span class="line">    protocol: TCP</span><br><span class="line">    name: http</span><br><span class="line">  selector:</span><br><span class="line">    app: production</span><br><span class="line">    </span><br></pre></td></tr></table></figure><p>为这个服务创建 Ingress 路由规则，yaml 文件内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: extensions&#x2F;v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: production</span><br><span class="line">  namespace: ns-myapp</span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io&#x2F;ingress.class: nginx</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: ingress.test.com</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - backend:</span><br><span class="line">          serviceName: production</span><br><span class="line">          servicePort: 80</span><br><span class="line">          </span><br></pre></td></tr></table></figure><p>应用以上 yaml 文件，创建完成后在 k8s 中查看到如下信息：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[k8s-master ~]# kubectl get ingress -n ns-myapp</span><br><span class="line">NAME         CLASS    HOSTS              ADDRESS        PORTS   AGE</span><br><span class="line">production   &lt;none&gt;   ingress.test.com   10.16.13.201   80      4m25s</span><br><span class="line"></span><br><span class="line">[k8s-master ~]# kubectl get pod -n ns-myapp</span><br><span class="line">NAME                          READY   STATUS    RESTARTS   AGE</span><br><span class="line">production-5698c4565c-jmjn5   1&#x2F;1     Running   0          7m11s</span><br></pre></td></tr></table></figure><p>此时在命令行中访问 <code>ingress.test.com</code> 可以看到如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># curl ingress.test.com</span><br><span class="line"></span><br><span class="line">Hostname: production-5698c4565c-jmjn5</span><br><span class="line"></span><br><span class="line">Pod Information:</span><br><span class="line">    node name:  dumlog013201</span><br><span class="line">    pod name:   production-5698c4565c-jmjn5</span><br><span class="line">    pod namespace:  ns-myapp</span><br><span class="line">    pod IP: 10.42.0.74</span><br><span class="line"></span><br><span class="line">Server values:</span><br><span class="line">    server_version&#x3D;nginx: 1.13.3 - lua: 10008</span><br><span class="line"></span><br><span class="line">Request Information:</span><br><span class="line">    client_address&#x3D;10.16.13.201</span><br><span class="line">    method&#x3D;GET</span><br><span class="line">    real path&#x3D;&#x2F;</span><br><span class="line">    query&#x3D;</span><br><span class="line">    request_version&#x3D;1.1</span><br><span class="line">    request_scheme&#x3D;http</span><br><span class="line">    request_uri&#x3D;http:&#x2F;&#x2F;ingress.test.com:8080&#x2F;</span><br><span class="line"></span><br><span class="line">Request Headers:</span><br><span class="line">    accept&#x3D;*&#x2F;*</span><br><span class="line">    host&#x3D;ingress.test.com</span><br><span class="line">    user-agent&#x3D;curl&#x2F;7.64.1</span><br><span class="line">    x-forwarded-for&#x3D;10.2.130.18</span><br><span class="line">    x-forwarded-host&#x3D;ingress.test.com</span><br><span class="line">    x-forwarded-port&#x3D;80</span><br><span class="line">    x-forwarded-proto&#x3D;http</span><br><span class="line">    x-real-ip&#x3D;10.2.130.18</span><br><span class="line">    x-request-id&#x3D;3019362be59228ee2284f5737fa39eb1</span><br><span class="line">    x-scheme&#x3D;http</span><br><span class="line"></span><br><span class="line">Request Body:</span><br><span class="line">    -no body in request-</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="部署-Canary-版本服务"><a href="#部署-Canary-版本服务" class="headerlink" title="部署 Canary 版本服务"></a>部署 Canary 版本服务</h2><p>接下来创建一个 Canary 版本的服务，用于作为灰度测试。</p><p>参考将上述 Production 版本的 <code>production.yaml</code> 文件，再创建一个 Canary 版本的应用，包括一个 Canary 版本的 <code>deployment</code> 和 <code>service</code> (为方便快速演示，仅需将 production.yaml 的 <code>deployment</code>和 <code>service</code> 中的关键字 <code>production</code> 直接替换为 <code>canary</code>，实际场景中可能涉及业务代码变更)。</p><h3 id="基于权重的-Canary-规则测试"><a href="#基于权重的-Canary-规则测试" class="headerlink" title="基于权重的 Canary 规则测试"></a>基于权重的 Canary 规则测试</h3><p>基于权重的流量切分的典型应用场景就是<code>蓝绿部署</code>，可通过将权重设置为 0 或 100 来实现。例如，可将 Green 版本设置为主要部分，并将 Blue 版本的入口配置为 Canary。最初，将权重设置为 0，因此不会将流量代理到 Blue 版本。一旦新版本测试和验证都成功后，即可将 Blue 版本的权重设置为 100，即所有流量从 Green 版本转向 Blue。</p><p>使用以下 <code>canary.ingress</code> 的 yaml 文件再创建一个基于权重的 Canary 版本的应用路由 (Ingress)。</p><blockquote><p>注意：要开启灰度发布机制，首先需设置 <code>nginx.ingress.kubernetes.io/canary: &quot;true&quot;</code> 启用 Canary，以下 Ingress 示例的 Canary 版本使用了基于权重进行流量切分的 annotation 规则，将分配 30% 的流量请求发送至 Canary 版本。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: extensions&#x2F;v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: canary</span><br><span class="line">  namespace: ns-myapp</span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io&#x2F;ingress.class: nginx</span><br><span class="line">    nginx.ingress.kubernetes.io&#x2F;canary: &quot;true&quot;</span><br><span class="line">    nginx.ingress.kubernetes.io&#x2F;canary-weight: &quot;30&quot;</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: ingress.test.com</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - backend:</span><br><span class="line">          serviceName: canary</span><br><span class="line">          servicePort: 80</span><br></pre></td></tr></table></figure><p>接下来在命令行中使用如下命令访问域名 ingress.test.com 100次，计算每个版本分配流量的占比：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c&#x3D;0;p&#x3D;0;for i in $(seq 100); do result&#x3D;$(curl -s ingress.test.com | grep  Hostname | awk -F: &#39;&#123;print $2&#125;&#39;); [[ $&#123;result&#125; &#x3D;~ ^[[:space:]]canary ]] &amp;&amp; let c++ || let p++; done;echo &quot;production:$&#123;p&#125;; canary:$&#123;c&#125;;&quot;</span><br></pre></td></tr></table></figure><p>可以得到如下结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">production:73; canary:28;</span><br></pre></td></tr></table></figure><p>注意这里权重不是一个精确的百分比，使用过程当中，只是会看到一个近似分布。</p><h3 id="基于用户请求的-Canary-规则测试"><a href="#基于用户请求的-Canary-规则测试" class="headerlink" title="基于用户请求的 Canary 规则测试"></a>基于用户请求的 Canary 规则测试</h3><h4 id="基于-Resquest-Header"><a href="#基于-Resquest-Header" class="headerlink" title="基于 Resquest Header"></a>基于 Resquest Header</h4><p>基于 Request Header 进行流量切分的典型应用场景即<code>灰度发布或 A/B 测试场景</code>。</p><p>给 Canary 版本的 Ingress 新增一条 annotation ：<code>nginx.ingress.kubernetes.io/canary-by-header: canary</code>（这里的 annotation 的 value 可以是任意值），使当前的 Ingress 实现基于 Request Header 进行流量切分。</p><p>将 Canary 版本 Ingress 的 yaml 文件修改为如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: extensions&#x2F;v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: canary</span><br><span class="line">  namespace: ns-myapp</span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io&#x2F;ingress.class: nginx</span><br><span class="line">    nginx.ingress.kubernetes.io&#x2F;canary: &quot;true&quot;</span><br><span class="line">    nginx.ingress.kubernetes.io&#x2F;canary-weight: &quot;30&quot;</span><br><span class="line">    nginx.ingress.kubernetes.io&#x2F;canary-by-header: &quot;canary&quot;</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: ingress.test.com</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - backend:</span><br><span class="line">          serviceName: canary</span><br><span class="line">          servicePort: 80</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>说明：金丝雀规则按优先顺序 canary-by-header - &gt; canary-by-cookie - &gt; canary-weight 进行如下排序，因此上面的 ingress 将忽略原有 canary-weight 的规则。</p></blockquote><p>由于上面的 ingress 规则中没有对 canary-by-header: <code>canary</code> 提供具体的值，也就是 <code>nginx.ingress.kubernetes.io/canary-by-header-value</code> 规则，所以在访问的时候，只可以为 <code>canary</code> 赋值 <code>never</code> 或 <code>always</code>，当 header 信息为 <code>canary:never</code> 时，请求将不会发送到 canary 版本；当 header 信息为 <code>canary:always</code> 时，请求将会一直发送到 canary 版本。示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[k8s-master ~ ]# curl -s -H &quot;canary:never&quot; ingress.test.com | grep Hostname</span><br><span class="line">Hostname: production-5698c4565c-jmjn5</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[k8s-master ~ ]# curl -s -H &quot;canary:always&quot; ingress.test.com | grep Hostname</span><br><span class="line">Hostname: canary-79c899d85-992nw</span><br></pre></td></tr></table></figure><p>也可以在上一个 annotation （即 canary-by-header）的基础上添加一条 <code>nginx.ingress.kubernetes.io/canary-by-header-value: user-value</code> 。用于通知 Ingress 将匹配到的请求路由到 Canary Ingress 中指定的服务。</p><p>将 Canary 版本 Ingress 的 yaml 文件修改为如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: extensions&#x2F;v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: canary</span><br><span class="line">  namespace: ns-myapp</span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io&#x2F;ingress.class: nginx</span><br><span class="line">    nginx.ingress.kubernetes.io&#x2F;canary: &quot;true&quot;</span><br><span class="line">    nginx.ingress.kubernetes.io&#x2F;canary-weight: &quot;30&quot;</span><br><span class="line">    nginx.ingress.kubernetes.io&#x2F;canary-by-header: &quot;canary&quot;</span><br><span class="line">    nginx.ingress.kubernetes.io&#x2F;canary-by-header-value: &quot;true&quot;</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: ingress.test.com</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - backend:</span><br><span class="line">          serviceName: canary</span><br><span class="line">          servicePort: 80</span><br></pre></td></tr></table></figure><p>上面的 ingress 规则设置了 header 信息为 <code>canary:true</code>，也就是只有满足这个 header 值时才会路由到 canary 版本。示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[k8s-master ~ ]# curl -s ingress.test.com | grep Hostname</span><br><span class="line">Hostname: production-5698c4565c-jmjn5</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[k8s-master ~ ]# curl -s -H &quot;canary:test&quot; ingress.test.com | grep Hostname</span><br><span class="line">Hostname: production-5698c4565c-jmjn5</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[k8s-master ~ ]# curl -s -H &quot;canary:true&quot; ingress.test.com | grep Hostname</span><br><span class="line">Hostname: canary-79c899d85-992nw</span><br></pre></td></tr></table></figure><h4 id="基于-Cookie-的-Canary-规则测试"><a href="#基于-Cookie-的-Canary-规则测试" class="headerlink" title="基于 Cookie 的 Canary 规则测试"></a>基于 Cookie 的 Canary 规则测试</h4><p>与基于 Request Header 的 annotation 用法规则类似。例如在 <code>A/B 测试场景</code> 下，需要让地域为北京的用户访问 Canary 版本。那么当 cookie 的 annotation 设置为 <code>nginx.ingress.kubernetes.io/canary-by-cookie: &quot;users_from_Beijing&quot;</code>，此时后台可对登录的用户请求进行检查，如果该用户访问源来自北京则设置 <code>cookieusers_from_Beijing</code> 的值为 <code>always</code>，这样就可以确保北京的用户仅访问 Canary 版本。</p><p>将 Canary 版本 Ingress 的 yaml 文件修改为如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: extensions&#x2F;v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: canary</span><br><span class="line">  namespace: ns-myapp</span><br><span class="line">  annotations:</span><br><span class="line">    kubernetes.io&#x2F;ingress.class: nginx</span><br><span class="line">    nginx.ingress.kubernetes.io&#x2F;canary: &quot;true&quot;</span><br><span class="line">    nginx.ingress.kubernetes.io&#x2F;canary-by-cookie: &quot;user_from_beijing&quot;</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: ingress.test.com</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - backend:</span><br><span class="line">          serviceName: canary</span><br><span class="line">          servicePort: 80</span><br></pre></td></tr></table></figure><p>访问示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[k8s-master ~ ]# curl -s -b &quot;user_from_beijing&#x3D;always&quot; ingress.test.com | grep Hostname</span><br><span class="line">Hostname: canary-79c899d85-992nw</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[k8s-master ~ ]# curl -s -b &quot;user_from_beijing&#x3D;no&quot; ingress.test.com | grep Hostname</span><br><span class="line">Hostname: production-5698c4565c-jmjn5</span><br></pre></td></tr></table></figure><blockquote><p>多实例Ingress controllers 参考<br><a href="https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/#canary">https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/#canary</a><br><a href="https://cloud.tencent.com/document/product/457/48907">https://cloud.tencent.com/document/product/457/48907</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Kubernetes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kubernetes </tag>
            
            <tag> ingress-nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>K8S 部署 Statefulset zookeeper</title>
      <link href="p/b8e5c788/"/>
      <url>p/b8e5c788/</url>
      
        <content type="html"><![CDATA[<h2 id="创建存储卷"><a href="#创建存储卷" class="headerlink" title="创建存储卷"></a>创建存储卷</h2><p>Zookeeper集群需要用到存储，这里需要准备持久卷（PersistentVolume，简称PV），我这里以yaml文件创建3个PV，供待会儿3个Zookeeper节点创建出来的持久卷声明</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">kind: PersistentVolume</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  name: k8s-pv-zk1</span><br><span class="line">  annotations:</span><br><span class="line">    volume.beta.kubernetes.io&#x2F;storage-class: &quot;anything&quot;</span><br><span class="line">  labels:</span><br><span class="line">    type: zookeeper</span><br><span class="line">spec:</span><br><span class="line">  capacity:</span><br><span class="line">    storage: 3Gi</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  hostPath:</span><br><span class="line">    path: &quot;&#x2F;var&#x2F;lib&#x2F;zookeeper&quot;</span><br><span class="line">  persistentVolumeReclaimPolicy: Retain</span><br><span class="line">---</span><br><span class="line">kind: PersistentVolume</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  name: k8s-pv-zk2</span><br><span class="line">  annotations:</span><br><span class="line">    volume.beta.kubernetes.io&#x2F;storage-class: &quot;anything&quot;</span><br><span class="line">  labels:</span><br><span class="line">    type: zookeeper</span><br><span class="line">spec:</span><br><span class="line">  capacity:</span><br><span class="line">    storage: 3Gi</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  hostPath:</span><br><span class="line">    path: &quot;&#x2F;var&#x2F;lib&#x2F;zookeeper&quot;</span><br><span class="line">  persistentVolumeReclaimPolicy: Retain</span><br><span class="line">---</span><br><span class="line">kind: PersistentVolume</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  name: k8s-pv-zk3</span><br><span class="line">  annotations:</span><br><span class="line">    volume.beta.kubernetes.io&#x2F;storage-class: &quot;anything&quot;</span><br><span class="line">  labels:</span><br><span class="line">    type: zookeeper</span><br><span class="line">spec:</span><br><span class="line">  capacity:</span><br><span class="line">    storage: 3Gi</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  hostPath:</span><br><span class="line">    path: &quot;&#x2F;var&#x2F;lib&#x2F;zookeeper&quot;</span><br><span class="line">  persistentVolumeReclaimPolicy: Retain</span><br></pre></td></tr></table></figure><h3 id="部署及存储卷状态查询"><a href="#部署及存储卷状态查询" class="headerlink" title="部署及存储卷状态查询"></a>部署及存储卷状态查询</h3><p>这里发现pv和pvc还没有绑定状态是Available</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f persistent-volume.yaml </span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pv </span><br></pre></td></tr></table></figure><h2 id="新版本创建卷及使用"><a href="#新版本创建卷及使用" class="headerlink" title="新版本创建卷及使用"></a>新版本创建卷及使用</h2><p>建议使用新版创建</p><blockquote><p>Kubernetes 使用注解 <code>volume.beta.kubernetes.io/storage-class</code> 而不是 <code>storageClassName</code> 属性。这一注解目前仍然起作用，不过在将来的 Kubernetes 发布版本中该注解会被彻底废弃。</p></blockquote><h3 id="创建卷"><a href="#创建卷" class="headerlink" title="创建卷"></a>创建卷</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">kind: PersistentVolume</span><br><span class="line">apiVersion: v1</span><br><span class="line">metadata:</span><br><span class="line">  name: k8s-pv-zk1</span><br><span class="line">  labels:</span><br><span class="line">    type: zookeeper</span><br><span class="line">spec:</span><br><span class="line">  storageClassName: disk</span><br><span class="line">  capacity:</span><br><span class="line">    storage: 3Gi</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  hostPath:</span><br><span class="line">    path: &quot;&#x2F;var&#x2F;lib&#x2F;zookeeper&quot;</span><br><span class="line">  persistentVolumeReclaimPolicy: Retain</span><br></pre></td></tr></table></figure><h4 id="存储声明"><a href="#存储声明" class="headerlink" title="存储声明"></a>存储声明</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: PersistentVolumeClaim</span><br><span class="line">metadata:</span><br><span class="line">  name: datadir</span><br><span class="line">spec:</span><br><span class="line">  storageClassName: disk</span><br><span class="line">  accessModes:</span><br><span class="line">    - ReadWriteOnce</span><br><span class="line">  resources:</span><br><span class="line">    requests:</span><br><span class="line">      storage: 3Gi</span><br></pre></td></tr></table></figure><h4 id="pod引用"><a href="#pod引用" class="headerlink" title="pod引用"></a>pod引用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">          ····</span><br><span class="line">    volumeMounts:</span><br><span class="line">      - name: datadir</span><br><span class="line">        mountPath: &#x2F;var&#x2F;lib&#x2F;zookeeper</span><br><span class="line">volumeClaimTemplates:</span><br><span class="line">- metadata:</span><br><span class="line">    name: datadir</span><br><span class="line">  spec:</span><br><span class="line">    storageClassName: disk</span><br><span class="line">    accessModes: [ &quot;ReadWriteOnce&quot; ]</span><br><span class="line">    resources:</span><br><span class="line">      requests:</span><br><span class="line">        storage: 3Gi</span><br></pre></td></tr></table></figure><blockquote><p>注意：如果是使用云服务商比如阿里云，要注意购买云盘要与node节点使用区一致</p></blockquote><h2 id="创建一个-ZooKeeper-Ensemble"><a href="#创建一个-ZooKeeper-Ensemble" class="headerlink" title="创建一个 ZooKeeper Ensemble"></a>创建一个 ZooKeeper Ensemble</h2><p>下面的清单包含一个 无头服务， 一个 Service， 一个 PodDisruptionBudget， 和一个 StatefulSet。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: zk-hs</span><br><span class="line">  labels:</span><br><span class="line">    app: zk</span><br><span class="line">spec:</span><br><span class="line">  ports:</span><br><span class="line">  - port: 2888</span><br><span class="line">    name: server</span><br><span class="line">  - port: 3888</span><br><span class="line">    name: leader-election</span><br><span class="line">  clusterIP: None</span><br><span class="line">  selector:</span><br><span class="line">    app: zk</span><br><span class="line">---</span><br><span class="line">apiVersion: v1</span><br><span class="line">kind: Service</span><br><span class="line">metadata:</span><br><span class="line">  name: zk-cs</span><br><span class="line">  labels:</span><br><span class="line">    app: zk</span><br><span class="line">spec:</span><br><span class="line">  ports:</span><br><span class="line">  - port: 2181</span><br><span class="line">    name: client</span><br><span class="line">  selector:</span><br><span class="line">    app: zk</span><br><span class="line">---</span><br><span class="line">apiVersion: policy&#x2F;v1beta1</span><br><span class="line">kind: PodDisruptionBudget</span><br><span class="line">metadata:</span><br><span class="line">  name: zk-pdb</span><br><span class="line">spec:</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: zk</span><br><span class="line">  maxUnavailable: 1</span><br><span class="line">---</span><br><span class="line">apiVersion: apps&#x2F;v1</span><br><span class="line">kind: StatefulSet</span><br><span class="line">metadata:</span><br><span class="line">  name: zk</span><br><span class="line">spec:</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: zk</span><br><span class="line">  serviceName: zk-hs</span><br><span class="line">  replicas: 3</span><br><span class="line">  updateStrategy:</span><br><span class="line">    type: RollingUpdate</span><br><span class="line">  podManagementPolicy: Parallel</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: zk</span><br><span class="line">    spec:</span><br><span class="line">      affinity:</span><br><span class="line">        podAntiAffinity:</span><br><span class="line">          requiredDuringSchedulingIgnoredDuringExecution:</span><br><span class="line">            - labelSelector:</span><br><span class="line">                matchExpressions:</span><br><span class="line">                  - key: &quot;app&quot;</span><br><span class="line">                    operator: In</span><br><span class="line">                    values:</span><br><span class="line">                    - zk</span><br><span class="line">              topologyKey: &quot;kubernetes.io&#x2F;hostname&quot;</span><br><span class="line">      containers:</span><br><span class="line">      - name: kubernetes-zookeeper</span><br><span class="line">        imagePullPolicy: Always</span><br><span class="line">        image: &quot;guglecontainers&#x2F;kubernetes-zookeeper:1.0-3.4.10&quot;</span><br><span class="line">        resources:</span><br><span class="line">          requests:</span><br><span class="line">            memory: &quot;1Gi&quot;</span><br><span class="line">            cpu: &quot;0.5&quot;</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 2181</span><br><span class="line">          name: client</span><br><span class="line">        - containerPort: 2888</span><br><span class="line">          name: server</span><br><span class="line">        - containerPort: 3888</span><br><span class="line">          name: leader-election</span><br><span class="line">        command:</span><br><span class="line">        - sh</span><br><span class="line">        - -c</span><br><span class="line">        - &quot;start-zookeeper \</span><br><span class="line">          --servers&#x3D;3 \</span><br><span class="line">          --data_dir&#x3D;&#x2F;var&#x2F;lib&#x2F;zookeeper&#x2F;data \</span><br><span class="line">          --data_log_dir&#x3D;&#x2F;var&#x2F;lib&#x2F;zookeeper&#x2F;data&#x2F;log \</span><br><span class="line">          --conf_dir&#x3D;&#x2F;opt&#x2F;zookeeper&#x2F;conf \</span><br><span class="line">          --client_port&#x3D;2181 \</span><br><span class="line">          --election_port&#x3D;3888 \</span><br><span class="line">          --server_port&#x3D;2888 \</span><br><span class="line">          --tick_time&#x3D;2000 \</span><br><span class="line">          --init_limit&#x3D;10 \</span><br><span class="line">          --sync_limit&#x3D;5 \</span><br><span class="line">          --heap&#x3D;512M \</span><br><span class="line">          --max_client_cnxns&#x3D;60 \</span><br><span class="line">          --snap_retain_count&#x3D;3 \</span><br><span class="line">          --purge_interval&#x3D;12 \</span><br><span class="line">          --max_session_timeout&#x3D;40000 \</span><br><span class="line">          --min_session_timeout&#x3D;4000 \</span><br><span class="line">          --log_level&#x3D;INFO&quot;</span><br><span class="line">        readinessProbe:</span><br><span class="line">          exec:</span><br><span class="line">            command:</span><br><span class="line">            - sh</span><br><span class="line">            - -c</span><br><span class="line">            - &quot;zookeeper-ready 2181&quot;</span><br><span class="line">          initialDelaySeconds: 10</span><br><span class="line">          timeoutSeconds: 5</span><br><span class="line">        livenessProbe:</span><br><span class="line">          exec:</span><br><span class="line">            command:</span><br><span class="line">            - sh</span><br><span class="line">            - -c</span><br><span class="line">            - &quot;zookeeper-ready 2181&quot;</span><br><span class="line">          initialDelaySeconds: 10</span><br><span class="line">          timeoutSeconds: 5</span><br><span class="line">        volumeMounts:</span><br><span class="line">        - name: datadir</span><br><span class="line">          mountPath: &#x2F;var&#x2F;lib&#x2F;zookeeper</span><br><span class="line">      securityContext:</span><br><span class="line">        runAsUser: 1000</span><br><span class="line">        fsGroup: 1000</span><br><span class="line">  volumeClaimTemplates:</span><br><span class="line">  - metadata:</span><br><span class="line">      name: datadir</span><br><span class="line">      annotations:</span><br><span class="line">        volume.beta.kubernetes.io&#x2F;storage-class: &quot;anything&quot;</span><br><span class="line">    spec:</span><br><span class="line">      accessModes: [ &quot;ReadWriteOnce&quot; ]</span><br><span class="line">      resources:</span><br><span class="line">        requests:</span><br><span class="line">          storage: 3Gi</span><br></pre></td></tr></table></figure><h2 id="开始创建"><a href="#开始创建" class="headerlink" title="开始创建"></a>开始创建</h2><p>创建了 zk-hs 无头服务、zk-cs 服务、zk-pdb PodDisruptionBudget 和 zk StatefulSet。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f zookeeper.yml --namespace&#x3D;zookeeper</span><br><span class="line"></span><br><span class="line">service&#x2F;zk-hs created</span><br><span class="line">service&#x2F;zk-cs created</span><br><span class="line">poddisruptionbudget.policy&#x2F;zk-pdb created</span><br><span class="line">statefulset.apps&#x2F;zk created</span><br></pre></td></tr></table></figure><h3 id="状态查询"><a href="#状态查询" class="headerlink" title="状态查询"></a>状态查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl get poddisruptionbudgets -n zookeeper</span><br><span class="line">kubectl get pods -n zookeeper</span><br><span class="line">kubectl get pods -n zookeeper -w -l app&#x3D;zk</span><br></pre></td></tr></table></figure><h3 id="如果发现没有启动pod"><a href="#如果发现没有启动pod" class="headerlink" title="如果发现没有启动pod"></a>如果发现没有启动pod</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl logs zk-0 -n zookeeper</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/zookeeper5.jpg" alt="github--lena"></p><p>没有权限没有办法创建目录<br>没有zookeeper用户<br>创建一下并给个权限</p><h3 id="创建用户以及授权"><a href="#创建用户以及授权" class="headerlink" title="创建用户以及授权"></a>创建用户以及授权</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd -s &#x2F;sbin&#x2F;nologin zookeeper</span><br><span class="line"></span><br><span class="line">chown zookeeper.zookeeper &#x2F;var&#x2F;lib&#x2F;zookeeper&#x2F;</span><br></pre></td></tr></table></figure><blockquote><p>【注意】{每个安装zk的机器都要执行创建用户以及授权}</p></blockquote><p>如果你是k8s三节点，请注意：</p><p>出于安全考虑Pod不会被调度到Master Node上，也就是说Master Node不参与工作负载</p><p>如果希望master进行调度<br>使用污点（taints）与容忍（tolerations）进行调整</p><h2 id="促成-Leader-选举"><a href="#促成-Leader-选举" class="headerlink" title="促成 Leader 选举"></a>促成 Leader 选举</h2><p>获取 zk StatefulSet 中 Pods 的主机名。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in 0 1 2; do kubectl exec --namespace zookeeper zk-$i -- hostname; done</span><br></pre></td></tr></table></figure><p>看一下效果是不是集群模式</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in 0 1 2; do kubectl exec --namespace zookeeper  zk-$i zkServer.sh status; done</span><br></pre></td></tr></table></figure><p>检查每个服务器的 myid 文件的内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in 0 1 2; do echo &quot;myid zk-$i&quot;;kubectl exec --namespace zookeeper  zk-$i -- cat &#x2F;var&#x2F;lib&#x2F;zookeeper&#x2F;data&#x2F;myid; done</span><br></pre></td></tr></table></figure><p>获取 zk StatefulSet 中每个 Pod 的全限定域名</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in 0 1 2; do kubectl exec --namespace zookeeper zk-$i -- hostname -f; done</span><br></pre></td></tr></table></figure><p>Pod 中查看 zoo.cfg 文件的内容。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl exec --namespace zookeeper zk-0 -- cat &#x2F;opt&#x2F;zookeeper&#x2F;conf&#x2F;zoo.cfg</span><br></pre></td></tr></table></figure><h2 id="Ensemble-健康检查"><a href="#Ensemble-健康检查" class="headerlink" title="Ensemble 健康检查"></a>Ensemble 健康检查</h2><p>最基本的健康检查是向一个 ZooKeeper 服务器写入一些数据，然后从 另一个服务器读取这些数据</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">kubectl exec --namespace zookeeper zk-0 zkCli.sh create &#x2F;hello world</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">WATCHER::</span><br><span class="line"></span><br><span class="line">WatchedEvent state:SyncConnected type:None path:null</span><br><span class="line">Created &#x2F;hello</span><br></pre></td></tr></table></figure><p>从 zk-1 Pod 获取数据。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">kubectl exec  --namespace zookeeper  zk-1 zkCli.sh get &#x2F;hello</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">WATCHER::</span><br><span class="line"></span><br><span class="line">WatchedEvent state:SyncConnected type:None path:null</span><br><span class="line">world</span><br><span class="line">cZxid &#x3D; 0x100000014</span><br><span class="line">ctime &#x3D; Thu Mar 18 03:21:38 UTC 2021</span><br><span class="line">mZxid &#x3D; 0x100000014</span><br><span class="line">mtime &#x3D; Thu Mar 18 03:21:38 UTC 2021</span><br><span class="line">pZxid &#x3D; 0x100000014</span><br><span class="line">cversion &#x3D; 0</span><br><span class="line">dataVersion &#x3D; 0</span><br><span class="line">aclVersion &#x3D; 0</span><br><span class="line">ephemeralOwner &#x3D; 0x0</span><br><span class="line">dataLength &#x3D; 5</span><br><span class="line">numChildren &#x3D; 0</span><br></pre></td></tr></table></figure><p>如果出现<code>myid</code>重复可以进入node内<code>/var/lib/zookeeper/data/</code> 下 修改<code>id</code>参数,然后重新部署</p><blockquote><p>参考：<a href="https://kubernetes.io/zh/docs/tutorials/stateful-application/zookeeper/">https://kubernetes.io/zh/docs/tutorials/stateful-application/zookeeper/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Kubernetes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kubernetes </tag>
            
            <tag> zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>k8s 跨 namespace 访问服务</title>
      <link href="p/9225747c/"/>
      <url>p/9225747c/</url>
      
        <content type="html"><![CDATA[<p>在K8S中，同一个命名空间<code>（namespace）</code>下的服务之间调用，之间通过服务名<code>（service name）</code>调用即可。不过在更多时候，我们可能会将一些服务单独隔离在一个命名空间中（比如我们将中间件服务统一放在 middleware 命名空间中，将业务服务放在 business 命名空间中）。 遇到这种情况，我们就需要跨命名空间访问，K8S 对service 提供了四种不同的类型，针对这个问题我们选用 <code>ExternalName</code> 类型的 service 即可。</p><p>k8s service 分为四种类型<br>分别为：</p><ul><li>ClusterIp（默认类型，每个Node分配一个集群内部的Ip，内部可以互相访问，外部无法访问集群内部）</li><li>NodePort（基于ClusterIp，另外在每个Node上开放一个端口，可以从所有的位置访问这个地址）</li><li>LoadBalance（基于NodePort，并且有云服务商在外部创建了一个负载均衡层，将流量导入到对应Port。要收费的，一般由云服务商提供，比如阿里云、AWS等均提供这种服务）</li><li>ExternalName（将外部地址经过集群内部的再一次封装，实际上就是集群DNS服务器将CNAME解析到了外部地址上，实现了集群内部访问）</li></ul><p>本文使用 <code>ExternalName</code> 实现我们的需求：</p><p>通过 <code>&#123;SERVICE_NAME&#125;.&#123;NAMESPACE_NAME&#125;.svc.cluster.local</code>这样的格式，访问目标 <code>namespace</code> 下的服务。</p>]]></content>
      
      
      <categories>
          
          <category> Kubernetes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kubernetes </tag>
            
            <tag> namespace </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>污点（taints）与容忍（tolerations）</title>
      <link href="p/5cb0c128/"/>
      <url>p/5cb0c128/</url>
      
        <content type="html"><![CDATA[<p>对于<code>nodeAffinity</code>无论是硬策略还是软策略方式，都是调度 pod 到预期节点上，而<code>Taints</code>恰好与之相反，如果一个节点标记为 Taints ，除非 pod 也被标识为可以容忍污点节点，否则该 Taints 节点不会被调度 pod。</p><p>比如用户希望把 Master 节点保留给 Kubernetes 系统组件使用，或者把一组具有特殊资源预留给某些 pod，则污点就很有用了，pod 不会再被调度到 taint 标记过的节点。我们搭建的集群默认就给 master 节点添加了一个污点标记，所以我们看到我们平时的 pod 都没有被调度到 master 上去：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl describe node master</span><br><span class="line">Name:               master</span><br><span class="line">Roles:              master</span><br><span class="line">Labels:             beta.kubernetes.io&#x2F;arch&#x3D;amd64</span><br><span class="line">                    beta.kubernetes.io&#x2F;os&#x3D;linux</span><br><span class="line">                    kubernetes.io&#x2F;hostname&#x3D;master</span><br><span class="line">                    node-role.kubernetes.io&#x2F;master&#x3D;</span><br><span class="line">......</span><br><span class="line">Taints:             node-role.kubernetes.io&#x2F;master:NoSchedule</span><br><span class="line">Unschedulable:      false</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>我们可以使用上面的命令查看 master 节点的信息，其中有一条关于 Taints 的信息：<code>node-role.kubernetes.io/master:NoSchedule</code>，就表示给 master 节点打了一个污点的标记，其中影响的参数是<code>NoSchedule</code>，表示 pod 不会被调度到标记为 taints 的节点，除了 NoSchedule 外，还有另外两个选项：</p><ul><li>PreferNoSchedule：NoSchedule 的软策略版本，表示尽量不调度到污点节点上去</li><li>NoExecute：该选项意味着一旦 Taint 生效，如该节点内正在运行的 pod 没有对应 Tolerate 设置，会直接被逐出</li></ul><p>污点 taint 标记节点的命令如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl taint nodes node02 test&#x3D;node02:NoSchedule</span><br><span class="line">node &quot;node02&quot; tainted</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>上面的命名将 node02 节点标记为了污点，影响策略是 NoSchedule，只会影响新的 pod 调度，如果仍然希望某个 pod 调度到 taint 节点上，则必须在 Spec 中做出<code>Toleration</code>定义，才能调度到该节点，<br>比如现在我们想要将一个 pod 调度到 master 节点：(taint-demo.yaml)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: apps&#x2F;v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: taint</span><br><span class="line">  labels:</span><br><span class="line">    app: taint</span><br><span class="line">spec:</span><br><span class="line">  replicas: 3</span><br><span class="line">  revisionHistoryLimit: 10</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: taint</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: taint</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: nginx</span><br><span class="line">        image: nginx:1.7.9</span><br><span class="line">        ports:</span><br><span class="line">        - name: http</span><br><span class="line">          containerPort: 80</span><br><span class="line">      tolerations:</span><br><span class="line">      - key: &quot;node-role.kubernetes.io&#x2F;master&quot;</span><br><span class="line">        operator: &quot;Exists&quot;</span><br><span class="line">        effect: &quot;NoSchedule&quot;</span><br></pre></td></tr></table></figure><p>由于 master 节点被标记为了污点节点，所以我们这里要想 pod 能够调度到 master 节点去，就需要增加容忍的声明：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tolerations:</span><br><span class="line">- key: &quot;node-role.kubernetes.io&#x2F;master&quot;</span><br><span class="line">  operator: &quot;Exists&quot;</span><br><span class="line">  effect: &quot;NoSchedule&quot;</span><br></pre></td></tr></table></figure><p>然后创建上面的资源，查看结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create -f taint-demo.yaml</span><br><span class="line">deployment.apps &quot;taint&quot; created</span><br><span class="line">$ kubectl get pods -o wide</span><br><span class="line">NAME                                      READY     STATUS             RESTARTS   AGE       IP             NODE</span><br><span class="line">......</span><br><span class="line">taint-845d8bb4fb-57mhm                    1&#x2F;1       Running            0          1m        10.244.4.247   node02</span><br><span class="line">taint-845d8bb4fb-bbvmp                    1&#x2F;1       Running            0          1m        10.244.0.33    master</span><br><span class="line">taint-845d8bb4fb-zb78x                    1&#x2F;1       Running            0          1m        10.244.4.246   node02</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>我们可以看到有一个 pod 副本被调度到了 master 节点，这就是容忍的使用方法。</p><p>对于 tolerations 属性的写法，其中的 key、value、effect 与 Node 的 Taint 设置需保持一致， 还有以下几点说明：</p><ul><li>如果 operator 的值是 Exists，则 value 属性可省略</li><li>如果 operator 的值是 Equal，则表示其 key 与 value 之间的关系是 equal(等于)</li><li>如果不指定 operator 属性，则默认值为 Equal</li></ul><p>另外，还有两个特殊值：</p><ul><li>空的 key 如果再配合 Exists 就能匹配所有的 key 与 value，也是是能容忍所有 node 的所有 Taints</li><li>空的 effect 匹配所有的 effect</li></ul><p>最后，如果我们要取消节点的污点标记，可以使用下面的命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl taint nodes node02 test-</span><br><span class="line">node &quot;node02&quot; untainted</span><br></pre></td></tr></table></figure><p>这就是污点和容忍的使用方法。</p>]]></content>
      
      
      <categories>
          
          <category> Kubernetes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kubernetes </tag>
            
            <tag> taints </tag>
            
            <tag> tolerations </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>删除mac启动台launchpad中的无效图标</title>
      <link href="p/c1a54034/"/>
      <url>p/c1a54034/</url>
      
        <content type="html"><![CDATA[<h3 id="第一种情况"><a href="#第一种情况" class="headerlink" title="第一种情况"></a>第一种情况</h3><p>在Mac上安装Photoshop CS6的后， 启动台(LaunchPad)莫名其妙的多出了几个”Adobe xxxx…”的图标， 而且无法删除，在访达里面应用程序内也找不到， 非常讨厌。</p><p>在网上搜索了试过终端删除，app删除，找到程序文件夹删除等各种方法，但都失败了。。。</p><p>最后重点来了，我找到了一个终极解决办法：</p><p>重建 启动台(LaunchPad) 内的图标来解决.</p><h4 id="方法如下"><a href="#方法如下" class="headerlink" title="方法如下:"></a>方法如下:</h4><p>打开应用程序- 实用工具 - 终端. 以此出入如下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">defaults write com.apple.dock ResetLaunchPad -bool true</span><br><span class="line"></span><br><span class="line">killall Dock</span><br></pre></td></tr></table></figure><p>再次打开 LaunchPad 的时候, 所有图标会被重建。</p><blockquote><p>如果发现启动台(LaunchPad)里面出现了一个新的相关文件夹，并且是原来Adobe之类的程序， 那么需要再次打开<code>访达-&gt;应用程序-&gt;实用工具</code> 内找到对应相关文件程序删掉即可。</p></blockquote><p>最后，你会发现重置之后之前的所有设置都会丢失. 没有特殊情况不要使用哦. 以免丢失之前的排列方式与文件夹.</p><h3 id="第二种情况"><a href="#第二种情况" class="headerlink" title="第二种情况"></a>第二种情况</h3><p>有些应用程序（比如说虚拟机），安装之后会在启动台生成文件夹或其它图标，但是卸载了应用之后，这个文件夹依然会保留下来，简直逼死强迫症。</p><h4 id="方法如下-1"><a href="#方法如下-1" class="headerlink" title="方法如下:"></a>方法如下:</h4><p>卸载应用程序之后，一般其在启动台生成的文件夹是不会被删除的，不过这个文件夹里面是空的。如果执意要删除的话，可以从<code>Finder</code>（访达）里面入手。具体操作为，打开访达，按下快捷键<code>「commond」+「shift」+「H」</code>，之后页面会自动跳转到用户的主页。打开<code>「应用程序文件夹」</code>，里面的都是launchpad的内容，找到你要删除的目标将其删除即可。</p>]]></content>
      
      
      <categories>
          
          <category> 奇怪的知识点 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mac </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何注册PropellerAds账号</title>
      <link href="p/399b4ecc/"/>
      <url>p/399b4ecc/</url>
      
        <content type="html"><![CDATA[<h2 id="PropellerAds"><a href="#PropellerAds" class="headerlink" title="PropellerAds"></a><a href="https://propellerads.com/publishers/?ref_id=mTFx">PropellerAds</a></h2><blockquote><p><a href="https://propellerads.com/publishers/?ref_id=mTFx">PropellerAds</a>是2018-2019年度最好的cpm广告网络之一，也是支付率最高的cpm广告网络之一。如果您正在寻找移动广告，弹出窗口，对话框和插页式广告，那么PorpellerAds是您最适合的CPM网络。出版商将获得10美元的有效每千次展示费用，这个每千次展示费率取决于访问国家，如果您的网站拥有高流量来自英国，美国，那么您可以预期这个广告网络很多钱。它提供了许多广告格式供用户赚取，这些广告格式是横幅广告，原生直接广告，流行下广告，非页内广告，上推广告，对话广告。螺旋桨广告支付净30基础。最低支付限额为100美元，发布可以通过电汇和PayPal提款。</p></blockquote><h3 id="获得批准的要求："><a href="#获得批准的要求：" class="headerlink" title="获得批准的要求："></a>获得批准的要求：</h3><ul><li>没有最低流量要求</li><li>网站必须是基于内容的，而不是简单的链接或广告列表</li><li>网站不得在“正在建设中”</li><li>网站不得包含与成人相关的内容</li></ul><h3 id="最好的功能"><a href="#最好的功能" class="headerlink" title="最好的功能"></a>最好的功能</h3><ul><li><a href="https://propellerads.com/publishers/?ref_id=mTFx">PropellerAds</a>在Net 30上支付</li><li>其最低支付限额是$ 5</li><li>实时统计报告系统</li><li>付款方式是电汇和PayPal</li><li><a href="https://propellerads.com/publishers/?ref_id=mTFx">PropellerAds</a>提供多种广告格式</li></ul><p>支持国内IP,<a href="https://propellerads.com/publishers/?ref_id=mTFx">PropellerAds</a>本身有banner和弹窗广告 , 但是banner广告收入极低 , 所以不建议去做 反而弹窗收入高（垃圾站点使用高）</p><h2 id="首先我们注册PropellerAds平台"><a href="#首先我们注册PropellerAds平台" class="headerlink" title="首先我们注册PropellerAds平台"></a>首先我们注册<a href="https://propellerads.com/publishers/?ref_id=mTFx">PropellerAds</a>平台</h2><p>链接地址<a href="https://propellerads.com/publishers/?ref_id=mTFx">PropellerAds</a> </p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/PropellerAds1.jpg" alt="github--lena"></p><p>我们选择账户类型为Publisher，注意这里我们注册为发行商，一定不要选错了<br>提供广告的请注册Advertiser，</p><p>跳转到这个页面</p><p>据实填写我们的个人信息即可，填写完成以后点击下一步 ,只填写必要信息即可<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/propellerads2.jpg" alt="github--lena"></p><p>点击下一页后在相关的输入框中大家可以根据我填写的内容来进行填写，这里其实只需要简单的说明一下我们目前的流量源</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/propellerads4.jpg" alt="github--lena"></p><p>最后点击注册就可以了，基本上注册以后我很快会收到确认邮件，当即注册马上就能进入平台了</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/propellerads5.jpg" alt="github--lena"></p><p>在你的邮箱中收到这份确认邮件以后点击验证账户，然后会跳转至设置初始密码的页面，设置完成以后就ok了，恭喜你，</p><h2 id="绑定网站与验证"><a href="#绑定网站与验证" class="headerlink" title="绑定网站与验证"></a>绑定网站与验证</h2><p>添加网站<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/propellerads6.jpg" alt="github--lena"></p><p>验证<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/propellerads7.jpg" alt="github--lena"></p><p>验证通过后添加广告类别</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/propellerads8.jpg" alt="github--lena"></p><p>选择自己适用的类别<br>add zone<br>点击获取代码并选择在自己的官网手动引用就可以<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/propellerads9.jpg" alt="github--lena"></p><p>请注意：MultiTag 广告格式包含（In-Page Push (Banner)与Onclick (Popunder)与Interstitial）</p><p>不太建议直接使用MultiTag与Onclick (Popunder) 这两种广告格式 因为会跳转到其他网站，可能会包含非法站点</p><h2 id="请点击PropellerAds跳转官网注册"><a href="#请点击PropellerAds跳转官网注册" class="headerlink" title="请点击PropellerAds跳转官网注册"></a>请点击<a href="https://propellerads.com/publishers/?ref_id=mTFx">PropellerAds</a>跳转官网注册</h2>]]></content>
      
      
      <categories>
          
          <category> 奇怪的知识点 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PropellerAds </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux设置和修改时间与时区</title>
      <link href="p/339c428/"/>
      <url>p/339c428/</url>
      
        <content type="html"><![CDATA[<blockquote><p>linux系统时间有两个，一个是硬件时间，即BIOS时间，就是我们进行CMOS设置时看到的时间，另一个是系统时间，是linux系统Kernel时间。当Linux启动时，系统Kernel会去读取硬件时钟的设置，然后系统时钟就会独立于硬件运作。有时我们会发现系统时钟和硬件时钟不一致，因此需要执行时间同步。</p></blockquote><h1 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h1><h2 id="一、date-查看-设置系统时间"><a href="#一、date-查看-设置系统时间" class="headerlink" title="一、date 查看/设置系统时间"></a>一、date 查看/设置系统时间</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1、将日期设置为2017年11月3日</span><br><span class="line">[root@linux-node ~]# date -s 11&#x2F;03&#x2F;17</span><br><span class="line"></span><br><span class="line">2、将时间设置为14点20分50秒</span><br><span class="line">[root@linux-node ~]# date -s 14:20:50</span><br><span class="line"></span><br><span class="line">3、将时间设置为2017年11月3日14点16分30秒（MMDDhhmmYYYY.ss）</span><br><span class="line">[root@linux-node ~]# date 1103141617.30</span><br></pre></td></tr></table></figure><h2 id="二、hwclock-clock-查看-设置硬件时间"><a href="#二、hwclock-clock-查看-设置硬件时间" class="headerlink" title="二、hwclock/clock 查看/设置硬件时间"></a>二、hwclock/clock 查看/设置硬件时间</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、查看系统硬件时钟</span><br><span class="line">[root@linux-node ~]# hwclock  --show 或者</span><br><span class="line">[root@linux-node ~]# clock  --show</span><br><span class="line"></span><br><span class="line">2、设置硬件时间</span><br><span class="line">[root@linux-node ~]# hwclock --set --date&#x3D;&quot;11&#x2F;03&#x2F;17 14:55&quot; （月&#x2F;日&#x2F;年时:分:秒） 或者</span><br><span class="line">[root@linux-node ~]# clock --set --date&#x3D;&quot;11&#x2F;03&#x2F;17 14:55&quot; （月&#x2F;日&#x2F;年时:分:秒）</span><br></pre></td></tr></table></figure><h2 id="三、同步系统及硬件时钟"><a href="#三、同步系统及硬件时钟" class="headerlink" title="三、同步系统及硬件时钟"></a>三、同步系统及硬件时钟</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node ~]# hwclock --hctosys 或者</span><br><span class="line">[root@linux-node ~]# clock --hctosys  </span><br><span class="line">备注：hc代表硬件时间，sys代表系统时间，以硬件时间为基准，系统时间找硬件时间同步</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@linux-node ~]# hwclock --systohc或者</span><br><span class="line">[root@linux-node ~]# clock --systohc </span><br><span class="line">备注：以系统时间为基准，硬件时间找系统时间同步</span><br></pre></td></tr></table></figure><h1 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h1><p>时区设置用<code>tzselect</code> 命令来实现。但是通过<code>tzselect</code>命令设置<code>TZ</code>这个环境变量来选择的时区，需要将变量添加到<code>.profile</code>文件中。</p><h2 id="一、tzselect命令执行"><a href="#一、tzselect命令执行" class="headerlink" title="一、tzselect命令执行"></a>一、tzselect命令执行</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">执行tzselect命令 --&gt; 选择Asia --&gt; 选择China --&gt; 选择east China - Beijing, Guangdong, Shanghai, etc--&gt;然后输入1。</span><br></pre></td></tr></table></figure><p>执行完<code>tzselect</code>命令选择时区后，时区并没有更改，只是在命令最后提示你可以执行 <code>TZ=’Asia/Shanghai’; export TZ </code>并将这行命令添加到<code>.profile</code>中，然后退出并重新登录。</p><h2 id="二、修改配置文件来修改时区"><a href="#二、修改配置文件来修改时区" class="headerlink" title="二、修改配置文件来修改时区"></a>二、修改配置文件来修改时区</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@linux-node ~]# echo &quot;ZONE&#x3D;Asia&#x2F;Shanghai&quot; &gt;&gt; &#x2F;etc&#x2F;sysconfig&#x2F;clock         </span><br><span class="line">[root@linux-node ~]# rm -f &#x2F;etc&#x2F;localtime</span><br><span class="line">#链接到上海时区文件       </span><br><span class="line">[root@linux-node ~]# ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime</span><br></pre></td></tr></table></figure><p>执行完上述过程后，重启机器，即可看到时区已经更改。</p><h2 id="备注："><a href="#备注：" class="headerlink" title="备注："></a>备注：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在centos7中设置时区的命令可以通过 timedatectl 命令来实现</span><br><span class="line">[root@linux-node ~]# timedatectl set-timezone Asia&#x2F;Shanghai</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> TZ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL5.7 字符集设置</title>
      <link href="p/38510659/"/>
      <url>p/38510659/</url>
      
        <content type="html"><![CDATA[<h1 id="MySQL5-7-字符集设置"><a href="#MySQL5-7-字符集设置" class="headerlink" title="MySQL5.7 字符集设置"></a>MySQL5.7 字符集设置</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">character-set-client-handshake &#x3D; FALSE</span><br><span class="line">character-set-server &#x3D; utf8mb4</span><br><span class="line">collation-server &#x3D; utf8mb4_unicode_ci</span><br><span class="line">init_connect&#x3D;’SET NAMES utf8mb4’</span><br></pre></td></tr></table></figure><h1 id="character-set-client-handshake"><a href="#character-set-client-handshake" class="headerlink" title="character-set-client-handshake"></a>character-set-client-handshake</h1><p>用来控制客户端声明使用字符集和服务端声明使用的字符集在不一致的情况下的兼容性.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">character-set-client-handshake &#x3D; false</span><br><span class="line"># 设置为 False, 在客户端字符集和服务端字符集不同的时候将拒绝连接到服务端执行任何操作</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 默认为 true</span><br><span class="line">character-set-client-handshake &#x3D; true</span><br><span class="line"># 设置为 True, 即使客户端字符集和服务端字符集不同, 也允许客户端连接</span><br></pre></td></tr></table></figure><h1 id="character-set-server"><a href="#character-set-server" class="headerlink" title="character-set-server"></a>character-set-server</h1><p>声明服务端的字符编码, 推荐使用utf8mb4 , 该字符虽然占用空间会比较大, 但是可以兼容 emoji 😈 表情的存储</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">character-set-server &#x3D; utf8mb4</span><br></pre></td></tr></table></figure><h1 id="collation-server"><a href="#collation-server" class="headerlink" title="collation-server"></a>collation-server</h1><p>声明服务端的字符集, 字符编码和字符集一一对应, 既然使用了utf8mb4的字符集, 就要声明使用对应的字符编码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">collation-server &#x3D; utf8mb4_unicode_ci</span><br></pre></td></tr></table></figure><h1 id="init-connect"><a href="#init-connect" class="headerlink" title="init_connect"></a>init_connect</h1><p><code>init_connect </code>是用户登录到数据库上之后, 在执行第一次查询之前执行里面的内容. 如果 <code>init_connect</code> 的内容有语法错误, 导致执行失败, 会导致用户无法执行查询, 从mysql 退出</p><p>使用 <code>init_connect</code> 执行 <code>SET NAMES utf8mb4</code> 意为:</p><p>声明自己(客户端)使用的是 utf8mb4 的字符编码<br>希望服务器返回给自己 utf8mb4 的查询结果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">init_connect &#x3D; &#39;SET NAMES utf8mb4&#39;</span><br></pre></td></tr></table></figure><h1 id="完整配置"><a href="#完整配置" class="headerlink" title="完整配置"></a>完整配置</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">character-set-client-handshake &#x3D; FALSE</span><br><span class="line">character-set-server &#x3D; utf8mb4</span><br><span class="line">collation-server &#x3D; utf8mb4_unicode_ci</span><br><span class="line">init_connect &#x3D; &#39;SET NAMES utf8mb4&#39;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQL5.7 高可用高性能配置调优 性能参数参考</title>
      <link href="p/2d27b747/"/>
      <url>p/2d27b747/</url>
      
        <content type="html"><![CDATA[<blockquote><p>MySQL5.7 在 5.6 版本的基础之上做了大量的优化, 本篇文章开篇将重点围绕经过优化的基于 GTID 的多线程复制和半同步复制的特性介绍, 后续会持续增加 MySQL5.7 的调优参数</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line">default-character-set &#x3D; utf8mb4</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line"></span><br><span class="line">### 基本属性配置</span><br><span class="line">port &#x3D; 3306</span><br><span class="line">datadir&#x3D;&#x2F;data&#x2F;mysql</span><br><span class="line"># 禁用主机名解析</span><br><span class="line">skip-name-resolve</span><br><span class="line"># 默认的数据库引擎</span><br><span class="line">default-storage-engine &#x3D; InnoDB</span><br><span class="line"></span><br><span class="line">### 字符集配置</span><br><span class="line">character-set-client-handshake &#x3D; FALSE</span><br><span class="line">character-set-server &#x3D; utf8mb4</span><br><span class="line">collation-server &#x3D; utf8mb4_unicode_ci</span><br><span class="line">init_connect&#x3D;&#39;SET NAMES utf8mb4&#39;</span><br><span class="line"></span><br><span class="line">### GTID</span><br><span class="line">server_id &#x3D; 59</span><br><span class="line"># 为保证 GTID 复制的稳定, 行级日志</span><br><span class="line">binlog_format &#x3D; row</span><br><span class="line"># 开启 gtid 功能</span><br><span class="line">gtid_mode &#x3D; on</span><br><span class="line"># 保障 GTID 事务安全</span><br><span class="line"># 当启用enforce_gtid_consistency功能的时候,</span><br><span class="line"># MySQL只允许能够保障事务安全, 并且能够被日志记录的SQL语句被执行,</span><br><span class="line"># 像create table ... select 和 create temporarytable语句, </span><br><span class="line"># 以及同时更新事务表和非事务表的SQL语句或事务都不允许执行</span><br><span class="line">enforce-gtid-consistency &#x3D; true</span><br><span class="line"># 以下两条配置为主从切换, 数据库高可用的必须配置</span><br><span class="line"># 开启 binlog 日志功能</span><br><span class="line">log_bin &#x3D; on</span><br><span class="line"># 开启从库更新 binlog 日志</span><br><span class="line">log-slave-updates &#x3D; on</span><br><span class="line"></span><br><span class="line">### 慢查询日志</span><br><span class="line"># 打开慢查询日志功能</span><br><span class="line">slow_query_log &#x3D; 1</span><br><span class="line"># 超过2秒的查询记录下来</span><br><span class="line">long_query_time &#x3D; 2</span><br><span class="line"># 记录下没有使用索引的查询</span><br><span class="line">log_queries_not_using_indexes &#x3D; 1</span><br><span class="line"></span><br><span class="line">### 自动修复</span><br><span class="line"># 记录 relay.info 到数据表中</span><br><span class="line">relay_log_info_repository &#x3D; TABLE</span><br><span class="line"># 记录 master.info 到数据表中 </span><br><span class="line">master_info_repository &#x3D; TABLE</span><br><span class="line"># 启用 relaylog 的自动修复功能</span><br><span class="line">relay_log_recovery &#x3D; on</span><br><span class="line"># 在 SQL 线程执行完一个 relaylog 后自动删除</span><br><span class="line">relay_log_purge &#x3D; 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 数据安全性配置</span><br><span class="line"># 关闭 master 创建 function 的功能</span><br><span class="line">log_bin_trust_function_creators &#x3D; off</span><br><span class="line"># 每执行一个事务都强制写入磁盘</span><br><span class="line">sync_binlog &#x3D; 1</span><br><span class="line"># timestamp 列如果没有显式定义为 not null, 则支持null属性</span><br><span class="line"># 设置 timestamp 的列值为 null, 不会被设置为 current timestamp</span><br><span class="line">explicit_defaults_for_timestamp&#x3D;true</span><br><span class="line"></span><br><span class="line">### 优化配置</span><br><span class="line"># 优化中文全文模糊索引</span><br><span class="line">ft_min_word_len &#x3D; 1</span><br><span class="line"># 默认库名表名保存为小写, 不区分大小写</span><br><span class="line">lower_case_table_names &#x3D; 1</span><br><span class="line"># 单条记录写入最大的大小限制</span><br><span class="line"># 过小可能会导致写入(导入)数据失败</span><br><span class="line">max_allowed_packet &#x3D; 256M</span><br><span class="line"># 半同步复制开启</span><br><span class="line">rpl_semi_sync_master_enabled &#x3D; 1</span><br><span class="line">rpl_semi_sync_slave_enabled &#x3D; 1</span><br><span class="line"># 半同步复制超时时间设置</span><br><span class="line">rpl_semi_sync_master_timeout &#x3D; 1000</span><br><span class="line"># 复制模式(保持系统默认)</span><br><span class="line">rpl_semi_sync_master_wait_point &#x3D; AFTER_SYNC</span><br><span class="line"># 后端只要有一台收到日志并写入 relaylog 就算成功</span><br><span class="line">rpl_semi_sync_master_wait_slave_count &#x3D; 1</span><br><span class="line"># 多线程复制</span><br><span class="line">slave_parallel_type &#x3D; logical_clock</span><br><span class="line">slave_parallel_workers &#x3D; 4</span><br><span class="line"></span><br><span class="line">### 连接数限制</span><br><span class="line">max_connections &#x3D; 1500</span><br><span class="line"># 验证密码超过20次拒绝连接</span><br><span class="line">max_connect_errors &#x3D; 20</span><br><span class="line"># back_log值指出在mysql暂时停止回答新请求之前的短时间内多少个请求可以被存在堆栈中</span><br><span class="line"># 也就是说，如果MySql的连接数达到max_connections时，新来的请求将会被存在堆栈中</span><br><span class="line"># 以等待某一连接释放资源，该堆栈的数量即back_log，如果等待连接的数量超过back_log</span><br><span class="line"># 将不被授予连接资源</span><br><span class="line">back_log &#x3D; 500</span><br><span class="line">open_files_limit &#x3D; 65535</span><br><span class="line"># 服务器关闭交互式连接前等待活动的秒数</span><br><span class="line">interactive_timeout &#x3D; 3600</span><br><span class="line"># 服务器关闭非交互连接之前等待活动的秒数</span><br><span class="line">wait_timeout &#x3D; 3600</span><br><span class="line"></span><br><span class="line">### 内存分配</span><br><span class="line"># 指定表高速缓存的大小。每当MySQL访问一个表时，如果在表缓冲区中还有空间</span><br><span class="line"># 该表就被打开并放入其中，这样可以更快地访问表内容</span><br><span class="line">table_open_cache &#x3D; 1024</span><br><span class="line"># 为每个session 分配的内存, 在事务过程中用来存储二进制日志的缓存</span><br><span class="line">binlog_cache_size &#x3D; 2M</span><br><span class="line"># 在内存的临时表最大大小</span><br><span class="line">tmp_table_size &#x3D; 128M</span><br><span class="line"># 创建内存表的最大大小(保持系统默认, 不允许创建过大的内存表)</span><br><span class="line"># 如果有需求当做缓存来用, 可以适当调大此值</span><br><span class="line">max_heap_table_size &#x3D; 16M</span><br><span class="line"># 顺序读, 读入缓冲区大小设置</span><br><span class="line"># 全表扫描次数多的话, 可以调大此值</span><br><span class="line">read_buffer_size &#x3D; 1M</span><br><span class="line"># 随机读, 读入缓冲区大小设置</span><br><span class="line">read_rnd_buffer_size &#x3D; 8M</span><br><span class="line"># 高并发的情况下, 需要减小此值到64K-128K</span><br><span class="line">sort_buffer_size &#x3D; 1M</span><br><span class="line"># 每个查询最大的缓存大小是1M, 最大缓存64M 数据</span><br><span class="line">query_cache_size &#x3D; 64M</span><br><span class="line">query_cache_limit &#x3D; 1M</span><br><span class="line"># 提到 join 的效率</span><br><span class="line">join_buffer_size &#x3D; 16M</span><br><span class="line"># 线程连接重复利用</span><br><span class="line">thread_cache_size &#x3D; 64</span><br><span class="line"></span><br><span class="line">### InnoDB 优化</span><br><span class="line">## 内存利用方面的设置</span><br><span class="line"># 数据缓冲区</span><br><span class="line">innodb_buffer_pool_size&#x3D;2G</span><br><span class="line">## 日志方面设置</span><br><span class="line"># 事务日志大小</span><br><span class="line">innodb_log_file_size &#x3D; 256M</span><br><span class="line"># 日志缓冲区大小</span><br><span class="line">innodb_log_buffer_size &#x3D; 4M</span><br><span class="line"># 事务在内存中的缓冲</span><br><span class="line">innodb_log_buffer_size &#x3D; 3M</span><br><span class="line"># 主库保持系统默认, 事务立即写入磁盘, 不会丢失任何一个事务</span><br><span class="line">innodb_flush_log_at_trx_commit &#x3D; 1</span><br><span class="line"># mysql 的数据文件设置, 初始100, 以10M 自动扩展</span><br><span class="line">innodb_data_file_path &#x3D; ibdata1:100M:autoextend</span><br><span class="line"># 为提高性能, MySQL可以以循环方式将日志文件写到多个文件</span><br><span class="line">innodb_log_files_in_group &#x3D; 3</span><br><span class="line">##其他设置</span><br><span class="line"># 如果库里的表特别多的情况，请增加此值</span><br><span class="line">innodb_open_files &#x3D; 800</span><br><span class="line"># 为每个 InnoDB 表分配单独的表空间</span><br><span class="line">innodb_file_per_table &#x3D; 1</span><br><span class="line"># InnoDB 使用后台线程处理数据页上写 I&#x2F;O（输入）请求的数量</span><br><span class="line">innodb_write_io_threads &#x3D; 8</span><br><span class="line"># InnoDB 使用后台线程处理数据页上读 I&#x2F;O（输出）请求的数量</span><br><span class="line">innodb_read_io_threads &#x3D; 8</span><br><span class="line"># 启用单独的线程来回收无用的数据</span><br><span class="line">innodb_purge_threads &#x3D; 1</span><br><span class="line"># 脏数据刷入磁盘(先保持系统默认, swap 过多使用时, 调小此值, 调小后, 与磁盘交互增多, 性能降低)</span><br><span class="line"># innodb_max_dirty_pages_pct &#x3D; 90</span><br><span class="line"># 事务等待获取资源等待的最长时间</span><br><span class="line">innodb_lock_wait_timeout &#x3D; 120</span><br><span class="line"># 开启 InnoDB 严格检查模式, 不警告, 直接报错</span><br><span class="line">innodb_strict_mode&#x3D;1</span><br><span class="line"># 允许列索引最大达到3072</span><br><span class="line"> innodb_large_prefix &#x3D; on</span><br><span class="line"></span><br><span class="line">[mysqldump]</span><br><span class="line"># 开启快速导出</span><br><span class="line">quick</span><br><span class="line">default-character-set &#x3D; utf8mb4</span><br><span class="line">max_allowed_packet &#x3D; 256M</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line"># 开启 tab 补全</span><br><span class="line">auto-rehash</span><br><span class="line">default-character-set &#x3D; utf8mb4</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql 安装5.7</title>
      <link href="p/d47d8d30/"/>
      <url>p/d47d8d30/</url>
      
        <content type="html"><![CDATA[<h1 id="MySQL编译和安装"><a href="#MySQL编译和安装" class="headerlink" title="MySQL编译和安装"></a>MySQL编译和安装</h1><p>##在<code>CentOS7</code>中编译安装<code>MySQL 5.7.21</code>. 依赖和源码包 安装相关的依赖: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install gcc gcc-c++ ncurses ncurses-devel cmake bison openssl-devel -y </span><br><span class="line">yum install make cmake gcc gcc-c++ bison bison-devel ncurses ncurses-devel autoconf automake</span><br></pre></td></tr></table></figure><p>下载<code>MySQL 5.7.32</code>源码包和依赖<code>boost</code>, <code>MySQL 5.7.32</code>依赖<code>boost 1.59.0</code>: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl -o boost_1_59_0.tar.gz https:&#x2F;&#x2F;jaist.dl.sourceforge.net&#x2F;project&#x2F;boost&#x2F;boost&#x2F;1.59.0&#x2F;boost_1_59_0.tar.gz </span><br><span class="line">#curl -o mysql-5.7.32.tar.gz https:&#x2F;&#x2F;dev.mysql.com&#x2F;get&#x2F;Downloads&#x2F;MySQL-5.7&#x2F;mysql-5.7.32.tar.gz</span><br><span class="line">如果拉取不到使用下方下载地址 ：</span><br><span class="line">https:&#x2F;&#x2F;downloads.mysql.com&#x2F;archives&#x2F;community&#x2F;</span><br></pre></td></tr></table></figure><p>解压下载的包: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 进入下载的路径 </span><br><span class="line"># 解压到&#x2F;usr&#x2F;local&#x2F;目录</span><br><span class="line">tar -xzvf boost_1_59_0.tar.gz -C &#x2F;usr&#x2F;local&#x2F; </span><br><span class="line"># 解压到当前目录 </span><br><span class="line">tar -xzvf mysql-5.7.32.tar.gz</span><br></pre></td></tr></table></figure><h1 id="创建用户和组"><a href="#创建用户和组" class="headerlink" title="创建用户和组"></a>创建用户和组</h1><p>创建<code>MySQL</code>用户和组, 并且用户不能登陆: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd -r mysql &amp;&amp; useradd -r -g mysql -s &#x2F;sbin&#x2F;nologin -M mysql </span><br></pre></td></tr></table></figure><h1 id="创建相关的目录"><a href="#创建相关的目录" class="headerlink" title="创建相关的目录"></a>创建相关的目录</h1><h3 id="创建数据目录"><a href="#创建数据目录" class="headerlink" title="创建数据目录"></a>创建数据目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p &#x2F;home&#x2F;mysql&#x2F;data</span><br><span class="line"></span><br><span class="line">mkdir -p &#x2F;home&#x2F;mysql&#x2F;logs</span><br><span class="line"></span><br><span class="line">mkdir -p &#x2F;usr&#x2F;local&#x2F;mysql </span><br><span class="line"></span><br><span class="line">mkdir -p &#x2F;home&#x2F;mysql&#x2F;temp</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">chown -Rf mysql:mysql &#x2F;usr&#x2F;local&#x2F;mysql</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">chown -Rf mysql:mysql &#x2F;home&#x2F;mysql</span><br></pre></td></tr></table></figure><h1 id="预编译"><a href="#预编译" class="headerlink" title="预编译"></a>预编译</h1><p>使用各种参数, 预编译源代码. 进入解压的<code>MySQL</code>源码目录, 执行以下命令: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake -DCMAKE_INSTALL_PREFIX&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql -DMYSQL_DATADIR&#x3D;&#x2F;home&#x2F;mysql&#x2F;data -DSYSCONFDIR&#x3D;&#x2F;etc -DMYSQL_UNIX_ADDR&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;mysqld.sock -DEXTRA_CHARSETS&#x3D;all -DDEFAULT_CHARSET&#x3D;utf8mb4 -DDEFAULT_COLLATION&#x3D;utf8mb4_unicode_ci -DWITH_MYISAM_STORAGE_ENGINE&#x3D;1 -DWITH_INNOBASE_STORAGE_ENGINE&#x3D;1 -DWITH_PARTITION_STORAGE_ENGINE&#x3D;1 -DWITH_ARCHIVE_STORAGE_ENGINE&#x3D;1 -DWITH_BLACKHOLE_STORAGE_ENGINE&#x3D;1 -DENABLED_LOCAL_INFILE&#x3D;1 -DENABLED_PROFILING&#x3D;1 -DMYSQL_TCP_PORT&#x3D;3306 -DWITH_DEBUG&#x3D;0 -DDOWNLOAD_BOOST&#x3D;1 -DWITH_BOOST&#x3D;&#x2F;usr&#x2F;local&#x2F;boost_1_59_0</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">DCMAKE_INSTALL_PREFIX&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql :安装路径</span><br><span class="line">DMYSQL_DATADIR&#x3D;&#x2F;data&#x2F;mysql :数据文件存放位置</span><br><span class="line">DSYSCONFDIR&#x3D;&#x2F;etc :my.cnf路径</span><br><span class="line">DMYSQL_UNIX_ADDR&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;mysqld.sock :连接数据库socket路径 </span><br><span class="line">DEXTRA_CHARSETS&#x3D;all :安装所有的字符集</span><br><span class="line">DDEFAULT_CHARSET&#x3D;utf8mb4 :默认字符</span><br><span class="line">DDEFAULT_COLLATION&#x3D;utf8mb4_unicode_ci :排序集</span><br><span class="line">DWITH_MYISAM_STORAGE_ENGINE&#x3D;1 :支持MyIASM引擎</span><br><span class="line">DWITH_INNOBASE_STORAGE_ENGINE&#x3D;1 :支持InnoDB引擎</span><br><span class="line">DWITH_PARTITION_STORAGE_ENGINE&#x3D;1 :安装支持数据库分区</span><br><span class="line">DENABLED_LOCAL_INFILE&#x3D;1 :允许从本地导入数据</span><br><span class="line">DENABLED_PROFILING&#x3D;1 :</span><br><span class="line">DMYSQL_TCP_PORT&#x3D;3306 :端口</span><br><span class="line">DWITH_DEBUG&#x3D;0 :</span><br><span class="line">DDOWNLOAD_BOOST&#x3D;1 :允许下载</span><br><span class="line">DWITH_BOOST&#x3D;&#x2F;usr&#x2F;local&#x2F;boost_1_59_0 :本地boost路径 </span><br></pre></td></tr></table></figure><h1 id="编译安装"><a href="#编译安装" class="headerlink" title="编译安装"></a>编译安装</h1><p>预编译完成后, 执行下面的命令编译, 安装: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 指定CPU数量编译 </span><br><span class="line">make -j &#96;grep processor &#x2F;proc&#x2F;cpuinfo | wc -l&#96; &amp;&amp; make install</span><br></pre></td></tr></table></figure><h1 id="添加开机自启"><a href="#添加开机自启" class="headerlink" title="添加开机自启"></a>添加开机自启</h1><p>对目录修改权限, 添加<code>service/systemd</code>服务: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">chown -R mysql:mysql &#x2F;usr&#x2F;local&#x2F;mysql </span><br><span class="line">cp &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;support-files&#x2F;mysql.server &#x2F;etc&#x2F;init.d&#x2F;mysql</span><br><span class="line">chmod +x &#x2F;etc&#x2F;init.d&#x2F;mysql</span><br><span class="line"># 开机自启 </span><br><span class="line">chkconfig --add mysql</span><br><span class="line">chkconfig mysql on </span><br></pre></td></tr></table></figure><h1 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h1><p>将<code>/usr/local/mysql/bin</code>添加进入<code>环境变量</code>, 或者直接使用<code>软链接</code>的方式链到<code>/usr/local/bin</code>下: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 添加到环境变量 </span><br><span class="line">echo &quot;&quot; &gt;&gt; &#x2F;etc&#x2F;bashrc </span><br><span class="line">echo &quot;export PATH&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin:$PATH&quot; &gt;&gt; &#x2F;etc&#x2F;bashrc </span><br><span class="line">echo &quot;&quot; &gt;&gt; &#x2F;etc&#x2F;bashrc </span><br><span class="line">source ~&#x2F;.bashrc </span><br><span class="line"></span><br><span class="line"># 使用软链接 </span><br><span class="line">ln -s &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin&#x2F;* &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br></pre></td></tr></table></figure><h1 id="初始化数据库"><a href="#初始化数据库" class="headerlink" title="初始化数据库"></a>初始化数据库</h1><p>以上都完成后, 还不能启动MySQL, 如果非要启动, 会报错. 需要初始化数据库:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;usr&#x2F;local&#x2F;mysql&#x2F;bin&#x2F;mysqld --initialize --user&#x3D;mysql --basedir&#x3D;&#x2F;usr&#x2F;local&#x2F;mysql --datadir&#x3D;&#x2F;home&#x2F;mysql&#x2F;data</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--user :指定用户 </span><br><span class="line">--basedir :mysql所在目录 </span><br><span class="line">--datadir :mysql数据库和表所在的目录,以及PID文件 </span><br></pre></td></tr></table></figure><p>初始化后, 会有一行提示, 冒号后面的是初始密码<code>root@localhost: password</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A temporary password is generated for root@localhost: xKefZvib13)5 </span><br></pre></td></tr></table></figure><h1 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h1><p>以上都配置完成, 就可以启动服务了: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 使用service </span><br><span class="line">service mysql start </span><br><span class="line"></span><br><span class="line"># 使用systemd </span><br><span class="line">systemctl daemon-reload </span><br><span class="line">systemctl start mysql</span><br></pre></td></tr></table></figure><h1 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h1><p>将初始密码修改成自己的密码, 直接在<code>shell</code>中输入命令: <code>mysqladmin -uroot -p&#39;old_pass&#39; password &#39;new_pass&#39;</code> </p><h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h1><p>默认<code>MySQL不</code>需要配置文件, 编译时已经配置好了, 但是也可以使用配置文件, 指定<code>log</code>的位置, 编辑<code>vim /etc/my.cnf</code>, 将以下内容添加到文件中:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line"></span><br><span class="line">port &#x3D; 3306</span><br><span class="line"></span><br><span class="line">socket &#x3D; &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;mysql.sock</span><br><span class="line"></span><br><span class="line">default-character-set&#x3D;utf8mb4</span><br><span class="line">[mysql]</span><br><span class="line">default-character-set&#x3D;utf8mb4</span><br><span class="line">[mysqld]</span><br><span class="line"></span><br><span class="line">character-set-client-handshake&#x3D;FALSE</span><br><span class="line"></span><br><span class="line">character-set-server&#x3D;utf8mb4</span><br><span class="line"></span><br><span class="line">collation-server&#x3D;utf8mb4_unicode_ci</span><br><span class="line"></span><br><span class="line">init_connect&#x3D;&#39;SET NAMES utf8mb4&#39;</span><br><span class="line"></span><br><span class="line">#character-set-server &#x3D; utf8</span><br><span class="line"></span><br><span class="line">#collation-server &#x3D; utf8_general_ci</span><br><span class="line"></span><br><span class="line">skip-external-locking</span><br><span class="line"></span><br><span class="line">skip-name-resolve</span><br><span class="line"></span><br><span class="line">user &#x3D; mysql</span><br><span class="line"></span><br><span class="line">port &#x3D; 3306</span><br><span class="line"></span><br><span class="line">basedir &#x3D; &#x2F;usr&#x2F;local&#x2F;mysql</span><br><span class="line"></span><br><span class="line">datadir &#x3D; &#x2F;home&#x2F;mysql&#x2F;data</span><br><span class="line"></span><br><span class="line">tmpdir &#x3D; &#x2F;home&#x2F;mysql&#x2F;temp</span><br><span class="line"></span><br><span class="line"># server_id &#x3D; .....</span><br><span class="line"></span><br><span class="line">socket &#x3D; &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;mysql.sock</span><br><span class="line"></span><br><span class="line">log-error &#x3D; &#x2F;home&#x2F;mysql&#x2F;logs&#x2F;mysql_error.log</span><br><span class="line"></span><br><span class="line">pid-file &#x3D; &#x2F;home&#x2F;mysql&#x2F;mysql.pid</span><br><span class="line"></span><br><span class="line">open_files_limit &#x3D; 10240</span><br><span class="line"></span><br><span class="line">back_log &#x3D; 600</span><br><span class="line"></span><br><span class="line">max_connections&#x3D;500</span><br><span class="line"></span><br><span class="line">max_connect_errors &#x3D; 6000</span><br><span class="line"></span><br><span class="line">wait_timeout&#x3D;605800</span><br><span class="line"></span><br><span class="line">#open_tables &#x3D; 600</span><br><span class="line"></span><br><span class="line">#table_cache &#x3D; 650</span><br><span class="line"></span><br><span class="line">#opened_tables &#x3D; 630</span><br><span class="line"></span><br><span class="line">max_allowed_packet &#x3D; 32M</span><br><span class="line"></span><br><span class="line">sort_buffer_size &#x3D; 4M</span><br><span class="line"></span><br><span class="line">join_buffer_size &#x3D; 4M</span><br><span class="line"></span><br><span class="line">thread_cache_size &#x3D; 300</span><br><span class="line"></span><br><span class="line">query_cache_type &#x3D; 1</span><br><span class="line"></span><br><span class="line">query_cache_size &#x3D; 256M</span><br><span class="line"></span><br><span class="line">query_cache_limit &#x3D; 2M</span><br><span class="line"></span><br><span class="line">query_cache_min_res_unit &#x3D; 16k</span><br><span class="line"></span><br><span class="line">tmp_table_size &#x3D; 256M</span><br><span class="line"></span><br><span class="line">max_heap_table_size &#x3D; 256M</span><br><span class="line"></span><br><span class="line">key_buffer_size &#x3D; 256M</span><br><span class="line"></span><br><span class="line">read_buffer_size &#x3D; 1M</span><br><span class="line"></span><br><span class="line">read_rnd_buffer_size &#x3D; 16M</span><br><span class="line"></span><br><span class="line">bulk_insert_buffer_size &#x3D; 64M</span><br><span class="line"></span><br><span class="line">lower_case_table_names&#x3D;1</span><br><span class="line"></span><br><span class="line">default-storage-engine &#x3D; INNODB</span><br><span class="line"></span><br><span class="line">innodb_buffer_pool_size &#x3D;2G</span><br><span class="line"></span><br><span class="line">innodb_log_buffer_size &#x3D; 32M</span><br><span class="line"></span><br><span class="line">innodb_log_file_size &#x3D; 128M</span><br><span class="line"></span><br><span class="line">innodb_flush_method &#x3D;O_DIRECT</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#####################</span><br><span class="line"></span><br><span class="line">#thread_concurrency &#x3D; 32 5.7不支持</span><br><span class="line"></span><br><span class="line">long_query_time&#x3D; 2</span><br><span class="line"></span><br><span class="line">slow-query-log&#x3D;on</span><br><span class="line"></span><br><span class="line">slow-query-log-file &#x3D;&#x2F;home&#x2F;mysql&#x2F;logs&#x2F;mysql-slow.log</span><br><span class="line"></span><br><span class="line">[mysqldump]</span><br><span class="line"></span><br><span class="line">quick</span><br><span class="line"></span><br><span class="line">max_allowed_packet &#x3D; 32M</span><br><span class="line"></span><br><span class="line">[mysqld_safe]</span><br><span class="line"></span><br><span class="line">log-error&#x3D;&#x2F;var&#x2F;log&#x2F;mysqld.log</span><br><span class="line"></span><br><span class="line">pid-file&#x3D;&#x2F;var&#x2F;run&#x2F;mysqld&#x2F;mysqld.pid</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql数据更改存储路径</title>
      <link href="p/57aae221/"/>
      <url>p/57aae221/</url>
      
        <content type="html"><![CDATA[<blockquote><p>在初次安装mysql 的时候将数据库目录安装在了系统盘。（第一个磁盘）使用了一段时间之后数据库存储量变大，快将20GB的存放空间占满了。因此必须将存放数据空间换地方了。下面是简单的操作。</p></blockquote><h1 id="检查mysql数据库存放目录"><a href="#检查mysql数据库存放目录" class="headerlink" title="检查mysql数据库存放目录"></a>检查mysql数据库存放目录</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -prootadmin</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#进入数据库</span><br><span class="line"></span><br><span class="line">show variables like &#39;%dir%&#39;;</span><br><span class="line"></span><br><span class="line">#查看sql存储路径</span><br><span class="line"></span><br><span class="line">（查看datadir 那一行所指的路径）</span><br><span class="line"></span><br><span class="line">quit;</span><br></pre></td></tr></table></figure><h1 id="停止mysql服务"><a href="#停止mysql服务" class="headerlink" title="停止mysql服务"></a>停止mysql服务</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysql stop</span><br></pre></td></tr></table></figure><h1 id="创建新的数据库存放目录"><a href="#创建新的数据库存放目录" class="headerlink" title="创建新的数据库存放目录"></a>创建新的数据库存放目录</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;data&#x2F;mysql</span><br></pre></td></tr></table></figure><h1 id="移动-复制之前存放数据库目录文件，到新的数据库存放目录位置"><a href="#移动-复制之前存放数据库目录文件，到新的数据库存放目录位置" class="headerlink" title="移动/复制之前存放数据库目录文件，到新的数据库存放目录位置"></a>移动/复制之前存放数据库目录文件，到新的数据库存放目录位置</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp -R &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;data&#x2F;* &#x2F;data&#x2F;mysql&#x2F; #或mv &#x2F;usr&#x2F;local&#x2F;mysql&#x2F;data&#x2F;* &#x2F;data&#x2F;mysql</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="修改mysql数据库目录权限以及配置文件"><a href="#修改mysql数据库目录权限以及配置文件" class="headerlink" title="修改mysql数据库目录权限以及配置文件"></a>修改mysql数据库目录权限以及配置文件</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">chown mysql:mysql -R &#x2F;data&#x2F;mysql&#x2F;</span><br><span class="line"></span><br><span class="line">vim &#x2F;etc&#x2F;my.cnf</span><br><span class="line"></span><br><span class="line">datadir&#x3D;&#x2F;data&#x2F;mysql （制定为新的数据存放目录）</span><br><span class="line"></span><br><span class="line">vim &#x2F;etc&#x2F;init.d&#x2F;mysql</span><br><span class="line"></span><br><span class="line">datadir&#x3D;&#x2F;data&#x2F;mysql</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="启动数据库服务"><a href="#启动数据库服务" class="headerlink" title="启动数据库服务"></a>启动数据库服务</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld start</span><br></pre></td></tr></table></figure><p>说明：根据以上的简单6步操作，已经成功的数据库目录更换路径了。</p><blockquote><p>备注：以上系统为CentOS Linux release 7.8.2003 (Core)  mysql-5.7.32 编译安装</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>查看LINUX发行版的名称及其版本号</title>
      <link href="p/2399c152/"/>
      <url>p/2399c152/</url>
      
        <content type="html"><![CDATA[<p>查看LINUX发行版的名称及其版本号的命令,这些信息对于添加正确的软件更新源很有用，而当你只能在命令行下工作的时候，下面的方法可以帮忙。</p><h2 id="一、查看Linux内核版本命令（两种方法）："><a href="#一、查看Linux内核版本命令（两种方法）：" class="headerlink" title="一、查看Linux内核版本命令（两种方法）："></a>一、查看Linux内核版本命令（两种方法）：</h2><p>1、<code>cat /proc/version</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat &#x2F;proc&#x2F;version</span><br><span class="line">Linux version 2.6.18-194.8.1.el5.centos.plus</span><br><span class="line">(mockbuild@builder17.centos.org) (gcc version 4.1.220080704</span><br><span class="line">(Red Hat 4.1.2-48)) #1 SMP Wed Jul 7 11:50:45 EDT 2010</span><br></pre></td></tr></table></figure><p>2、<code>uname -a</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# uname -a</span><br><span class="line">Linux localhost.localdomain 2.6.18-194.8.1.el5.centos.plus </span><br><span class="line">#1 SMP Wed Jul 7 11:50:45 EDT 2010 i686 i686 i386 GNU&#x2F;Linux</span><br></pre></td></tr></table></figure><h2 id="二、查看Linux系统版本的命令（3种方法）："><a href="#二、查看Linux系统版本的命令（3种方法）：" class="headerlink" title="二、查看Linux系统版本的命令（3种方法）："></a>二、查看Linux系统版本的命令（3种方法）：</h2><p>1、<code>lsb_release -a</code>，即可列出所有版本信息：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# lsb_release -a</span><br><span class="line">LSB Version: :core-3.1-ia32:core-3.1-noarch:graphics-3.1-ia32:graphics-3.1-noarch</span><br><span class="line">Distributor ID: CentOS</span><br><span class="line">Description: CentOS release 6.5 (Final)</span><br><span class="line">Release: 6.5</span><br><span class="line">Codename: Final</span><br></pre></td></tr></table></figure><p>这个命令适用于所有的Linux发行版，包括Redhat、SuSE、Debian…等发行版。</p><p>2、<code>cat /etc/redhat-release</code>，这种方法只适合Redhat系的Linux：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat &#x2F;etc&#x2F;redhat-release</span><br><span class="line">CentOS release 6.7 (Final)</span><br></pre></td></tr></table></figure><p>3、<code>cat /etc/issue</code>，此命令也适用于所有的Linux发行版。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cat &#x2F;etc&#x2F;issue</span><br><span class="line">CentOS release 6.7 (Final)</span><br><span class="line">Kernel \r on an \m</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>解决github图片不显示问题</title>
      <link href="p/32e6fc54/"/>
      <url>p/32e6fc54/</url>
      
        <content type="html"><![CDATA[<p>修改hosts</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Windows</span><br><span class="line"></span><br><span class="line">C:\Windows\System32\drivers\etc\hosts</span><br><span class="line"></span><br><span class="line">Mac</span><br><span class="line"></span><br><span class="line">vim &#x2F;etc&#x2F;hosts</span><br></pre></td></tr></table></figure><p>在文件末尾添加：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># GitHub Start </span><br><span class="line">192.30.253.112    Build software better, together </span><br><span class="line">192.30.253.119    gist.github.com</span><br><span class="line">151.101.184.133    assets-cdn.github.com</span><br><span class="line">151.101.184.133    raw.githubusercontent.com</span><br><span class="line">151.101.184.133    gist.githubusercontent.com</span><br><span class="line">151.101.184.133    cloud.githubusercontent.com</span><br><span class="line">151.101.184.133    camo.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars0.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars1.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars2.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars3.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars4.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars5.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars6.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars7.githubusercontent.com</span><br><span class="line">151.101.184.133    avatars8.githubusercontent.com</span><br><span class="line"></span><br><span class="line"># GitHub End</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub 图床的正确用法，通过 jsDelivr CDN 全球加速</title>
      <link href="p/7fa69db0/"/>
      <url>p/7fa69db0/</url>
      
        <content type="html"><![CDATA[<h2 id="创建一个-GitHub-公共仓库作为图床仓库，上传提交图片到仓库中"><a href="#创建一个-GitHub-公共仓库作为图床仓库，上传提交图片到仓库中" class="headerlink" title="创建一个 GitHub 公共仓库作为图床仓库，上传提交图片到仓库中"></a>创建一个 GitHub 公共仓库作为图床仓库，上传提交图片到仓库中</h2><p>在要使用 GitHub 图床图片的地方将链接换为 </p><div class="note primary no-icon flat"><p><a href="https://cdn.jsdelivr.net/gh/%7Buser%7D/%7Brepo%7D/%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84">https://cdn.jsdelivr.net/gh/{user}/{repo}/图片路径</a></p></div><h3 id="举个栗子"><a href="#举个栗子" class="headerlink" title="举个栗子"></a>举个栗子</h3><p>比如 GitHub 官方仓库 <code>github/explore</code> 下话题 GitHub 图片原始路径是：</p><div class="note default flat"><p><a href="https://github.com/weilain/cdn-photo/blob/main/banner/bannar.jpg">https://github.com/weilain/cdn-photo/blob/main/banner/bannar.jpg</a></p></div><p>访问起来贼慢。</p><h2 id="使用-jsDelivr-加速后的地址："><a href="#使用-jsDelivr-加速后的地址：" class="headerlink" title="使用 jsDelivr 加速后的地址："></a>使用 jsDelivr 加速后的地址：</h2><div class="note success flat"><p><a href="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/banner/bannar.jpg">https://cdn.jsdelivr.net/gh/weilain/cdn-photo/banner/bannar.jpg</a> </p></div><p>访问速度飞起，享受 <code>jsDelivr</code> 提供的全球 <code>CDN</code> 加速。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/jsdelivr-sdy8y2.png" alt="github--lena"></p><p>hexo 内容 markdown 写法</p><h2 id="文章内引用"><a href="#文章内引用" class="headerlink" title="文章内引用"></a>文章内引用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![github--lena](https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;weilain&#x2F;cdn-photo&#x2F;img&#x2F;3xuci.gif)</span><br></pre></td></tr></table></figure><h2 id="封面引用"><a href="#封面引用" class="headerlink" title="封面引用"></a>封面引用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cover: &#39;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;weilain&#x2F;cdn-photo&#x2F;covers&#x2F;gitlab2.png&#39;</span><br></pre></td></tr></table></figure><p>jsDelivr 还支持加载指定文件版本和自动压缩 JS，具体用法可以参考<a href="https://www.jsdelivr.com/features?utm_source=ld246.com#gh">官方教程</a>。</p>]]></content>
      
      
      <categories>
          
          <category> Github </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jsDelivr </tag>
            
            <tag> CDN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>google-authenticator</title>
      <link href="p/6b915d25/"/>
      <url>p/6b915d25/</url>
      
        <content type="html"><![CDATA[<h2 id="安装方式一："><a href="#安装方式一：" class="headerlink" title="安装方式一："></a>安装方式一：</h2><h3 id="Liunx"><a href="#Liunx" class="headerlink" title="Liunx"></a>Liunx</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install epel-release</span><br><span class="line">yum -y install google-authenticator </span><br></pre></td></tr></table></figure><h3 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo add-apt-repository universe</span><br><span class="line">sudo apt install libpam-google-authenticator</span><br></pre></td></tr></table></figure><h2 id="安装方式二："><a href="#安装方式二：" class="headerlink" title="安装方式二："></a>安装方式二：</h2><h3 id="Liunx-1"><a href="#Liunx-1" class="headerlink" title="Liunx"></a>Liunx</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y git make gcc libtool pam-devel qrencode ntpdate</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;google-authenticator-libpam.git</span><br><span class="line">cd   google-authenticator-libpam&#x2F;</span><br><span class="line">.&#x2F;bootstrap.sh</span><br><span class="line">.&#x2F;configure</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure><h3 id="ubuntu-1"><a href="#ubuntu-1" class="headerlink" title="ubuntu"></a>ubuntu</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get  -y install autoconf  git make gcc libtool libpam0g-dev qrencode ntpdate</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;google&#x2F;google-authenticator-libpam.git</span><br><span class="line">cd   google-authenticator-libpam&#x2F;</span><br><span class="line">.&#x2F;bootstrap.sh</span><br><span class="line">.&#x2F;configure</span><br><span class="line">sudo make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><h2 id="配置ssh"><a href="#配置ssh" class="headerlink" title="配置ssh"></a>配置ssh</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config    #ubuntu   sudo</span><br></pre></td></tr></table></figure><h3 id="修改如下的配置项："><a href="#修改如下的配置项：" class="headerlink" title="修改如下的配置项："></a>修改如下的配置项：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ChallengeResponseAuthentication yes</span><br><span class="line">UsePAM yes</span><br></pre></td></tr></table></figure><h3 id="配置PAM"><a href="#配置PAM" class="headerlink" title="配置PAM"></a>配置PAM</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;pam.d&#x2F;sshd      #ubuntu   sudo</span><br></pre></td></tr></table></figure><h3 id="Liunx-2"><a href="#Liunx-2" class="headerlink" title="Liunx"></a>Liunx</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#%PAM-1.0</span><br><span class="line">auth      required     pam_google_authenticator.so   #添加至第一行</span><br></pre></td></tr></table></figure><h3 id="ubuntu-2"><a href="#ubuntu-2" class="headerlink" title="ubuntu"></a>ubuntu</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">auth      required      pam_google_authenticator.so       #末尾添加</span><br></pre></td></tr></table></figure><h2 id="重启ssh"><a href="#重启ssh" class="headerlink" title="重启ssh"></a>重启ssh</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart sshd     #ubuntu   sudo</span><br></pre></td></tr></table></figure><h2 id="配置google-authenticator"><a href="#配置google-authenticator" class="headerlink" title="配置google authenticator"></a>配置google authenticator</h2><p>首要条件：先切换到你需要设置的帐号 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">google-authenticator</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Do you want authentication tokens to be time-based (y&#x2F;n)  #基于时间生成身份验证</span><br><span class="line">#已经安装qrencode会产生一个二维码，二维码连接也可以URL显示</span><br><span class="line">Your new secret key is ：***********   # 密钥key</span><br><span class="line">Your verification code is : #code 动态码</span><br><span class="line">Your emergency scratch codes are:  #  生成5 个紧急救助码</span><br><span class="line">Do you want me to update your &quot;&#x2F;root&#x2F;.google_authenticator&quot; file? (y&#x2F;n)  #一直确认下去</span><br><span class="line"># 生成了一个 .google_authenticator 文件</span><br><span class="line"></span><br><span class="line">your chances to notice or even prevent man-in-the-middle attacks (y&#x2F;n)  #一直确认下去</span><br><span class="line">Do you want to do so? (y&#x2F;n)   #一直确认下去</span><br><span class="line">Do you want to enable rate-limiting? (y&#x2F;n)  #设置完成</span><br><span class="line"></span><br><span class="line">#上面的意思大概为：禁止多次使用相同的身份验证，限制每30秒登录一次，移动端每30秒更新一次，移动端和客户端时间误差30秒，30秒内不能超过3次登录。</span><br></pre></td></tr></table></figure><p>如果需要删除一个用户的Google验证，删除这个用户下产生的<code>home/.google_authenticator</code>文件即可</p>]]></content>
      
      
      <categories>
          
          <category> 奇怪的知识点 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> google </tag>
            
            <tag> authenticator </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>awk和sed截取nginx和tomcat时间段日志</title>
      <link href="p/31397f6f/"/>
      <url>p/31397f6f/</url>
      
        <content type="html"><![CDATA[<h4 id="nginx日志截取示例"><a href="#nginx日志截取示例" class="headerlink" title="nginx日志截取示例"></a>nginx日志截取示例</h4><p>日志路径：/usr/local/nginx/logs, 截取access.log中2019年3月24日17点00~02之间的日志：<br>　写法1：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat access.log | awk &#39;$4 &gt;&#x3D;&quot;[24&#x2F;Mar&#x2F;2019:17:00:00&quot; &amp;&amp; $4 &lt;&#x3D;&quot;[24&#x2F;Mar&#x2F;2019:17:02:00&quot;&#39;</span><br></pre></td></tr></table></figure><p>　写法2：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat access.log | egrep &quot;24&#x2F;Mar&#x2F;2019&quot; | awk -F&#39;:&#39; &#39;$2 &#x3D; 17 &amp;&amp; $3 &gt;&#x3D; 00 &amp;&amp; $3 &lt;&#x3D; 02&#39;</span><br></pre></td></tr></table></figure><p>　写法3：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat access.log |egrep &quot;24&#x2F;Mar&#x2F;2019&quot; |sed -n &#39;&#x2F;17:00:00&#x2F;,&#x2F;17:02:00&#x2F;p&#39;</span><br></pre></td></tr></table></figure><h4 id="tomcat日志截取示例"><a href="#tomcat日志截取示例" class="headerlink" title="tomcat日志截取示例"></a>tomcat日志截取示例</h4><p>日志路径：/usr/local/tomcat/logs, 截取catalina.out中2019年3月24日17点00~02之间的日志：<br>    写法1：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -n &#39;&#x2F;2019-03-24 17:00:&#x2F;,&#x2F;2019-03-24 17:02:&#x2F;p&#39;  catalina.out</span><br></pre></td></tr></table></figure><p>  写法2：<br>    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat catalina.out| egrep &quot;2019-03-24&quot; | awk -F&#39;:&#39; &#39;$2 &#x3D; 17 &amp;&amp; $3 &gt;&#x3D; 00 &amp;&amp; $3 &lt;&#x3D; 02&#39;</span><br></pre></td></tr></table></figure></p><h4 id="awk统计nginx日志的ip访问量"><a href="#awk统计nginx日志的ip访问量" class="headerlink" title="awk统计nginx日志的ip访问量"></a>awk统计nginx日志的ip访问量</h4><pre><code>nginx日志事先截取一部分：tail -n500 access.log &gt;access.log1</code></pre><p>第一种：使用awk sort，$1表示以空格为分割符的第一列，也就是文件中的ip地址，使用sort对结果排序，uniq -c进行计数，最后sort -n是以“数字”来排序，针对统计后的访问次数来排序</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &#39;&#123;print $1&#125;&#39; access.log1|sort |uniq -c|sort -n</span><br></pre></td></tr></table></figure><p>第二种：awk for,即数组; 默认变量为0，对每一行的$1作为key，count数组++，实现ip的计数。计数结束后END。然后把结果打印出来，最后sort -n以“数字”排序。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &#39;&#123;count[$1]++;&#125;END&#123;for(i in count)&#123;printf(&quot;%s\t%s\n&quot;, count[i], i);&#125;&#125;&#39; access.log1|sort -n</span><br></pre></td></tr></table></figure><h4 id="取nginx日志访问接口次数"><a href="#取nginx日志访问接口次数" class="headerlink" title="取nginx日志访问接口次数"></a>取nginx日志访问接口次数</h4><p>通过上面的方法将某个时间段日志取出来，查询该时间段访问接口最多的前10：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line"> #统计接口的访问次数</span><br><span class="line"> TODAY&#x3D;&#96;date +%d&#x2F;%b&#x2F;%Y&#96;</span><br><span class="line"> cat $1 |awk -F &#39;&quot;&#39; &#39;&#123;print $2&#125;&#39;|awk &#39;&#123;split($2,res,&quot;?&quot;) ; print res[1] &#125;&#39;|sort|uniq -c|sort -gr |head -n10</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> awk </tag>
            
            <tag> sed </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何注册谷歌账号，遇到“此电话号码无法用于进行验证”怎么办</title>
      <link href="p/4b638dc2/"/>
      <url>p/4b638dc2/</url>
      
        <content type="html"><![CDATA[<h2 id="第1步：找到谷歌账号注册入口"><a href="#第1步：找到谷歌账号注册入口" class="headerlink" title="第1步：找到谷歌账号注册入口"></a>第1步：找到谷歌账号注册入口</h2><p>打开Google，在谷歌搜索的主界面，找到右上角的登录账号按钮。我这里浏览器语言是中文的，所以是显示中文，如果是默认英文语言的浏览器，打开就会显示英文，但按钮位置是相同的。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-1.png" alt="github--lena"></p><p>点击“登录”按钮后，在新跳转的页面点击“创建账号”<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-2.png" alt="github--lena"><br>没有特别需求，点击“为我自己创建”即可。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-3.png" alt="github--lena"></p><h2 id="第2步：填写谷歌账号申请资料"><a href="#第2步：填写谷歌账号申请资料" class="headerlink" title="第2步：填写谷歌账号申请资料"></a>第2步：填写谷歌账号申请资料</h2><p>按提示要求，填写相应的账号资料，填写完成后，点击“下一步”按钮。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-4.png" alt="github--lena"></p><h2 id="第3步：验证手机号码"><a href="#第3步：验证手机号码" class="headerlink" title="第3步：验证手机号码"></a>第3步：验证手机号码</h2><p>为了防止滥用以及保护账号安全，Google账号需要绑定你的手机号码，点击国旗位置，可以切换到不同国家地区。根据自身手机号码所在地区，切换到对应的国家位置，然后填写手机号，进行下一步验证。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-5.png" alt="github--lena"></p><h2 id="第4步：遇到“此电话号码无法用于进行验证”该怎么办"><a href="#第4步：遇到“此电话号码无法用于进行验证”该怎么办" class="headerlink" title="第4步：遇到“此电话号码无法用于进行验证”该怎么办"></a>第4步：遇到“此电话号码无法用于进行验证”该怎么办</h2><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-6.png" alt="github--lena"><br>号码无法验证，就无法完成账号的注册。经过多次测试，我们发现这个问题跟浏览器的语言设置有关系。语言设置为中文的浏览器，就会遇到这个问题。解决的方法也很简单，以谷歌Chrome浏览器为例，我们看下该如何设置。</p><p>首先，打开谷歌浏览器，找到“设置”入口：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-7.png" alt="github--lena"></p><p>然后，在设置界面左侧栏，查看高级功能：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-8.png" alt="github--lena"></p><p>在高级功能中，找到“语言”选项：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-9.png" alt="github--lena"></p><p>点击下拉标签，查看语言设置：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-10.png" alt="github--lena"></p><p>点击“添加语言”：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-11.png" alt="github--lena"></p><p>添加“英语-美国”：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-12.png" alt="github--lena"></p><p>打开中文（简体）语言选项：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-13.png" alt="github--lena"></p><p>删除中文语言：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-14.png" alt="github--lena"></p><p>只留下英文语言：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-15.png" alt="github--lena"></p><p>以上设置完成后，关闭浏览器，然后重新打开，重新申请谷歌账号，你会发现电话号码问题没有了。</p><h2 id="第5步：通过验证码进行账号验证"><a href="#第5步：通过验证码进行账号验证" class="headerlink" title="第5步：通过验证码进行账号验证"></a>第5步：通过验证码进行账号验证</h2><p>手机接收到验证码后，按要求填入，然后点击“验证”。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-16.png" alt="github--lena"></p><p>成功验证后，填写账号需求的其他信息：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-17.jpg" alt="github--lena"></p><p>在其他Google服务中使用号码，直接跳过：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-18.png" alt="github--lena"></p><h2 id="第6步：同意Google账号相关条款"><a href="#第6步：同意Google账号相关条款" class="headerlink" title="第6步：同意Google账号相关条款"></a>第6步：同意Google账号相关条款</h2><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-19.jpg" alt="github--lena"></p><p>点击“我同意”<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-20.png" alt="github--lena"></p><h2 id="第7步：成功注册谷歌账号"><a href="#第7步：成功注册谷歌账号" class="headerlink" title="第7步：成功注册谷歌账号"></a>第7步：成功注册谷歌账号</h2><p>通过以上步骤，谷歌账号就注册好了，在谷歌搜索界面可以看到账号已经处于登录状态。<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/create-google-account-21.png" alt="github--lena"></p>]]></content>
      
      
      <categories>
          
          <category> 奇怪的知识点 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> google </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>selenium基础-打开百度进行搜索</title>
      <link href="p/1f7c743b/"/>
      <url>p/1f7c743b/</url>
      
        <content type="html"><![CDATA[<ol><li><p>安装Python3</p></li><li><p>安装selenium</p><div class="note warning flat"><p>注意不同的python版本</p></div></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install selenium</span><br></pre></td></tr></table></figure><ol start="3"><li>下载谷歌驱动ChromeDriver包，放到Python的目录下</li></ol><div class="note success flat"><p><a href="http://chromedriver.storage.googleapis.com/index.html">http://chromedriver.storage.googleapis.com/index.html</a></p></div><div class="note warning flat"><p>mac 安装路径解压到</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;usr&#x2F;local&#x2F;bin</span><br></pre></td></tr></table></figure><p>windows 解压到与 python.exe 同级</p></div><ol start="4"><li>编写代码，如下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"># coding: utf-8</span><br><span class="line"></span><br><span class="line">from selenium import webdriver  # 浏览器驱动器</span><br><span class="line">from selenium.webdriver.common.by import By  # 定位器</span><br><span class="line">from selenium.webdriver.common.keys import Keys  # 键盘对象</span><br><span class="line">from selenium.webdriver.support import expected_conditions as EC  # 判断器</span><br><span class="line">from selenium.webdriver.support.wait import WebDriverWait  # 浏览器等待对像</span><br><span class="line">import time</span><br><span class="line"># 创建一个谷歌浏览器对象</span><br><span class="line">browser &#x3D; webdriver.Chrome()</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    # 浏览器对象打开百度地址</span><br><span class="line">    browser.get(&quot;https:&#x2F;&#x2F;www.baidu.com&quot;)</span><br><span class="line">    # 查找id为 &#39;kw&#39;的标签，即输入框</span><br><span class="line">    inputs &#x3D; browser.find_element_by_id(&quot;kw&quot;)</span><br><span class="line">    # 在输入框中填入&#39;Python&#39;</span><br><span class="line">    inputs.send_keys(&quot;Python&quot;)</span><br><span class="line">    # &#39;按下&#39;回车键（第一种）</span><br><span class="line">    inputs.send_keys(Keys.ENTER)</span><br><span class="line">    # 点击&#39;百度一下&#39;（第二种）</span><br><span class="line">    # browser.find_element_by_id(&quot;su&quot;).click()</span><br><span class="line">    # 创建一个等待对像，超时时间为10秒，调用的时间间隔为0.5</span><br><span class="line">    wait &#x3D; WebDriverWait(browser, 10, 0.5)</span><br><span class="line">    # 每隔0.5秒检查一次，直到页面元素出现id为&#39;content_left&#39;的标签</span><br><span class="line">    wait.until(EC.presence_of_all_elements_located((By.ID, &quot;content_left&quot;)))</span><br><span class="line">except Exception as e:</span><br><span class="line">    print (e)</span><br><span class="line">else:</span><br><span class="line">    # 打印请求的url</span><br><span class="line">    print (browser.current_url)</span><br><span class="line">    # 打印所有cookies</span><br><span class="line">    print (browser.get_cookies())</span><br><span class="line">finally:</span><br><span class="line">    # 等待10秒</span><br><span class="line">    time.sleep(10)</span><br><span class="line">    # 关闭浏览器对象</span><br><span class="line">    browser.close()</span><br></pre></td></tr></table></figure><div class="note warning flat"><p>py2与py3 print 语法不同 </p></div></li></ol>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>开往下一个世界 — 友链接力</title>
      <link href="p/ba1e0fab/"/>
      <url>p/ba1e0fab/</url>
      
        <content type="html"><![CDATA[<div class="note info flat"><p>互联网将人与人之间的距离大大减小，却还是形成了大大小小的孤岛。只有熟人间才知道彼此，而陌生人永远只能是陌生人。</p></div><h2 id="什么是开往-友链接力"><a href="#什么是开往-友链接力" class="headerlink" title="什么是开往 - 友链接力"></a>什么是开往 - 友链接力</h2><p>互联网经历了一个封闭到开放，现在逐渐又走向封闭的过程。大大小小的孤岛散落在浩瀚烟海，来往就像是一颗颗星球之间的快速列车，随机的跳向下一站。</p><div class="note success flat"><p>我想在这烟海发现下一颗星…</p></div><p>开往-友链助力是传统友链的增强，我们不必互相知道了解彼此，标准的审查让友好的朋友加入我们，只需要一个徽标，占用一块位置，我们所有人都联系在了一起，简单而又强大。</p><h2 id="和我一起加入开往"><a href="#和我一起加入开往" class="headerlink" title="和我一起加入开往"></a>和我一起加入开往</h2><p>『开往』取自「开放的网络」。将开往的徽标插入您的网站，表示您支持开放的网络。</p><p>每当有用户访问加入开往的网站时，点击徽标后会随机跳转到另一个加入开往的网站。加入开往的网站越多，友链接力的规模越大，分享的流量也越多。</p><p>“ 网站E → 开往 → 网站X → 开往 → 网站A → 开往 → 网站M → 开往 → 网站P → 开往 → 网站L → 开往 → 网站E … “</p><p>Github 地址：</p><div class="note success flat"><p><a href="https://github.com/volfclub/travellings">https://github.com/volfclub/travellings</a></p></div><p>这是项目的 Github 地址，在 issue 中提交申请，几日内就会受理。但是申请的网站必须满足几点要求：</p><ol><li>愿为开放的网络做出贡献（如分享知识经验设计等）；</li><li>没有违法以及影响体验的内容（如侵入式广告等）；</li><li>正常更新维护中（国内无法正常访问会被移除）；</li><li>强制启用 https 。</li></ol><p>将徽标插入打开您网页后能直接看到的地方（让友链传递下去），提出 issues 申请收录。这一般在 7 个工作日内完成审核。对于博客等不方便插入徽标的网页，建议在顶部或侧栏导航插入 Travelling 或开往的外链，在网页底部插入徽标。</p><p>参开代码如下，也可以自定义 logo:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;travellings.now.sh&#x2F;&quot; target&#x3D;&quot;blank&quot; title&#x3D;&quot;开往-友链接力&quot;&gt;&lt;img src&#x3D;&quot;https:&#x2F;&#x2F;travellings.now.sh&#x2F;assets&#x2F;logo.gif&quot; alt&#x3D;&quot;开往-友链接力&quot; width&#x3D;&quot;120&quot;&gt;&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure><p>愿我们不再孤独。</p>]]></content>
      
      
      <categories>
          
          <category> link </category>
          
      </categories>
      
      
        <tags>
            
            <tag> link </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo 升级教程</title>
      <link href="p/cb1e6c4f/"/>
      <url>p/cb1e6c4f/</url>
      
        <content type="html"><![CDATA[<h5 id="简-述：-将电脑的-hexo-v4-2-1-升级到-hexo-v5-1-1-。"><a href="#简-述：-将电脑的-hexo-v4-2-1-升级到-hexo-v5-1-1-。" class="headerlink" title="简 述： 将电脑的 hexo v4.2.1 升级到 hexo v5.1.1 。"></a>简 述： 将电脑的 <code>hexo v4.2.1</code> 升级到 <code>hexo v5.1.1</code> 。</h5><h3 id="背景："><a href="#背景：" class="headerlink" title="背景："></a>背景：</h3><p><code>hexo clean &amp;&amp; hexo g -s</code> 后，发现会强制将所有文章的文件的修改日期，在文章中显示，很明显，这是不对的。解决方案是：修改 hexo 工作目录下 <code>_config.yml</code> 中修改为 <code>updated_option: &quot;date&quot;</code> ，但是这个变量是只有 hexo v5.0 才支持，而我当前是 v4.2。</p><h5 id="未升级之前，当前配置"><a href="#未升级之前，当前配置" class="headerlink" title="未升级之前，当前配置:"></a>未升级之前，当前配置:</h5><ul><li>hexo: 4.2.1</li><li>node: 12.18.3</li></ul><h3 id="升级-Hexo"><a href="#升级-Hexo" class="headerlink" title="升级 Hexo:"></a>升级 Hexo:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 使用淘宝源的 cnpm 替换 npm</span><br><span class="line">npm install -g cnpm --registry&#x3D;https:&#x2F;&#x2F;registry.npm.taobao.org</span><br><span class="line"></span><br><span class="line">cnpm install -g cnpm                 # 升级 npm</span><br><span class="line">cnpm cache clean -f                 # 清除 npm 缓存</span><br><span class="line"></span><br><span class="line">&#x3D;&#x3D;&#x3D;更新 hexo: 进入 blog 目录，执行如下命令&#x3D;&#x3D;&#x3D; </span><br><span class="line"># 更新 package.json 中的 hexo 及个插件版本</span><br><span class="line">cnpm install -g npm-check           # 检查之前安装的插件，都有哪些是可以升级的 </span><br><span class="line">cnpm install -g npm-upgrade         # 升级系统中的插件</span><br><span class="line">npm-check</span><br><span class="line">npm-upgrade</span><br><span class="line"></span><br><span class="line"># 更新 hexo 及所有插件</span><br><span class="line">cnpm update</span><br><span class="line"></span><br><span class="line"># 确认 hexo 已经更新</span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure><h5 id="升级之后的版本："><a href="#升级之后的版本：" class="headerlink" title="升级之后的版本："></a>升级之后的版本：</h5><ul><li>Hexo: 5.1.1</li><li>Node: 12.18.3</li></ul><p>再次正常推送，成功达到预期。</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>修改脚底自定义标签</title>
      <link href="p/8cad5570/"/>
      <url>p/8cad5570/</url>
      
        <content type="html"><![CDATA[<h2 id="创建样式"><a href="#创建样式" class="headerlink" title="创建样式"></a>创建样式</h2><p>找到<code>themes/butterfly/source/css/_global/function.styl</code>文件,任意位置添加代码</p><p>样式代码可以自定义添加<br>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;*底部信息*&#x2F;</span><br><span class="line"></span><br><span class="line">.github-badge &#123;</span><br><span class="line">    margin-left: 5px;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    text-shadow: none;</span><br><span class="line">    color: #fff;</span><br><span class="line">    line-height: 15px;</span><br><span class="line">    background-color: #abbac3;</span><br><span class="line">    margin-bottom: 5px;</span><br><span class="line">    font-size: 12px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.github-badge .badge-subject &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    background-color: #4d4d4d;</span><br><span class="line">    padding: 4px 4px 4px 6px;</span><br><span class="line">    border-top-left-radius: 4px;</span><br><span class="line">    border-bottom-left-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.github-badge .badge-value &#123;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    padding: 4px 6px 4px 4px;</span><br><span class="line">    border-top-right-radius: 4px;</span><br><span class="line">    border-bottom-right-radius: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.github-badge .bg-blue &#123;</span><br><span class="line">    background-color: #007ec6;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.github-badge .bg-brightgreen &#123;</span><br><span class="line">    background-color: #4dc820;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.github-badge .bg-orange &#123;</span><br><span class="line">    background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.github-badge .bg-gradient &#123;</span><br><span class="line">    background: linear-gradient(to right,#3ca5f6,#a86af9);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.github-badge .bg-blueviolet &#123;</span><br><span class="line">    background-color: #8833d7;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p>找到<code>themes/butterfly/layout/includes/footer.pug</code>文件,添加下面代码即可</p><p>引用样式，可以按照格式自定义删减加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">.github-badge</span><br><span class="line">    a(style&#x3D;&#39;color:#fff&#39;, rel&#x3D;&#39;external nofollow noopener noreferrer&#39;, href&#x3D;&#39;https:&#x2F;&#x2F;hexo.io&#x2F;&#39;, target&#x3D;&#39;_blank&#39;, title&#x3D;&#39;由 Hexo 强力驱动&#39;, data-pjax-state&#x3D;&#39;&#39;)</span><br><span class="line">      span.badge-subject Powered</span><br><span class="line">      span.badge-value.bg-blue Hexo</span><br><span class="line">  </span><br><span class="line">  .github-badge</span><br><span class="line">    a(style&#x3D;&#39;color:#fff&#39;, rel&#x3D;&#39;external nofollow noopener noreferrer&#39;, href&#x3D;&#39;https:&#x2F;&#x2F;coding.net&#x2F;&#39;, target&#x3D;&#39;_blank&#39;, title&#x3D;&#39;静态网页托管于 GitHub Pages 和 Coding Pages&#39;, data-pjax-state&#x3D;&#39;&#39;)</span><br><span class="line">      span.badge-subject Hosted</span><br><span class="line">      span.badge-value.bg-brightgreen Coding</span><br><span class="line">  .github-badge</span><br><span class="line">    a(style&#x3D;&#39;color:#fff&#39;, rel&#x3D;&#39;external nofollow noopener noreferrer&#39;, href&#x3D;&#39;https:&#x2F;&#x2F;github.com&#x2F;&#39;, target&#x3D;&#39;_blank&#39;, title&#x3D;&#39;静态网页托管于 GitHub Pages 和 Coding Pages&#39;, data-pjax-state&#x3D;&#39;&#39;)</span><br><span class="line">      span.badge-subject Hosted</span><br><span class="line">      span.badge-value.bg-brightgreen GitHub </span><br><span class="line"></span><br><span class="line">  .github-badge</span><br><span class="line">    a(style&#x3D;&#39;color:#fff&#39;, rel&#x3D;&#39;external nofollow noopener noreferrer&#39;, href&#x3D;&#39;https:&#x2F;&#x2F;www.jsdelivr.com&#x2F;&#39;, target&#x3D;&#39;_blank&#39;, title&#x3D;&#39;jsDelivr 提供 CDN 加速服务&#39;, data-pjax-state&#x3D;&#39;&#39;)</span><br><span class="line">      span.badge-subject CDN</span><br><span class="line">      span.badge-value.bg-orange jsDelivr</span><br><span class="line">  .github-badge</span><br><span class="line">    a(style&#x3D;&#39;color:#fff&#39;, rel&#x3D;&#39;external nofollow noopener noreferrer&#39;, href&#x3D;&#39;http:&#x2F;&#x2F;creativecommons.org&#x2F;licenses&#x2F;by-nc-sa&#x2F;4.0&#x2F;&#39;, target&#x3D;&#39;_blank&#39;, title&#x3D;&#39;本站点采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议进行许可&#39;, data-pjax-state&#x3D;&#39;&#39;)</span><br><span class="line">      span.badge-subject</span><br><span class="line">        i.fa.fa-copyright</span><br><span class="line">      span.badge-value.bg-gradient BY-NC-SA 4.0</span><br><span class="line"></span><br><span class="line">  .github-badge</span><br><span class="line">    a(style&#x3D;&#39;color:#fff&#39;, rel&#x3D;&#39;external nofollow noopener noreferrer&#39;, href&#x3D;&#39;https:&#x2F;&#x2F;github.com&#x2F;jerryc127&#x2F;hexo-theme-butterfly&#39;, target&#x3D;&#39;_blank&#39;, title&#x3D;&#39;主题&#39;, data-pjax-state&#x3D;&#39;&#39;)</span><br><span class="line">      span.badge-subject Theme</span><br><span class="line">      span.badge-value.bg-blueviolet Butterfly </span><br><span class="line">  </span><br><span class="line">  .github-badge</span><br><span class="line">    a(style&#x3D;&#39;color:#fff&#39;, rel&#x3D;&#39;external nofollow noopener noreferrer&#39;, href&#x3D;&#39;http:&#x2F;&#x2F;www.beian.miit.gov.cn&#x2F;&#39;, target&#x3D;&#39;_blank&#39;, title&#x3D;&#39;备案&#39;, data-pjax-state&#x3D;&#39;&#39;)</span><br><span class="line">      span.badge-subject 浙ICP备</span><br><span class="line">      span.badge-value.bg-orange 20027461号</span><br><span class="line">  .github-badge</span><br><span class="line">    span.badge-subject 本站已安全运行</span><br><span class="line">    a(style&#x3D;&#39;text-decoration:none;color:#fff;background:#007ec6;padding: 4px 4px 4px 6px;border-top-right-radius: 4px;border-bottom-right-radius: 4px;width:168px;display: inline-block;&#39;,id&#x3D;&#39;running-time&#39;, rel&#x3D;&#39;external nofollow noopener noreferrer&#39;, href&#x3D;&#39;&#39;, target&#x3D;&#39;_blank&#39;, title&#x3D;&#39;网站运行时间&#39;, data-pjax-state&#x3D;&#39;&#39;)</span><br><span class="line">  #running-time</span><br><span class="line">    script.</span><br><span class="line">      setInterval(()&#x3D;&gt;&#123;let create_time&#x3D;Math.round(new Date(&#39;2020-07-20 00:00:00&#39;).getTime()&#x2F;1000);let timestamp&#x3D;Math.round((new Date().getTime()+8*60*60*1000)&#x2F;1000);let second&#x3D;timestamp-create_time;let time&#x3D;new Array(0,0,0,0,0);if(second&gt;&#x3D;365*24*3600)&#123;time[0]&#x3D;parseInt(second&#x2F;(365*24*3600));second%&#x3D;365*24*3600;&#125;if(second&gt;&#x3D;24*3600)&#123;time[1]&#x3D;parseInt(second&#x2F;(24*3600));second%&#x3D;24*3600;&#125;if(second&gt;&#x3D;3600)&#123;time[2]&#x3D;parseInt(second&#x2F;3600);second%&#x3D;3600;&#125;if(second&gt;&#x3D;60)&#123;time[3]&#x3D;parseInt(second&#x2F;60);second%&#x3D;60;&#125;if(second&gt;0)&#123;time[4]&#x3D;second;&#125;currentTimeHtml&#x3D;time[0]+&#39; 年 &#39;+time[1]+&#39;  天  &#39;+time[2]+&#39;  时  &#39;+time[3]+&#39;  分  &#39;+time[4]+&#39;  秒&#39;;document.getElementById(&quot;running-time&quot;).innerHTML&#x3D;currentTimeHtml;&#125;,1000);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kubernetes 调度和驱逐</title>
      <link href="p/761d0096/"/>
      <url>p/761d0096/</url>
      
        <content type="html"><![CDATA[<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p><a href="https://kubernetes.io/zh/docs/concepts/scheduling-eviction/assign-pod-node/">Kubernetes 调度和驱逐 doc</a></p><ul><li>node上所有组件（kubelet/kube-proxy）都是与apiserver通信</li><li>master上两个组件（scheduler/controller-manager）都是与apiserver通信</li><li>apiserver将其他组件通信产生的事件、状态都保存到了与etcd数据库中</li><li>其他组件与apiserver周期性watch事件。</li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/image-94cf1a9a.png" alt="github--lena"></p><p>图片解释：</p><p><code>kubectl</code>通过读取集群配置文件 <code>~/.kube/config</code> 将请求发给<code>apiserver</code>，之后<code>apiserver</code>将创建pod的属性信息写入到<code>etcd</code>中，<code>etcd</code>会响应一个状态给<code>apiserver</code>，保存<code>etcd</code>成功会在控制台显示<code>pod/&lt;pod名称&gt; created</code>，之后调度组件<code>scheduler</code>上线，负责将新的<code>pod</code>分配到合适的节点上，调度之后，将结果响应给<code>apiserver</code>，<code>apiserver</code>再将结果保存到<code>etcd</code>中，<code>kubelet</code>当发现有个<code>pod</code>被绑定到自己的节点上时，就会调用<code>docker</code>的<code>api</code>去创建容器，容器创建之后，<code>docekr</code>会返回一个状态给<code>kubelet</code>，创建成功之后，<code>kubelet</code>再通知<code>apiserver</code>容器状态，之后<code>apiserver</code>再将状态写入到<code>etcd</code>中，之后就可以使用<code>kubelet get pod</code>去查看<code>pod</code>的状态了</p><blockquote><p>注意：有人会注意到，上图中少了两个组件，分别是node上的kube-proxy和master上的controller-manager,其中kube-proxy主要负责pod的服务发现和负载均衡，在图片中的位置就是介于kubelet与Docker之间,它的很多工作与kubelet是并行完成的，主要负责提供pod对外访问的一种形式。controller-manager组件主要是完成后台的一些任务，例如deployment与daemonset控制器等，而图片中是不涉及到创建控制器的步骤的，故与controller-manager就没什么关系，如果要创建控制器的话，角色位置介于Scheduler与kubelet之间，它负责创建多少个副本，启动多少个副本，滚动更新等更高级的功能。</p></blockquote><blockquote><p>总结：</p></blockquote><blockquote><p><code>kubectl</code> <code>( .kube/config)</code> -&gt; <code>apiserver</code> -&gt; <code>write etcd</code> -&gt; <code>scheduler</code> -&gt; 调度结果响应给<code>apiserver</code> -&gt; <code>kubelet</code> 发现有分配到我的节点<code>pod</code> -&gt; 调用<code>docker api</code>创建容器 -&gt; 通知<code>apiserver</code> 容器状态</p></blockquote><h2 id="影响Pod调度的因素"><a href="#影响Pod调度的因素" class="headerlink" title="影响Pod调度的因素"></a>影响Pod调度的因素</h2><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/image-d5fa9f73.png" alt="github--lena"></p><p>参数解释：</p><ul><li>resources：pod占用的硬件资源（资源调度依据）</li><li>schedulerName：默认调度器</li><li>nodeName：Scheduler控制器调度绑定的节点</li><li>nodeSelector：标签选择器</li><li>affinity：节点亲和性</li><li>tolerations：污点容忍</li></ul><blockquote><p>注意：调度器（schedulerName）除了使用自己的一些默认行为和默认策略之外，也会参考其他调度策略的值（主要参考）。</p></blockquote><h2 id="resources：资源限制"><a href="#resources：资源限制" class="headerlink" title="resources：资源限制"></a>resources：资源限制</h2><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/iimage-9167643a.png" alt="github--lena"></p><p>Pod和Container的资源请求和限制：</p><ul><li><p>spec.containers[ ].resources.limits.cpu</p></li><li><p>spec.containers[ ].resources.limits.memory</p></li><li><p>spec.containers[ ].resources.requests.cpu</p></li><li><p>spec.containers[ ].resources.requests.memory</p></li><li><p>参数解释：</p></li><li><p>requests：资源请求值，部署资源的最小配合，是调度依据，会根据requests的值去判定当前集群中有无节点去满足请求的量</p></li><li><p>limits：资源最大使用</p></li></ul><blockquote><p>requests必须小于limits的值！</p></blockquote><p>扩展：查看当前节点的资源信息：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl describe node &lt;node-name&gt;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/image-8b44afcd.png" alt="github--lena"></p><blockquote><p>注意： 若pod没有配置resources值，则pod可以使用宿主机所有资源，并且调度不参考配额</p></blockquote><p>建议：<code>requests</code>与<code>limits</code>不要相差太多</p><h2 id="nodeSelector-amp-nodeAffinity-（节点标签和节点亲和）"><a href="#nodeSelector-amp-nodeAffinity-（节点标签和节点亲和）" class="headerlink" title="nodeSelector &amp; nodeAffinity （节点标签和节点亲和）"></a>nodeSelector &amp; nodeAffinity （节点标签和节点亲和）</h2><h3 id="nodeSelector"><a href="#nodeSelector" class="headerlink" title="nodeSelector"></a>nodeSelector</h3><p><code>nodeSelector</code>：用于将Pod调度到匹配<code>Label</code> 的Node上</p><p>给节点打标签并查看对应节点的标签：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kubectl label nodes &lt;node-name&gt; key&#x3D;value</span><br><span class="line">kubectl get nodes &lt;node-name&gt; --show-labels</span><br></pre></td></tr></table></figure><blockquote><p>应用场景：适用于多节点，且不同节点配置不一，功能不一的情况。</p></blockquote><p>yaml示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  name: pod-example</span><br><span class="line">spec:</span><br><span class="line">  nodeSelector:</span><br><span class="line">    disktype: ssd</span><br><span class="line">  containers:</span><br><span class="line">  - name: nginx</span><br><span class="line">    image: nginx:1.15</span><br></pre></td></tr></table></figure><blockquote><p>注意：若没有匹配到任何标签，则pod会显示pending状态，节点都不可用</p></blockquote><h3 id="nodeAffinity"><a href="#nodeAffinity" class="headerlink" title="nodeAffinity"></a>nodeAffinity</h3><p><code>nodeAffinity</code>：节点亲和性，类似于<code>nodeSelector</code>，可以根据节点上的标签来约束Pod可以调度到哪些节点。</p><p>相比<code>nodeSelector</code>：</p><ul><li>匹配有更多的逻辑组合，不只是字符串的完全相等(nodeSelector是绝对相等的匹配)</li><li>调度分为软策略和硬策略，而不是硬性要求<br>a.硬（required）：必须满足<br>b.软（preferred）：尝试满足，但不保证</li></ul><p>操作符：<code>In</code>、<code>NotIn</code>、<code>Exists</code>、<code>oesNotExist</code>、<code>Gt</code>、<code>Lt</code></p><p>yaml示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  name: with-node-affinity</span><br><span class="line">spec:</span><br><span class="line">  affinity:</span><br><span class="line">    nodeAffinity:</span><br><span class="line">      requiredDuringSchedulingIgnoredDuringExecution:</span><br><span class="line">        nodeSelectorTerms:</span><br><span class="line">        - matchExpressions:</span><br><span class="line">          - key: kubernetes.io&#x2F;e2e-az-name</span><br><span class="line">            operator: In</span><br><span class="line">            values:</span><br><span class="line">            - e2e-az1</span><br><span class="line">            - e2e-az2</span><br><span class="line">      preferredDuringSchedulingIgnoredDuringExecution:</span><br><span class="line">      - weight: 1</span><br><span class="line">        preference:</span><br><span class="line">          matchExpressions:</span><br><span class="line">          - key: another-node-label-key</span><br><span class="line">            operator: In</span><br><span class="line">            values:</span><br><span class="line">            - another-node-label-value</span><br><span class="line">  containers:</span><br><span class="line">  - name: with-node-affinity</span><br><span class="line">    image: k8s.gcr.io&#x2F;pause:2.0</span><br></pre></td></tr></table></figure><p>参数解释：</p><ul><li>requiredDuringSchedulingIgnoredDuringExecution：硬策略，节点必须满足的条件</li><li>operator：操作符</li><li>preferredDuringSchedulingIgnoredDuringExecution：软策略，尝试满足，不是必须满足的条件</li><li>weight：权重值，范围1-100，值越大，权重越大，pod调度到对应标签的节点概率越高</li></ul><blockquote><p>注意：若硬限制（requiredDuringSchedulingIgnoredDuringExecution）没有匹配到任何标签，则pod会显示pending状态，节点都不可用，当打完标签之后，pending会变为running状态</p></blockquote><blockquote><p>补充：<br>节点亲和性：希望调度到指定标签的节点上；<br>反亲和性：不希望调度到指定标签的节点上，如使用NotIn ，DoesNotExist等</p></blockquote><h3 id="podAffinity-amp-amp-podAntiAffinity-（pod-间亲和与反亲和）"><a href="#podAffinity-amp-amp-podAntiAffinity-（pod-间亲和与反亲和）" class="headerlink" title="podAffinity &amp;&amp; podAntiAffinity （pod 间亲和与反亲和）"></a>podAffinity &amp;&amp; podAntiAffinity （pod 间亲和与反亲和）</h3><p>pod 间亲和与反亲和使你可以基于已经在节点上运行的 pod 的标签来约束 pod 可以调度到的节点，而不是基于节点上的标签。规则的格式为“如果 X 节点上已经运行了一个或多个 满足规则 Y 的pod，则这个 pod 应该（或者在非亲和的情况下不应该）运行在 X 节点”。Y 表示一个具有可选的关联命令空间列表的 LabelSelector；与节点不同，因为 pod 是命名空间限定的（因此 pod 上的标签也是命名空间限定的），因此作用于 pod 标签的标签选择器必须指定选择器应用在哪个命名空间。从概念上讲，X 是一个拓扑域，如节点，机架，云供应商地区，云供应商区域等。你可以使用 <code>topologyKey</code> 来表示它，</p><blockquote><p>说明：<br>Pod 间亲和与反亲和需要大量的处理，这可能会显著减慢大规模集群中的调度。我们不建议在超过数百个节点的集群中使用它们</p></blockquote><p><code>topologyKey</code> 是节点标签的键以便系统用来表示这样的拓扑域。</p><ul><li><code>kubernetes.io/hostname</code></li><li><code>failure-domain.beta.kubernetes.io/zone</code></li><li><code>failure-domain.beta.kubernetes.io/region</code></li><li><code>topology.kubernetes.io/zone</code></li><li><code>topology.kubernetes.io/region</code></li><li><code>beta.kubernetes.io/instance-type</code></li><li><code>node.kubernetes.io/instance-type</code></li><li><code>kubernetes.io/os</code></li><li><code>kubernetes.io/arch</code></li></ul><blockquote><p>说明：<br>这些标签的值是特定于云供应商的，因此不能保证可靠。例如，<code>kubernetes.io/hostname</code> 的值在某些环境中可能与节点名称相同，但在其他环境中可能是一个不同的值。</p></blockquote><p>与节点亲和一样，当前有两种类型的 pod 亲和与反亲和，即 <code>requiredDuringSchedulingIgnoredDuringExecution</code> 和 <code>preferredDuringSchedulingIgnoredDuringExecution</code>，分表表示“硬性”与“软性”要求。请参阅前面节点亲和部分中的描述。<code>requiredDuringSchedulingIgnoredDuringExecution</code> 亲和的一个示例是“将服务 A 和服务 B 的 pod 放置在同一区域，因为它们之间进行大量交流”，而 <code>preferredDuringSchedulingIgnoredDuringExecution</code> 反亲和的示例将是“将此服务的 pod 跨区域分布”（硬性要求是说不通的，因为你可能拥有的 pod 数多于区域数）。</p><p>Pod 间亲和通过 PodSpec 中 <code>affinity</code> 字段下的 <code>podAffinity</code> 字段进行指定。而 pod 间反亲和通过 PodSpec 中 <code>affinity</code> 字段下的 <code>podAntiAffinity</code> 字段进行指定</p><p>Pod 使用 pod 亲和 的示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  name: with-pod-affinity</span><br><span class="line">spec:</span><br><span class="line">  affinity:</span><br><span class="line">    podAffinity:</span><br><span class="line">      requiredDuringSchedulingIgnoredDuringExecution:</span><br><span class="line">      - labelSelector:</span><br><span class="line">          matchExpressions:</span><br><span class="line">          - key: security</span><br><span class="line">            operator: In</span><br><span class="line">            values:</span><br><span class="line">            - S1</span><br><span class="line">        topologyKey: failure-domain.beta.kubernetes.io&#x2F;zone</span><br><span class="line">    podAntiAffinity:</span><br><span class="line">      preferredDuringSchedulingIgnoredDuringExecution:</span><br><span class="line">      - weight: 100</span><br><span class="line">        podAffinityTerm:</span><br><span class="line">          labelSelector:</span><br><span class="line">            matchExpressions:</span><br><span class="line">            - key: security</span><br><span class="line">              operator: In</span><br><span class="line">              values:</span><br><span class="line">              - S2</span><br><span class="line">          topologyKey: failure-domain.beta.kubernetes.io&#x2F;zone</span><br><span class="line">  containers:</span><br><span class="line">  - name: with-pod-affinity</span><br><span class="line">    image: k8s.gcr.io&#x2F;pause:2.0</span><br></pre></td></tr></table></figure><p>在这个 pod 的 affinity 配置定义了一条 pod 亲和规则和一条 pod 反亲和规则。在此示例中，<code>podAffinity</code> 配置为 <code>requiredDuringSchedulingIgnoredDuringExecution</code>，然而 <code>podAntiAffinity</code> 配置为 <code>preferredDuringSchedulingIgnoredDuringExecution</code>。pod 亲和规则表示，仅当节点和至少一个已运行且有键为“security”且值为“S1”的标签的 pod 处于同一区域时，才可以将该 pod 调度到节点上。（更确切的说，如果节点 N 具有带有键 <code>failure-domain.beta.kubernetes.io/zone</code> 和某个值 V 的标签，则 pod 有资格在节点 N 上运行，以便集群中至少有一个节点具有键 <code>failure-domain.beta.kubernetes.io/zone</code> 和值为 V 的节点正在运行具有键“security”和值“S1”的标签的 pod。）pod 反亲和规则表示，如果节点已经运行了一个具有键“security”和值“S2”的标签的 pod，则该 pod 不希望将其调度到该节点上。（如果 <code>topologyKey</code> 为 <code>failure-domain.beta.kubernetes.io/zone</code>，则意味着当节点和具有键“security”和值“S2”的标签的 pod 处于相同的区域，pod 不能被调度到该节点上。）</p><p>Pod 亲和与反亲和的合法操作符有 <code>In</code>，<code>NotIn</code>，<code>Exists</code>，<code>DoesNotExist</code>。</p><p>原则上，<code>topologyKey</code> 可以是任何合法的标签键。然而，出于性能和安全原因，topologyKey 受到一些限制：</p><ol><li>对于亲和与 <code>requiredDuringSchedulingIgnoredDuringExecution</code> 要求的 pod 反亲和，<code>topologyKey</code> 不允许为空。</li><li>对于 <code>requiredDuringSchedulingIgnoredDuringExecution</code> 要求的 pod 反亲和，准入控制器 <code>LimitPodHardAntiAffinityTopology</code> 被引入来限制 <code>topologyKey</code> 不为 <code>kubernetes.io/hostname</code>。如果你想使它可用于自定义拓扑结构，你必须修改准入控制器或者禁用它。</li><li>对于 <code>preferredDuringSchedulingIgnoredDuringExecution</code> 要求的 pod 反亲和，空的 <code>topologyKey</code> 被解释为“所有拓扑结构”（这里的“所有拓扑结构”限制为 <code>kubernetes.io/hostname</code>，<code>failure-domain.beta.kubernetes.io/zone</code> 和 <code>failure-domain.beta.kubernetes.io/region</code> 的组合）。</li><li>除上述情况外，<code>topologyKey </code>可以是任何合法的标签键。</li></ol><p>除了 <code>labelSelector</code> 和 <code>topologyKey</code>，你也可以指定表示命名空间的 <code>namespaces</code> 队列，<code>labelSelector</code> 也应该匹配它（这个与 <code>labelSelector</code> 和 <code>topologyKey</code> 的定义位于相同的级别）。如果忽略或者为空，则默认为 pod 亲和/反亲和的定义所在的命名空间。</p><p>所有与 <code>requiredDuringSchedulingIgnoredDuringExecution</code> 亲和与反亲和关联的 <code>matchExpressions</code> 必须满足，才能将 pod 调度到节点上。</p><p>阿里云nginx-ingress示例</p><p>分布nginx-ingress到每个节点 只是部分内容请勿直接使用</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">spec:</span><br><span class="line">  progressDeadlineSeconds: 600</span><br><span class="line">  replicas: 3</span><br><span class="line">  revisionHistoryLimit: 10</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: ingress-nginx</span><br><span class="line">  strategy:</span><br><span class="line">    rollingUpdate:</span><br><span class="line">      maxSurge: 25%</span><br><span class="line">      maxUnavailable: 25%</span><br><span class="line">    type: RollingUpdate</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      annotations:</span><br><span class="line">        prometheus.io&#x2F;port: &#39;10254&#39;</span><br><span class="line">        prometheus.io&#x2F;scrape: &#39;true&#39;</span><br><span class="line">        redeploy-timestamp: &#39;1597647322549&#39;</span><br><span class="line">      labels:</span><br><span class="line">        app: ingress-nginx</span><br><span class="line">    spec:</span><br><span class="line">      affinity:</span><br><span class="line">        nodeAffinity:</span><br><span class="line">          requiredDuringSchedulingIgnoredDuringExecution:</span><br><span class="line">            nodeSelectorTerms:</span><br><span class="line">              - matchExpressions:</span><br><span class="line">                  - key: type</span><br><span class="line">                    operator: NotIn</span><br><span class="line">                    values:</span><br><span class="line">                      - virtual-kubelet</span><br><span class="line">        podAntiAffinity:</span><br><span class="line">          preferredDuringSchedulingIgnoredDuringExecution:</span><br><span class="line">            - podAffinityTerm:</span><br><span class="line">                labelSelector:</span><br><span class="line">                  matchExpressions:</span><br><span class="line">                    - key: app</span><br><span class="line">                      operator: In</span><br><span class="line">                      values:</span><br><span class="line">                        - ingress-nginx</span><br><span class="line">                topologyKey: kubernetes.io&#x2F;hostname</span><br><span class="line">              weight: 100</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      nodeSelector:</span><br><span class="line">        beta.kubernetes.io&#x2F;os: linux</span><br></pre></td></tr></table></figure><h3 id="Taint（污点）"><a href="#Taint（污点）" class="headerlink" title="Taint（污点）"></a>Taint（污点）</h3><p><code>Taints</code>：避免Pod调度到特定Node上</p><p>与<code>nodeSelector</code> &amp; <code>nodeAffinity</code>区别：</p><ul><li><code>nodeSelector</code> &amp; <code>nodeAffinity</code>：将pod分配到某些节点。pod属性</li><li><code>Taints</code>：节点不允许分配pod。节点属性</li></ul><p>应用场景：</p><ul><li>专用节点</li><li>配备了特殊硬件的节点</li><li>基于Taint的驱逐</li></ul><p>查看节点污点：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl describe node &lt;node-name&gt; | grep Taint</span><br></pre></td></tr></table></figure><p>设置污点：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl taint node &lt;node-name&gt; key&#x3D;value:&lt;effect&gt;</span><br></pre></td></tr></table></figure><p>给节点 <code>&lt;node-name&gt;</code> 增加一个污点，它的键名是 <code>key</code>，键值是 <code>value</code>，效果是 <code>NoSchedule</code>。 这表示只有拥有和这个污点相匹配的容忍度的 Pod 才能够被分配到 <code>&lt;node-name&gt;</code> 这个节点</p><p>其中<code>&lt;effect&gt;</code> 可取值：</p><ul><li>NoSchedule ：一定不能被调度（已经调度的不会被驱逐）。</li><li>PreferNoSchedule：尽量不要调度（软性）。</li><li>NoExecute：不仅不会调度，还会驱逐Node上已有的Pod（若pod为设置污点容忍）。</li></ul><p>去掉污点：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl taint node &lt;node-name&gt; key:&lt;effect&gt;-</span><br></pre></td></tr></table></figure><h3 id="Tolerations（污点容忍）"><a href="#Tolerations（污点容忍）" class="headerlink" title="Tolerations（污点容忍）"></a>Tolerations（污点容忍）</h3><p><code>Tolerations</code>：允许Pod调度到有特定Taints的Node上</p><p>yaml示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  name: pod-taints</span><br><span class="line">spec:</span><br><span class="line">  containers:</span><br><span class="line">  - name: pod-taints</span><br><span class="line">    image: busybox:latest</span><br><span class="line">  tolerations:</span><br><span class="line">  - key: &quot;key&quot;</span><br><span class="line">    operator: &quot;Equal&quot;</span><br><span class="line">    value: &quot;value&quot;</span><br><span class="line">    effect: &quot;NoSchedule&quot;</span><br></pre></td></tr></table></figure><p><code>operator</code> 的默认值是 <code>Equal</code>。</p><p>一个容忍度和一个污点相“匹配”是指它们有一样的键名和效果，并且：</p><ul><li>如果 <code>operator</code> 是 <code>Exists</code> （此时容忍度不能指定 <code>value</code>），或者</li><li>如果<code> operator</code> 是 <code>Equal</code> ，则它们的 <code>value</code> 应该相等</li></ul><p>node根据状态也会自动打一些污点：</p><ul><li><code>node.kubernetes.io/not-ready</code>：节点未准备好。这相当于节点状态 Ready 的值为 “False”。</li><li><code>node.kubernetes.io/unreachable</code>：节点控制器访问不到节点. 这相当于节点状态 Ready 的值为 “Unknown”。</li><li><code>node.kubernetes.io/out-of-disk</code>：节点磁盘耗尽。</li><li><code>node.kubernetes.io/memory-pressure</code>：节点存在内存压力。</li><li><code>node.kubernetes.io/disk-pressure</code>：节点存在磁盘压力。</li><li><code>node.kubernetes.io/network-unavailable</code>：节点网络不可用。</li><li><code>node.kubernetes.io/unschedulable</code>: 节点不可调度。</li><li><code>node.cloudprovider.kubernetes.io/uninitialized</code>：如果 kubelet 启动时指定了一个 “外部” 云平台驱动， 它将给当前节点添加一个污点将其标志为不可用。在 cloud-controller-manager 的一个控制器初始化这个节点后，kubelet 将删除这个污点。</li></ul><blockquote><p>容忍污点：不是强制性分配到具有污点的节点上，配置了容忍污点，在调度时忽略节点污点</p></blockquote><h3 id="nodeName"><a href="#nodeName" class="headerlink" title="nodeName"></a>nodeName</h3><p><code>nodeName</code>：用于将Pod调度到指定的Node上，不经过调度器（<code>default-scheduler</code>）</p><p>应用场景：</p><ul><li> 调度组件故障，希望临时救急</li></ul><p>yaml示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: Pod</span><br><span class="line">metadata:</span><br><span class="line">  name: pod-example</span><br><span class="line">  labels:</span><br><span class="line">    app: nginx</span><br><span class="line">spec:</span><br><span class="line">  nodeName: k8s-node2</span><br><span class="line">  containers:</span><br><span class="line">  - name: nginx</span><br><span class="line">    image: nginx:1.15</span><br></pre></td></tr></table></figure><h3 id="DaemonSet（守护进程集）"><a href="#DaemonSet（守护进程集）" class="headerlink" title="DaemonSet（守护进程集）"></a>DaemonSet（守护进程集）</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/image-88e599f6.png" alt="github--lena"></p><p><code>DaemonSet</code>功能：</p><ul><li>在每一个Node上运行一个Pod</li><li>新加入的Node也同样会自动运行一个Pod</li></ul><p>应用场景：</p><ul><li>网络插件</li><li>Agent（zabbix-agent监控）</li><li>日志采集（filebeat）</li><li>C/S架构软件</li><li>必要的分发服务例如 nginx-ingress</li></ul><p>yaml示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: apps&#x2F;v1</span><br><span class="line">kind: DaemonSet</span><br><span class="line">metadata:</span><br><span class="line">  labels:</span><br><span class="line">    app: web</span><br><span class="line">  name: filebeat</span><br><span class="line">spec:</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: web</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: web</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - image: nginx</span><br><span class="line">        name: nginx</span><br><span class="line">        resources: &#123;&#125;</span><br></pre></td></tr></table></figure><p>通过<code>kubectl get pod</code>可以发现<code>filebeat</code>在每个node上都部署了一个：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master k8s]# kubectl get pod -o wide</span><br><span class="line">NAME                         READY   STATUS             RESTARTS   AGE     IP               NODE        NOMINATED NODE   READINESS GATES</span><br><span class="line">filebeat-9kc9d               1&#x2F;1     Running            0          8s      10.244.36.118    k8s-node1   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">filebeat-wsbxb               1&#x2F;1     Running            0          8s      10.244.169.183   k8s-node2   &lt;none&gt;           &lt;none&gt;</span><br></pre></td></tr></table></figure><p>查看daemonset：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@k8s-master k8s]# kubectl get ds</span><br><span class="line">NAME       DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR   AGE</span><br><span class="line">filebeat   2         2         2       2            2           &lt;none&gt;          3m2s</span><br></pre></td></tr></table></figure><h2 id="调度失败原因分析"><a href="#调度失败原因分析" class="headerlink" title="调度失败原因分析"></a>调度失败原因分析</h2><p>查看调度结果：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pod &lt;NAME&gt; -o wide</span><br></pre></td></tr></table></figure><p>查看调度失败原因：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl describe pod &lt;NAME&gt;</span><br></pre></td></tr></table></figure><p>错误解析：</p><ul><li>没有匹配到标签的提示信息：<br>0/3 nodes are available: 3 node(s) didn’t match node selector.</li><li>没有足够的cpu资源分配：<br>0/3 nodes are available: 3 Insufficient cpu.</li><li>3个节点有污点，没有配置污点容忍:<br>0/3 nodes are available: 3 node(s) had taints that the pod didn’t tolerate.</li></ul>]]></content>
      
      
      <categories>
          
          <category> Kubernetes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kubernetes </tag>
            
            <tag> nodeSelector </tag>
            
            <tag> nodeAffinity </tag>
            
            <tag> podAntiAffinity </tag>
            
            <tag> podAffinity </tag>
            
            <tag> nodeName </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>查询DNS的记录 查看域名解析是否正常</title>
      <link href="p/3d65889c/"/>
      <url>p/3d65889c/</url>
      
        <content type="html"><![CDATA[<p>nslookup命令用于查询DNS的记录，查看域名解析是否正常，在网络故障的时候用来诊断网络问题。</p><h4 id="直接查询"><a href="#直接查询" class="headerlink" title="直接查询"></a>直接查询</h4><p>查询一个域名的A记录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nslookup domain [dns-server]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nslookup www.google.com 8.8.8.8</span><br><span class="line">Server:8.8.8.8</span><br><span class="line">Address:8.8.8.8#53</span><br><span class="line"></span><br><span class="line">Non-authoritative answer:</span><br><span class="line">Name:www.google.com</span><br><span class="line">Address: 172.217.5.196</span><br></pre></td></tr></table></figure><h4 id="查询其他记录"><a href="#查询其他记录" class="headerlink" title="查询其他记录"></a>查询其他记录</h4><p>指定参数，查询其他记录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nslookup -qt&#x3D;type domain [dns-server]</span><br></pre></td></tr></table></figure><p>其中，type可以是以下这些类型：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">A 地址记录</span><br><span class="line">AAAA 地址记录</span><br><span class="line">AFSDB Andrew文件系统数据库服务器记录</span><br><span class="line">ATMA ATM地址记录</span><br><span class="line">CNAME 别名记录</span><br><span class="line">HINFO 硬件配置记录，包括CPU、操作系统信息</span><br><span class="line">ISDN 域名对应的ISDN号码</span><br><span class="line">MB 存放指定邮箱的服务器</span><br><span class="line">MG 邮件组记录</span><br><span class="line">MINFO 邮件组和邮箱的信息记录</span><br><span class="line">MR 改名的邮箱记录</span><br><span class="line">MX 邮件服务器记录</span><br><span class="line">NS 名字服务器记录</span><br><span class="line">PTR 反向记录</span><br><span class="line">RP 负责人记录</span><br><span class="line">RT 路由穿透记录</span><br><span class="line">SRV TCP服务器信息记录</span><br><span class="line">TXT 域名对应的文本信息</span><br><span class="line">X25 域名对应的X.25地址记录</span><br></pre></td></tr></table></figure><h4 id="查询更具体的信息"><a href="#查询更具体的信息" class="headerlink" title="查询更具体的信息"></a>查询更具体的信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nslookup –d [其他参数] domain [dns-server]</span><br></pre></td></tr></table></figure><p>只要在查询的时候，加上-d参数，即可查询域名的缓存。</p>]]></content>
      
      
      <categories>
          
          <category> tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nslookup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>软著统计代码行数</title>
      <link href="p/c2e90d73/"/>
      <url>p/c2e90d73/</url>
      
        <content type="html"><![CDATA[<h3 id="请统计代码行数"><a href="#请统计代码行数" class="headerlink" title="请统计代码行数"></a>请统计代码行数</h3><h4 id="统计代码行数"><a href="#统计代码行数" class="headerlink" title="统计代码行数"></a>统计代码行数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find mall-imeihao-h5      \( -name &#39;*.js&#39; -o -name &#39;*.json&#39; -o -name &#39;*.wxss&#39; -o -name &#39;*.wxml&#39; \) | xargs cat |grep -v ^$| wc -l</span><br></pre></td></tr></table></figure><ul><li>.wxml .wxss .json .js 为源码文件扩展名，根据需求替换</li></ul><h4 id="需要排除的目录"><a href="#需要排除的目录" class="headerlink" title="需要排除的目录"></a>需要排除的目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">find  mall-imeihao \</span><br><span class="line">\( -path .&#x2F;web -o -path .&#x2F;runtime -o -path .&#x2F;config \) -prune -o \</span><br><span class="line">\( -name &quot;*.php&quot; -o -name &quot;*.js&quot; -o -name &quot;*.css&quot; -o -name &quot;*.scss&quot; \) \</span><br><span class="line">|  xargs cat |grep -v ^$| wc -l</span><br></pre></td></tr></table></figure><ul><li>web runtime config 为需要排除的目录</li></ul><h3 id="导入文档"><a href="#导入文档" class="headerlink" title="导入文档"></a>导入文档</h3><h4 id="导入文档格式"><a href="#导入文档格式" class="headerlink" title="导入文档格式"></a>导入文档格式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find mall-imeihao-reception  \( -name &#39;*.py&#39;  \) | xargs cat |grep -v ^$| &gt; mall-imeihao-reception.docx</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> script </category>
          
      </categories>
      
      
        <tags>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HTTrack - 克隆任意网站</title>
      <link href="p/8a11f10a/"/>
      <url>p/8a11f10a/</url>
      
        <content type="html"><![CDATA[<p>HTTrack可以克隆指定网站－把整个网站下载到本地。</p><p>可以用在离线浏览上，也可以用来收集信息（甚至有网站使用隐藏的密码文件）。</p><p>一些仿真度极高的伪网站（为了骗取用户密码），也是使用类似工具做的。<br>Linux默认安装了HTTrack. 如没有可以自行下载安装。<br>Liunx 安装：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum provides httrack</span><br><span class="line">yum install httrack</span><br></pre></td></tr></table></figure><p>MacOS zsh:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install httrack</span><br></pre></td></tr></table></figure><p>HTTrack帮助：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httrack --help</span><br></pre></td></tr></table></figure><p>使用示例:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httrack https:&#x2F;&#x2F;imszz.com&#x2F;navi -O &#x2F;tmp</span><br></pre></td></tr></table></figure><p>上面命令克隆了网站路径下所有内容，不带路径克隆所有内容</p>]]></content>
      
      
      <categories>
          
          <category> tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> HTTrack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo修剪地址栏</title>
      <link href="p/292fbf59/"/>
      <url>p/292fbf59/</url>
      
        <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>hexo文章链接默认的生成规则是：<code>:year/:month/:day/:title</code>是按照年、月、日、标题来生成的</p><p>比如默认生成：<code>https://imszz.com/2020/07/21/hello-world/</code></p><p>非常不利于阅读,中文也可能出现乱码,也影响收录。</p><p>一种解决方案是：使用<code>hexo-permalink-pinyin</code>插件，将中文转英文，好像是有缺陷</p><p>另一种方案: 使用 <code>hexo-abbrlink</code> 插件, 生成短链，且链接不会因为更新次数过多出现改动</p><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>修改根目录站点配置文件<code>config.yml</code>，改为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#permalink: :year&#x2F;:month&#x2F;:day&#x2F;:title&#x2F;  # 注释或者删除</span><br><span class="line">permalink: p&#x2F;:abbrlink&#x2F;  # 此处可以自己设置，也可以直接使用 :&#x2F;abbrlink ，建议前面带目录，不然太乱</span><br><span class="line">abbrlink:</span><br><span class="line">    alg: crc32  #算法： crc16(default) and crc32</span><br><span class="line">    rep: hex  #进制： dec(default) and hex</span><br></pre></td></tr></table></figure><p>生成的链接将会是这样的(官方样例)：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">crc16 &amp; hex</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;p&#x2F;66c8.html</span><br><span class="line"></span><br><span class="line">crc16 &amp; dec</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;p&#x2F;65535.html</span><br><span class="line">crc32 &amp; hex</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;p&#x2F;8ddf18fb.html</span><br><span class="line"></span><br><span class="line">crc32 &amp; dec</span><br><span class="line">https:&#x2F;&#x2F;post.zz173.com&#x2F;p&#x2F;1690090958.html</span><br></pre></td></tr></table></figure><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>在文章的 <code>Front-matter</code> 内会增加<code>abbrlink</code> 字段，值为生成的ID 。这个字段确保了在我们修改了<code>Front-matter</code> 内的博客标题<code>title</code>或创建日期<code>date</code>字段之后而不会改变链接地址。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title:</span><br><span class="line">date:</span><br><span class="line">categories:</span><br><span class="line"> -</span><br><span class="line">tags:</span><br><span class="line">-</span><br><span class="line">abbrlink:  #留空就好，会自动生成，并不会因下次更新文章而变动</span><br><span class="line">---</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> abbrlink </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 添加自定义单静态页面 跳过hexo渲染</title>
      <link href="p/6ea05e36/"/>
      <url>p/6ea05e36/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Hexo默认会对<code>/source/</code>里的所有页面应用主题模板渲染，但有一些前端作品或demo页我们不希望经过渲染，而是能保持完全自定义的样子</p><p>例如：</p><ol><li>主题内渲染，添加的模块仍在主题内，主题头部信息依然存在，仅仅是在特定区域进行渲染（适合添加 about 页面）</li><li>完全页面渲染，在主题内点击对应链接跳转到一个完全崭新的页面（我需要的）</li></ol><h3 id="hexo-的执行逻辑"><a href="#hexo-的执行逻辑" class="headerlink" title="hexo 的执行逻辑"></a>hexo 的执行逻辑</h3><p>source 文件夹下存放了待被转化的 markdown 文件，在执行<code>hexo g</code>命令时，source 目录下的文件将被转化为 html 文件。</p><h2 id="介绍两种方法："><a href="#介绍两种方法：" class="headerlink" title="介绍两种方法："></a>介绍两种方法：</h2><h3 id="使用Hexo提供的跳过渲染配置，适用单个文件或整个目录的设置。"><a href="#使用Hexo提供的跳过渲染配置，适用单个文件或整个目录的设置。" class="headerlink" title="使用Hexo提供的跳过渲染配置，适用单个文件或整个目录的设置。"></a>使用Hexo提供的跳过渲染配置，适用单个文件或整个目录的设置。</h3><p>具体步骤，打开博客根目录<code>_config.yml</code>，找到其中<code>skip_render</code>项，这个项目用来配置<code>/source/</code>中需要跳过渲染的文件或目录，</p><p>例如希望跳过<code>/source/navi/</code>里的所有文件渲染（这样我们就可以将自己的作品放在这个文件夹中，然后可以通过自己的网址/navi/…访问了)</p><p>可以配置为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">skip_render: navi&#x2F;**</span><br></pre></td></tr></table></figure><ul><li><code>source/navi/</code>目录下添加「工具盒」源文件</li><li>在站点配置文件<code>_config.yml</code>中配置<code>skin_render</code>项，如：<code>skip_render: navi/**</code>，这样projects文件夹下的所以文件内容将不会转化为 html，直接被 copy 到 public 文件夹</li><li>在「工具盒」文件夹下添加 index.html 文件用于渲染自定义页面</li></ul><p>完成以上步骤即可点击「工具盒」菜单导航，完成自定义页面的展示。</p><h3 id="多个文件"><a href="#多个文件" class="headerlink" title="多个文件"></a>多个文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">skip_render:</span><br><span class="line">  - &#39;xxxxx&#39;</span><br><span class="line">  - &#39;xxxx&#39;</span><br></pre></td></tr></table></figure><h3 id="支持正则语法"><a href="#支持正则语法" class="headerlink" title="支持正则语法"></a>支持正则语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">skip_render:</span><br><span class="line">  - &#39;*.html&#39;</span><br><span class="line">  - &#39;demo&#x2F;**&#39;</span><br></pre></td></tr></table></figure><p>修改了配置但生成出来的内容不一定及时应用了新配置，最好在生成之前执行一下<code>hexo clean</code>命令，清除掉旧的生成文件和缓存。</p><h3 id="给单个文件添加不应用模板的标记，适用于个别特殊文件的处理。"><a href="#给单个文件添加不应用模板的标记，适用于个别特殊文件的处理。" class="headerlink" title="给单个文件添加不应用模板的标记，适用于个别特殊文件的处理。"></a>给单个文件添加不应用模板的标记，适用于个别特殊文件的处理。</h3><p>例如我们要使 <code>about</code> 页面跳过渲染，创建 <code>/source/about/index.md</code>，将这个页面的相关 HTML 代码写进<code>.md</code>文件并保存，然后在 <code>index.md</code> 的头部写入：，</p><p>避免渲染的办法就是在文件头部<code>Front-matter </code>里添加如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: false</span><br><span class="line">---</span><br><span class="line">&#123;% raw %&#125;</span><br><span class="line">xxxxxxxxxxxxx</span><br><span class="line">xx HTML代码 xx</span><br><span class="line">xxxxxxxxxxxxx</span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure><blockquote><p>PS：<code>Front-matter</code> 是 <code>.md</code> 文件最上方以 — 分隔的区域，用于指定个别文件的变量，官方文档：<a href="https://hexo.io/docs/front-matter">https://hexo.io/docs/front-matter</a><br><code>.md</code>文件中的 HTML 代码要用 <code>` 和 `</code> 包起来，使其能正确编译里面的代码　　</p></blockquote><p>这样，这个文件就不会经过模板渲染，最终发布到<code>/public/</code>里的文件就是去掉标记后的文件的样子。</p><p>但是这种未尝试！ 推荐第一种</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linux查看磁盘使用情况命令</title>
      <link href="p/59ce9c6a/"/>
      <url>p/59ce9c6a/</url>
      
        <content type="html"><![CDATA[<h3 id="统一磁盘整体情况，包括磁盘大小，已使用，可用"><a href="#统一磁盘整体情况，包括磁盘大小，已使用，可用" class="headerlink" title="统一磁盘整体情况，包括磁盘大小，已使用，可用"></a>统一磁盘整体情况，包括磁盘大小，已使用，可用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df -hT</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@campus ~]# df -hT</span><br><span class="line">Filesystem     Type      Size  Used Avail Use% Mounted on</span><br><span class="line">&#x2F;dev&#x2F;vda1      ext4       40G   28G   11G  73% &#x2F;</span><br><span class="line">devtmpfs       devtmpfs  7.8G     0  7.8G   0% &#x2F;dev</span><br><span class="line">tmpfs          tmpfs     7.8G     0  7.8G   0% &#x2F;dev&#x2F;shm</span><br><span class="line">tmpfs          tmpfs     7.8G  1.8M  7.8G   1% &#x2F;run</span><br><span class="line">tmpfs          tmpfs     7.8G     0  7.8G   0% &#x2F;sys&#x2F;fs&#x2F;cgroup</span><br><span class="line">tmpfs          tmpfs     1.6G     0  1.6G   0% &#x2F;run&#x2F;user&#x2F;1002</span><br><span class="line">tmpfs          tmpfs     1.6G     0  1.6G   0% &#x2F;run&#x2F;user&#x2F;0</span><br></pre></td></tr></table></figure><h3 id="查看指定目录"><a href="#查看指定目录" class="headerlink" title="查看指定目录"></a>查看指定目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df -h &#x2F;usr&#x2F;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@campus ~]# df -h &#x2F;usr&#x2F;</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">&#x2F;dev&#x2F;vda1        40G   28G   11G  73% &#x2F;</span><br></pre></td></tr></table></figure><h3 id="具体查看文件夹的占用情况"><a href="#具体查看文件夹的占用情况" class="headerlink" title="具体查看文件夹的占用情况"></a>具体查看文件夹的占用情况</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du --max-depth&#x3D;1 -h</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@campus ~]# du --max-depth&#x3D;1 -h</span><br><span class="line">8.0K.&#x2F;.docker</span><br><span class="line">688M.&#x2F;logs</span><br><span class="line">12K.&#x2F;.oracle_jre_usage</span><br><span class="line">12K.&#x2F;.ssh</span><br><span class="line">16K.&#x2F;.local</span><br><span class="line">2.3G.&#x2F;.m2</span><br><span class="line">40K.&#x2F;.java</span><br><span class="line">2.5G</span><br></pre></td></tr></table></figure><h3 id="计算文件夹大小"><a href="#计算文件夹大小" class="headerlink" title="计算文件夹大小"></a>计算文件夹大小</h3><p>快算显示目录整体占用大小,想查看指定目录，直接在命令后根目录即可.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -sh</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@campus ~]# du -sh &#x2F;usr&#x2F;</span><br><span class="line">5.1G&#x2F;usr&#x2F;</span><br></pre></td></tr></table></figure><blockquote><p>注：其中<code>df -h</code>和<code>du -sh</code>使用较多，一个统计整体磁盘情况，一个看单独目录点用情况.<br>命令<code>du --max-depth=1 -h</code>查看了目录下文件夹占用情况，使用较少，可以用<code>du -sh</code>代替.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Valine添加自定义邮件提醒</title>
      <link href="p/c4492888/"/>
      <url>p/c4492888/</url>
      
        <content type="html"><![CDATA[<h3 id="绑定域名"><a href="#绑定域名" class="headerlink" title="绑定域名"></a>绑定域名</h3><p>请先<a href="https://tab.leancloud.cn/login.html#/signin">登录</a>或<a href="https://tab.leancloud.cn/login.html#/signin">注册</a> <code>LeanCloud</code>, 进入控制台</p><p>首先需要域名绑定,并且你的域名需要备案</p><p>点击<code>设置</code>-&gt;<code>域名绑定</code>-&gt;<code>云引擎</code></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/LeanCloud2.jpg" alt="github--lena"></p><h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><p>点击<code>云引擎</code>-&gt;<code>部署</code></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/LeanCloud3.jpg" alt="github--lena"></p><div class="note default flat"><p>填上代码 由 <a href="https://github.com/zhaojun1998/Valine-Admin">zhaojun1998</a> 提供</p></div><div class="note success flat"><p>小康魔改</p></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;sviptzk&#x2F;Valine-Admin-Server.git</span><br></pre></td></tr></table></figure><p>到代码库中并部署到master，最后在日志中看到部署成功就行了</p><h3 id="环境配置项"><a href="#环境配置项" class="headerlink" title="环境配置项"></a>环境配置项</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/LeanCloud4.jpg" alt="github--lena"></p><p>参数介绍</p><ul><li>SITE_NAME : 网站名称</li><li>SITE_URL : 网站地址, 最后不要加 /</li><li>SMTP_USER : SMTP 服务用户名，一般为邮箱地址（例如QQ 账号.qq.com）</li><li>SMTP_PASS : SMTP 密码，一般为授权码，而不是邮箱的登陆密码，请自行查询对应邮件服务商的获取方式</li><li>SMTP_PORT ： 465  #端口</li><li>SMTP_SERVICE : 邮件服务提供商，支持QQ、163、126、Gmail</li><li>SMTP_HOST : 提供邮件服务的支持方（例如QQ，就是smtp.qq.com</li><li>SENDER_NAME : 寄件人名称</li><li>SENDER_EMAIL : 收件的邮箱地址</li><li>TEMPLATE_NAME : 收到的邮件主题，不填则是默认，建议选rainbow效果在最后查看</li><li>ADMIN_URL ：定时唤醒机器，填写绑定的云引擎域名</li></ul><h3 id="设置邮件模板"><a href="#设置邮件模板" class="headerlink" title="设置邮件模板"></a>设置邮件模板</h3><p>进入<code>设置</code>-&gt;<code>邮件模板</code>填入以下代码，其中改掉相应的用户名为你自己的点击<code>保存</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;p&gt;Hi, &#123;&#123;username&#125;&#125;&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;</span><br><span class="line">你在 &#123;&#123;appname&#125;&#125; 的评论收到了新的回复，请点击查看：</span><br><span class="line">&lt;&#x2F;p&gt;</span><br><span class="line">&lt;p&gt;&lt;a href&#x3D;&quot;https:&#x2F;&#x2F;imszz.com&#x2F;&quot; style&#x3D;&quot;display: inline-block; padding: 10px 20px; border-radius: 4px; background-color: #3090e4; color: #fff; text-decoration: none;&quot;&gt;马上查看&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/LeanCloud5.jpg" alt="github--lena"></p><h3 id="休眠定时唤醒"><a href="#休眠定时唤醒" class="headerlink" title="休眠定时唤醒"></a>休眠定时唤醒</h3><p>需要说明的是：</p><p>免费版的 LeanCloud 容器，是有强制性休眠策略的，不能 24 小时运行：</p><blockquote><p>每天必须休眠 6 个小时<br>30 分钟内没有外部请求，则休眠。<br>休眠后如果有新的外部请求实例则马上启动（但激活时此次发送邮件会失败）</p></blockquote><p>如果不想付费的话，最佳使用方案就设置定时器，每天 7 - 23 点每 20 分钟访问一次，这样可以保持每天的绝大多数时间邮件服务是正常的。</p><p>点击<code>云引擎</code> - <code>定时任务</code>，新增定时器，按照图片上填写：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">创建定时任务</span><br><span class="line">定时检查 24 小时内漏发的邮件通知</span><br><span class="line">生产环境选择 resend_mails</span><br><span class="line">选择 Cron表达式时间自己调整 0 0 1 * * *</span><br><span class="line"></span><br><span class="line">自动唤醒</span><br><span class="line">生产环境选择 self_wake</span><br><span class="line">选择 Cron表达式时间自己调整 0 *&#x2F;20 7-23 * * ?</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/LeanCloud6.jpg" alt="github--lena"></p><p>在<code>云引擎</code>-<code>设置</code>-<code>自定义环境变量</code>中添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ADMIN_URL : #添加绑定成功的云引擎域名 </span><br></pre></td></tr></table></figure><p><code>保存</code></p><h3 id="切记"><a href="#切记" class="headerlink" title="切记"></a>切记</h3><p>最重要的要在<code>云引擎</code> -&gt; <code>部署</code> 中点击 <code>重启</code></p><p>日志</p><p><code>云引擎的</code> - <code>日志</code> 中可以看到提示以及定时任务执行情况，会返回状态码</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> valine </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>valine 评论和美化</title>
      <link href="p/ffb5990d/"/>
      <url>p/ffb5990d/</url>
      
        <content type="html"><![CDATA[<div class="note warning flat"><p>valine 评论添加博主等标签 适配 butterfly 3.1之前版本 </p></div><h3 id="开启Valine-评论"><a href="#开启Valine-评论" class="headerlink" title="开启Valine 评论"></a>开启Valine 评论</h3><h3 id="首先获取APP-ID-和-APP-Key"><a href="#首先获取APP-ID-和-APP-Key" class="headerlink" title="首先获取APP ID 和 APP Key"></a>首先获取APP ID 和 APP Key</h3><p>请先<a href="https://tab.leancloud.cn/login.html#/signin">登录</a>或<a href="https://tab.leancloud.cn/login.html#/signin">注册</a> <code>LeanCloud</code>, 进入控制台后点击左下角创建应用：</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/LeanCloud.jpg" alt="github--lena"></p><p>应用创建好以后，进入刚刚创建的应用，选择左下角的设置&gt;应用Key，然后就能看到你的<code>APP ID</code>和<code>APP Key</code>了：</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/LeanCloud1.jpg" alt="github--lena"></p><h3 id="然后配置-butterfly-yml"><a href="#然后配置-butterfly-yml" class="headerlink" title="然后配置 butterfly.yml"></a>然后配置 butterfly.yml</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line">   enable: true # if you want use valine,please set this value is true</span><br><span class="line">   appId: sdIB--PW4---s8Esu----Va # leancloud application app id</span><br><span class="line">   appKey: Yj--HV----Hw0k6D---Eiv2O # leancloud application app key</span><br><span class="line">   pageSize: 10 # comment list page size</span><br><span class="line">   avatar: monsterid # gravatar style https:&#x2F;&#x2F;valine.js.org&#x2F;#&#x2F;avatar</span><br><span class="line">   lang: zh-CN # i18n: zh-CN&#x2F;zh-TW&#x2F;en&#x2F;ja</span><br><span class="line">   placeholder: 在07:00 AM至11:59 PM之间,填写邮箱地址可及时收到邮件回复提醒 # valine comment input placeholder(like: Please leave your footprints )</span><br><span class="line">   guest_info: nick,mail,link #valine comment header info (nick&#x2F;mail&#x2F;link)</span><br><span class="line">   recordIP: true # Record reviewer IP</span><br><span class="line">   serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span><br><span class="line">   bg: # valine background</span><br><span class="line">   emojiCDN: https:&#x2F;&#x2F;i0.hdslb.com&#x2F;bfs&#x2F;emote&#x2F; # emoji CDN</span><br><span class="line">   enableQQ: true # enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span><br><span class="line">   requiredFields: mail # required fields (nick&#x2F;mail)</span><br><span class="line">   count: true # dispaly comment count in top_img</span><br></pre></td></tr></table></figure><p>Valine 於 v1.4.5 開始支持自定義表情，如果你需要自行配置，請在 <code>emojiCDN</code> 配置表情 <code>CDN</code></p><p>同时在 Hexo 工作目錄下的 <code>source/_data/</code> 创建一個 json 文件 <code>valine.json</code>, 等同于 Valine 需要配置的 <code>emojiMaps</code>，<code>valine.json</code> 配置方式可參考如下。</p><p>示例引用B站表情</p><div class="note default flat"><p>Github表情收集地址<br><a href="https://github.com/lrhtony/BiliEmoji/blob/master/biliEmoji.txt">https://github.com/lrhtony/BiliEmoji/blob/master/biliEmoji.txt</a></p></div><div class="note success flat"><p>去掉了URL 复制直接使用</p></div><p><code>butterfly.ym</code>下valinel,<code>emojiCDN</code>处添加:<code>https://i0.hdslb.com/bfs/emote/</code></p><blockquote><p>valine.json</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br><span class="line">1334</span><br><span class="line">1335</span><br><span class="line">1336</span><br><span class="line">1337</span><br><span class="line">1338</span><br><span class="line">1339</span><br><span class="line">1340</span><br><span class="line">1341</span><br><span class="line">1342</span><br><span class="line">1343</span><br><span class="line">1344</span><br><span class="line">1345</span><br><span class="line">1346</span><br><span class="line">1347</span><br><span class="line">1348</span><br><span class="line">1349</span><br><span class="line">1350</span><br><span class="line">1351</span><br><span class="line">1352</span><br><span class="line">1353</span><br><span class="line">1354</span><br><span class="line">1355</span><br><span class="line">1356</span><br><span class="line">1357</span><br><span class="line">1358</span><br><span class="line">1359</span><br><span class="line">1360</span><br><span class="line">1361</span><br><span class="line">1362</span><br><span class="line">1363</span><br><span class="line">1364</span><br><span class="line">1365</span><br><span class="line">1366</span><br><span class="line">1367</span><br><span class="line">1368</span><br><span class="line">1369</span><br><span class="line">1370</span><br><span class="line">1371</span><br><span class="line">1372</span><br><span class="line">1373</span><br><span class="line">1374</span><br><span class="line">1375</span><br><span class="line">1376</span><br><span class="line">1377</span><br><span class="line">1378</span><br><span class="line">1379</span><br><span class="line">1380</span><br><span class="line">1381</span><br><span class="line">1382</span><br><span class="line">1383</span><br><span class="line">1384</span><br><span class="line">1385</span><br><span class="line">1386</span><br><span class="line">1387</span><br><span class="line">1388</span><br><span class="line">1389</span><br><span class="line">1390</span><br><span class="line">1391</span><br><span class="line">1392</span><br><span class="line">1393</span><br><span class="line">1394</span><br><span class="line">1395</span><br><span class="line">1396</span><br><span class="line">1397</span><br><span class="line">1398</span><br><span class="line">1399</span><br><span class="line">1400</span><br><span class="line">1401</span><br><span class="line">1402</span><br><span class="line">1403</span><br><span class="line">1404</span><br><span class="line">1405</span><br><span class="line">1406</span><br><span class="line">1407</span><br><span class="line">1408</span><br><span class="line">1409</span><br><span class="line">1410</span><br><span class="line">1411</span><br><span class="line">1412</span><br><span class="line">1413</span><br><span class="line">1414</span><br><span class="line">1415</span><br><span class="line">1416</span><br><span class="line">1417</span><br><span class="line">1418</span><br><span class="line">1419</span><br><span class="line">1420</span><br><span class="line">1421</span><br><span class="line">1422</span><br><span class="line">1423</span><br><span class="line">1424</span><br><span class="line">1425</span><br><span class="line">1426</span><br><span class="line">1427</span><br><span class="line">1428</span><br><span class="line">1429</span><br><span class="line">1430</span><br><span class="line">1431</span><br><span class="line">1432</span><br><span class="line">1433</span><br><span class="line">1434</span><br><span class="line">1435</span><br><span class="line">1436</span><br><span class="line">1437</span><br><span class="line">1438</span><br><span class="line">1439</span><br><span class="line">1440</span><br><span class="line">1441</span><br><span class="line">1442</span><br><span class="line">1443</span><br><span class="line">1444</span><br><span class="line">1445</span><br><span class="line">1446</span><br><span class="line">1447</span><br><span class="line">1448</span><br><span class="line">1449</span><br><span class="line">1450</span><br><span class="line">1451</span><br><span class="line">1452</span><br><span class="line">1453</span><br><span class="line">1454</span><br><span class="line">1455</span><br><span class="line">1456</span><br><span class="line">1457</span><br><span class="line">1458</span><br><span class="line">1459</span><br><span class="line">1460</span><br><span class="line">1461</span><br><span class="line">1462</span><br><span class="line">1463</span><br><span class="line">1464</span><br><span class="line">1465</span><br><span class="line">1466</span><br><span class="line">1467</span><br><span class="line">1468</span><br><span class="line">1469</span><br><span class="line">1470</span><br><span class="line">1471</span><br><span class="line">1472</span><br><span class="line">1473</span><br><span class="line">1474</span><br><span class="line">1475</span><br><span class="line">1476</span><br><span class="line">1477</span><br><span class="line">1478</span><br><span class="line">1479</span><br><span class="line">1480</span><br><span class="line">1481</span><br><span class="line">1482</span><br><span class="line">1483</span><br><span class="line">1484</span><br><span class="line">1485</span><br><span class="line">1486</span><br><span class="line">1487</span><br><span class="line">1488</span><br><span class="line">1489</span><br><span class="line">1490</span><br><span class="line">1491</span><br><span class="line">1492</span><br><span class="line">1493</span><br><span class="line">1494</span><br><span class="line">1495</span><br><span class="line">1496</span><br><span class="line">1497</span><br><span class="line">1498</span><br><span class="line">1499</span><br><span class="line">1500</span><br><span class="line">1501</span><br><span class="line">1502</span><br><span class="line">1503</span><br><span class="line">1504</span><br><span class="line">1505</span><br><span class="line">1506</span><br><span class="line">1507</span><br><span class="line">1508</span><br><span class="line">1509</span><br><span class="line">1510</span><br><span class="line">1511</span><br><span class="line">1512</span><br><span class="line">1513</span><br><span class="line">1514</span><br><span class="line">1515</span><br><span class="line">1516</span><br><span class="line">1517</span><br><span class="line">1518</span><br><span class="line">1519</span><br><span class="line">1520</span><br><span class="line">1521</span><br><span class="line">1522</span><br><span class="line">1523</span><br><span class="line">1524</span><br><span class="line">1525</span><br><span class="line">1526</span><br><span class="line">1527</span><br><span class="line">1528</span><br><span class="line">1529</span><br><span class="line">1530</span><br><span class="line">1531</span><br><span class="line">1532</span><br><span class="line">1533</span><br><span class="line">1534</span><br><span class="line">1535</span><br><span class="line">1536</span><br><span class="line">1537</span><br><span class="line">1538</span><br><span class="line">1539</span><br><span class="line">1540</span><br><span class="line">1541</span><br><span class="line">1542</span><br><span class="line">1543</span><br><span class="line">1544</span><br><span class="line">1545</span><br><span class="line">1546</span><br><span class="line">1547</span><br><span class="line">1548</span><br><span class="line">1549</span><br><span class="line">1550</span><br><span class="line">1551</span><br><span class="line">1552</span><br><span class="line">1553</span><br><span class="line">1554</span><br><span class="line">1555</span><br><span class="line">1556</span><br><span class="line">1557</span><br><span class="line">1558</span><br><span class="line">1559</span><br><span class="line">1560</span><br><span class="line">1561</span><br><span class="line">1562</span><br><span class="line">1563</span><br><span class="line">1564</span><br><span class="line">1565</span><br><span class="line">1566</span><br><span class="line">1567</span><br><span class="line">1568</span><br><span class="line">1569</span><br><span class="line">1570</span><br><span class="line">1571</span><br><span class="line">1572</span><br><span class="line">1573</span><br><span class="line">1574</span><br><span class="line">1575</span><br><span class="line">1576</span><br><span class="line">1577</span><br><span class="line">1578</span><br><span class="line">1579</span><br><span class="line">1580</span><br><span class="line">1581</span><br><span class="line">1582</span><br><span class="line">1583</span><br><span class="line">1584</span><br><span class="line">1585</span><br><span class="line">1586</span><br><span class="line">1587</span><br><span class="line">1588</span><br><span class="line">1589</span><br><span class="line">1590</span><br><span class="line">1591</span><br><span class="line">1592</span><br><span class="line">1593</span><br><span class="line">1594</span><br><span class="line">1595</span><br><span class="line">1596</span><br><span class="line">1597</span><br><span class="line">1598</span><br><span class="line">1599</span><br><span class="line">1600</span><br><span class="line">1601</span><br><span class="line">1602</span><br><span class="line">1603</span><br><span class="line">1604</span><br><span class="line">1605</span><br><span class="line">1606</span><br><span class="line">1607</span><br><span class="line">1608</span><br><span class="line">1609</span><br><span class="line">1610</span><br><span class="line">1611</span><br><span class="line">1612</span><br><span class="line">1613</span><br><span class="line">1614</span><br><span class="line">1615</span><br><span class="line">1616</span><br><span class="line">1617</span><br><span class="line">1618</span><br><span class="line">1619</span><br><span class="line">1620</span><br><span class="line">1621</span><br><span class="line">1622</span><br><span class="line">1623</span><br><span class="line">1624</span><br><span class="line">1625</span><br><span class="line">1626</span><br><span class="line">1627</span><br><span class="line">1628</span><br><span class="line">1629</span><br><span class="line">1630</span><br><span class="line">1631</span><br><span class="line">1632</span><br><span class="line">1633</span><br><span class="line">1634</span><br><span class="line">1635</span><br><span class="line">1636</span><br><span class="line">1637</span><br><span class="line">1638</span><br><span class="line">1639</span><br><span class="line">1640</span><br><span class="line">1641</span><br><span class="line">1642</span><br><span class="line">1643</span><br><span class="line">1644</span><br><span class="line">1645</span><br><span class="line">1646</span><br><span class="line">1647</span><br><span class="line">1648</span><br><span class="line">1649</span><br><span class="line">1650</span><br><span class="line">1651</span><br><span class="line">1652</span><br><span class="line">1653</span><br><span class="line">1654</span><br><span class="line">1655</span><br><span class="line">1656</span><br><span class="line">1657</span><br><span class="line">1658</span><br><span class="line">1659</span><br><span class="line">1660</span><br><span class="line">1661</span><br><span class="line">1662</span><br><span class="line">1663</span><br><span class="line">1664</span><br><span class="line">1665</span><br><span class="line">1666</span><br><span class="line">1667</span><br><span class="line">1668</span><br><span class="line">1669</span><br><span class="line">1670</span><br><span class="line">1671</span><br><span class="line">1672</span><br><span class="line">1673</span><br><span class="line">1674</span><br><span class="line">1675</span><br><span class="line">1676</span><br><span class="line">1677</span><br><span class="line">1678</span><br><span class="line">1679</span><br><span class="line">1680</span><br><span class="line">1681</span><br><span class="line">1682</span><br><span class="line">1683</span><br><span class="line">1684</span><br><span class="line">1685</span><br><span class="line">1686</span><br><span class="line">1687</span><br><span class="line">1688</span><br><span class="line">1689</span><br><span class="line">1690</span><br><span class="line">1691</span><br><span class="line">1692</span><br><span class="line">1693</span><br><span class="line">1694</span><br><span class="line">1695</span><br><span class="line">1696</span><br><span class="line">1697</span><br><span class="line">1698</span><br><span class="line">1699</span><br><span class="line">1700</span><br><span class="line">1701</span><br><span class="line">1702</span><br><span class="line">1703</span><br><span class="line">1704</span><br><span class="line">1705</span><br><span class="line">1706</span><br><span class="line">1707</span><br><span class="line">1708</span><br><span class="line">1709</span><br><span class="line">1710</span><br><span class="line">1711</span><br><span class="line">1712</span><br><span class="line">1713</span><br><span class="line">1714</span><br><span class="line">1715</span><br><span class="line">1716</span><br><span class="line">1717</span><br><span class="line">1718</span><br><span class="line">1719</span><br><span class="line">1720</span><br><span class="line">1721</span><br><span class="line">1722</span><br><span class="line">1723</span><br><span class="line">1724</span><br><span class="line">1725</span><br><span class="line">1726</span><br><span class="line">1727</span><br><span class="line">1728</span><br><span class="line">1729</span><br><span class="line">1730</span><br><span class="line">1731</span><br><span class="line">1732</span><br><span class="line">1733</span><br><span class="line">1734</span><br><span class="line">1735</span><br><span class="line">1736</span><br><span class="line">1737</span><br><span class="line">1738</span><br><span class="line">1739</span><br><span class="line">1740</span><br><span class="line">1741</span><br><span class="line">1742</span><br><span class="line">1743</span><br><span class="line">1744</span><br><span class="line">1745</span><br><span class="line">1746</span><br><span class="line">1747</span><br><span class="line">1748</span><br><span class="line">1749</span><br><span class="line">1750</span><br><span class="line">1751</span><br><span class="line">1752</span><br><span class="line">1753</span><br><span class="line">1754</span><br><span class="line">1755</span><br><span class="line">1756</span><br><span class="line">1757</span><br><span class="line">1758</span><br><span class="line">1759</span><br><span class="line">1760</span><br><span class="line">1761</span><br><span class="line">1762</span><br><span class="line">1763</span><br><span class="line">1764</span><br><span class="line">1765</span><br><span class="line">1766</span><br><span class="line">1767</span><br><span class="line">1768</span><br><span class="line">1769</span><br><span class="line">1770</span><br><span class="line">1771</span><br><span class="line">1772</span><br><span class="line">1773</span><br><span class="line">1774</span><br><span class="line">1775</span><br><span class="line">1776</span><br><span class="line">1777</span><br><span class="line">1778</span><br><span class="line">1779</span><br><span class="line">1780</span><br><span class="line">1781</span><br><span class="line">1782</span><br><span class="line">1783</span><br><span class="line">1784</span><br><span class="line">1785</span><br><span class="line">1786</span><br><span class="line">1787</span><br><span class="line">1788</span><br><span class="line">1789</span><br><span class="line">1790</span><br><span class="line">1791</span><br><span class="line">1792</span><br><span class="line">1793</span><br><span class="line">1794</span><br><span class="line">1795</span><br><span class="line">1796</span><br><span class="line">1797</span><br><span class="line">1798</span><br><span class="line">1799</span><br><span class="line">1800</span><br><span class="line">1801</span><br><span class="line">1802</span><br><span class="line">1803</span><br><span class="line">1804</span><br><span class="line">1805</span><br><span class="line">1806</span><br><span class="line">1807</span><br><span class="line">1808</span><br><span class="line">1809</span><br><span class="line">1810</span><br><span class="line">1811</span><br><span class="line">1812</span><br><span class="line">1813</span><br><span class="line">1814</span><br><span class="line">1815</span><br><span class="line">1816</span><br><span class="line">1817</span><br><span class="line">1818</span><br><span class="line">1819</span><br><span class="line">1820</span><br><span class="line">1821</span><br><span class="line">1822</span><br><span class="line">1823</span><br><span class="line">1824</span><br><span class="line">1825</span><br><span class="line">1826</span><br><span class="line">1827</span><br><span class="line">1828</span><br><span class="line">1829</span><br><span class="line">1830</span><br><span class="line">1831</span><br><span class="line">1832</span><br><span class="line">1833</span><br><span class="line">1834</span><br><span class="line">1835</span><br><span class="line">1836</span><br><span class="line">1837</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">&quot;2020&quot;:&quot;dc709fac0d361370bcf0d36d32adb97df7c95824.png&quot;,</span><br><span class="line">&quot;2021&quot;:&quot;14d8996128d46dabd3a2ed6c172c8af918d7a5d2.png&quot;,</span><br><span class="line">&quot;微笑&quot;:&quot;685612eadc33f6bc233776c6241813385844f182.png&quot;,</span><br><span class="line">&quot;OK&quot;:&quot;4683fd9ffc925fa6423110979d7dcac5eda297f4.png&quot;,</span><br><span class="line">&quot;星星眼&quot;:&quot;63c9d1a31c0da745b61cdb35e0ecb28635675db2.png&quot;,</span><br><span class="line">&quot;doge&quot;:&quot;bba7c12aa51fed0199c241465560dfc2714c593e.png&quot;,</span><br><span class="line">&quot;妙啊&quot;:&quot;b4cb77159d58614a9b787b91b1cd22a81f383535.png&quot;,</span><br><span class="line">&quot;吃瓜&quot;:&quot;4191ce3c44c2b3df8fd97c33f85d3ab15f4f3c84.png&quot;,</span><br><span class="line">&quot;辣眼睛&quot;:&quot;35d62c496d1e4ea9e091243fa812866f5fecc101.png&quot;,</span><br><span class="line">&quot;滑稽&quot;:&quot;d15121545a99ac46774f1f4465b895fe2d1411c3.png&quot;,</span><br><span class="line">&quot;笑哭&quot;:&quot;c3043ba94babf824dea03ce500d0e73763bf4f40.png&quot;,</span><br><span class="line">&quot;呲牙&quot;:&quot;b5a5898491944a4268360f2e7a84623149672eb6.png&quot;,</span><br><span class="line">&quot;打call&quot;:&quot;431432c43da3ee5aab5b0e4f8931953e649e9975.png&quot;,</span><br><span class="line">&quot;歪嘴&quot;:&quot;4384050fbab0586259acdd170b510fe262f08a17.png&quot;,</span><br><span class="line">&quot;嫌弃&quot;:&quot;de4c0783aaa60ec03de0a2b90858927bfad7154b.png&quot;,</span><br><span class="line">&quot;喜欢&quot;:&quot;8a10a4d73a89f665feff3d46ca56e83dc68f9eb8.png&quot;,</span><br><span class="line">&quot;哦呼&quot;:&quot;362bded07ea5434886271d23fa25f5d85d8af06c.png&quot;,</span><br><span class="line">&quot;酸了&quot;:&quot;92b1c8cbceea3ae0e8e32253ea414783e8ba7806.png&quot;,</span><br><span class="line">&quot;大哭&quot;:&quot;2caafee2e5db4db72104650d87810cc2c123fc86.png&quot;,</span><br><span class="line">&quot;害羞&quot;:&quot;9d2ec4e1fbd6cb1b4d12d2bbbdd124ccb83ddfda.png&quot;,</span><br><span class="line">&quot;疑惑&quot;:&quot;b7840db4b1f9f4726b7cb23c0972720c1698d661.png&quot;,</span><br><span class="line">&quot;调皮&quot;:&quot;8290b7308325e3179d2154327c85640af1528617.png&quot;,</span><br><span class="line">&quot;喜极而泣&quot;:&quot;485a7e0c01c2d70707daae53bee4a9e2e31ef1ed.png&quot;,</span><br><span class="line">&quot;奸笑&quot;:&quot;bb84906573472f0a84cebad1e9000eb6164a6f5a.png&quot;,</span><br><span class="line">&quot;笑&quot;:&quot;81edf17314cea3b48674312b4364df44d5c01f17.png&quot;,</span><br><span class="line">&quot;偷笑&quot;:&quot;6c49d226e76c42cd8002abc47b3112bc5a92f66a.png&quot;,</span><br><span class="line">&quot;惊讶&quot;:&quot;f8e9a59cad52ae1a19622805696a35f0a0d853f3.png&quot;,</span><br><span class="line">&quot;捂脸&quot;:&quot;6921bb43f0c634870b92f4a8ad41dada94a5296d.png&quot;,</span><br><span class="line">&quot;阴险&quot;:&quot;ba8d5f8e7d136d59aab52c40fd3b8a43419eb03c.png&quot;,</span><br><span class="line">&quot;囧&quot;:&quot;12e41d357a9807cc80ef1e1ed258127fcc791424.png&quot;,</span><br><span class="line">&quot;呆&quot;:&quot;33ad6000d9f9f168a0976bc60937786f239e5d8c.png&quot;,</span><br><span class="line">&quot;抠鼻&quot;:&quot;cb89184c97e3f6d50acfd7961c313ce50360d70f.png&quot;,</span><br><span class="line">&quot;大笑&quot;:&quot;ca94ad1c7e6dac895eb5b33b7836b634c614d1c0.png&quot;,</span><br><span class="line">&quot;惊喜&quot;:&quot;0afecaf3a3499479af946f29749e1a6c285b6f65.png&quot;,</span><br><span class="line">&quot;无语&quot;:&quot;44667b7d9349957e903b1b62cb91fb9b13720f04.png&quot;,</span><br><span class="line">&quot;鼓掌&quot;:&quot;895d1fc616b4b6c830cf96012880818c0e1de00d.png&quot;,</span><br><span class="line">&quot;点赞&quot;:&quot;1a67265993913f4c35d15a6028a30724e83e7d35.png&quot;,</span><br><span class="line">&quot;尴尬&quot;:&quot;cb321684ed5ce6eacdc2699092ab8fe7679e4fda.png&quot;,</span><br><span class="line">&quot;灵魂出窍&quot;:&quot;43d3db7d97343c01b47e22cfabeca84b4251f35a.png&quot;,</span><br><span class="line">&quot;委屈&quot;:&quot;d2f26cbdd6c96960320af03f5514c5b524990840.png&quot;,</span><br><span class="line">&quot;傲娇&quot;:&quot;010540d0f61220a0db4922e4a679a1d8eca94f4e.png&quot;,</span><br><span class="line">&quot;冷&quot;:&quot;cb0ebbd0668640f07ebfc0e03f7a18a8cd00b4ed.png&quot;,</span><br><span class="line">&quot;疼&quot;:&quot;905fd9a99ec316e353b9bd4ecd49a5f0a301eabf.png&quot;,</span><br><span class="line">&quot;吓&quot;:&quot;9c10c5ebc7bef27ec641b8a1877674e0c65fea5d.png&quot;,</span><br><span class="line">&quot;生病&quot;:&quot;0f25ce04ae1d7baf98650986454c634f6612cb76.png&quot;,</span><br><span class="line">&quot;吐&quot;:&quot;06946bfe71ac48a6078a0b662181bb5cad09decc.png&quot;,</span><br><span class="line">&quot;捂眼&quot;:&quot;c5c6d6982e1e53e478daae554b239f2b227b172b.png&quot;,</span><br><span class="line">&quot;嘘声&quot;:&quot;e64af664d20716e090f10411496998095f62f844.png&quot;,</span><br><span class="line">&quot;思考&quot;:&quot;cfa9b7e89e4bfe04bbcd34ccb1b0df37f4fa905c.png&quot;,</span><br><span class="line">&quot;再见&quot;:&quot;fc510306bae26c9aec7e287cdf201ded27b065b9.png&quot;,</span><br><span class="line">&quot;翻白眼&quot;:&quot;eba54707c7168925b18f6f8b1f48d532fe08c2b1.png&quot;,</span><br><span class="line">&quot;哈欠&quot;:&quot;888d877729cbec444ddbd1cf4c9af155a7a06086.png&quot;,</span><br><span class="line">&quot;奋斗&quot;:&quot;bb2060c15dba7d3fd731c35079d1617f1afe3376.png&quot;,</span><br><span class="line">&quot;墨镜&quot;:&quot;3a03aebfc06339d86a68c2d893303b46f4b85771.png&quot;,</span><br><span class="line">&quot;难过&quot;:&quot;a651db36701610aa70a781fa98c07c9789b11543.png&quot;,</span><br><span class="line">&quot;撇嘴&quot;:&quot;531863568e5668c5ac181d395508a0eeb1f0cda4.png&quot;,</span><br><span class="line">&quot;抓狂&quot;:&quot;4c87afff88c22439c45b79e9d2035d21d5622eba.png&quot;,</span><br><span class="line">&quot;生气&quot;:&quot;3195714219c4b582a4fb02033dd1519913d0246d.png&quot;,</span><br><span class="line">&quot;口罩&quot;:&quot;3ad2f66b151496d2a5fb0a8ea75f32265d778dd3.png&quot;,</span><br><span class="line">&quot;鸡腿&quot;:&quot;c7860392815d345fa69c4f00ef18d67dccfbd574.png&quot;,</span><br><span class="line">&quot;月饼&quot;:&quot;89b19c5730e08d6f12fadf6996de5bc2e52f81fe.png&quot;,</span><br><span class="line">&quot;雪花&quot;:&quot;a41813c4edf8782047e172c884ebd4507ce5e449.png&quot;,</span><br><span class="line">&quot;视频卫星&quot;:&quot;dce6fc7d6dfeafff01241924db60f8251cca5307.png&quot;,</span><br><span class="line">&quot;11周年&quot;:&quot;d3b2d5dc028c75ae4df379f4c3afbe186d0f6f9b.png&quot;,</span><br><span class="line">&quot;干杯&quot;:&quot;8da12d5f55a2c7e9778dcc05b40571979fe208e6.png&quot;,</span><br><span class="line">&quot;爱心&quot;:&quot;ed04066ea7124106d17ffcaf75600700e5442f5c.png&quot;,</span><br><span class="line">&quot;锦鲤&quot;:&quot;643d6c19c8164ffd89e3e9cdf093cf5d773d979c.png&quot;,</span><br><span class="line">&quot;胜利&quot;:&quot;b49fa9f4b1e7c3477918153b82c60b114d87347c.png&quot;,</span><br><span class="line">&quot;加油&quot;:&quot;c7aaeacb21e107292d3bb053e5abde4a4459ed30.png&quot;,</span><br><span class="line">&quot;抱拳&quot;:&quot;89516218158dbea18ab78e8873060bf95d33bbbe.png&quot;,</span><br><span class="line">&quot;响指&quot;:&quot;1b5c53cf14336903e1d2ae3527ca380a1256a077.png&quot;,</span><br><span class="line">&quot;保佑&quot;:&quot;fafe8d3de0dc139ebe995491d2dac458a865fb30.png&quot;,</span><br><span class="line">&quot;支持&quot;:&quot;3c210366a5585706c09d4c686a9d942b39feeb50.png&quot;,</span><br><span class="line">&quot;拥抱&quot;:&quot;41780a4254750cdaaccb20735730a36044e98ef3.png&quot;,</span><br><span class="line">&quot;跪了&quot;:&quot;f2b3aee7e521de7799d4e3aa379b01be032698ac.png&quot;,</span><br><span class="line">&quot;怪我咯&quot;:&quot;07cc6077f7f7d75b8d2c722dd9d9828a9fb9e46d.png&quot;,</span><br><span class="line">&quot;黑洞&quot;:&quot;e90ec4c799010f25391179118ccd9f66b3b279ba.png&quot;,</span><br><span class="line">&quot;老鼠&quot;:&quot;8e6fb491eb1bb0d5862e7ec8ccf9a3da12b6c155.png&quot;,</span><br><span class="line">&quot;福到了&quot;:&quot;5de5373d354c373cf1617b6b836f3a8d53c5a655.png&quot;,</span><br><span class="line">&quot;W-哈哈&quot;:&quot;83d527303c8f62f494e6971c48836487e7d87b1b.png&quot;,</span><br><span class="line">&quot;凛冬-生气&quot;:&quot;d90bd2fbc13a3cb8d313f6d675f20caf109f60a7.png&quot;,</span><br><span class="line">&quot;霜叶-疑问&quot;:&quot;ada3aea8594e724511c1daad15fb3b23900d8e24.png&quot;,</span><br><span class="line">&quot;煌-震撼&quot;:&quot;7bb39ac289bc97fe52af047020a9bf324ecdebe1.png&quot;,</span><br><span class="line">&quot;哭泣&quot;:&quot;a61abafb8c39defc323b045f30072198007b1c89.png&quot;,</span><br><span class="line">&quot;哈哈&quot;:&quot;e6449b0bae13b8c97cc65976ff8cdc2c16be0015.png&quot;,</span><br><span class="line">&quot;狗子&quot;:&quot;6a997106af5bf490f22c80a7acf3be813ee755fc.png&quot;,</span><br><span class="line">&quot;羞羞&quot;:&quot;f4f9171e4d8c3f30827a8b96ea1ce1beb825ad50.png&quot;,</span><br><span class="line">&quot;亲亲&quot;:&quot;2f72bae7b834d499f259c833f7011d5ed8748fd1.png&quot;,</span><br><span class="line">&quot;耍帅&quot;:&quot;d7a38b08d1f1cc35b19c35041f29ffcc48808e87.png&quot;,</span><br><span class="line">&quot;气愤&quot;:&quot;069b029d17a086ab475fd331697a649e234850bb.png&quot;,</span><br><span class="line">&quot;高兴&quot;:&quot;416570a8aca7be12fb2c36e4b846906653f6d294.png&quot;,</span><br><span class="line">&quot;doge-圣诞&quot;:&quot;1afb5eb96846e0876071eeecb47be95dbf55f08d.png&quot;,</span><br><span class="line">&quot;妙啊-圣诞&quot;:&quot;1cdb10e4b6c6743a1ec96f1579e3ef3045a8f225.png&quot;,</span><br><span class="line">&quot;呲牙-圣诞&quot;:&quot;ae4395c1e29e9a2db0c9ccc4c0db05c414816e68.png&quot;,</span><br><span class="line">&quot;OK-圣诞&quot;:&quot;75d1c99cce001d6d103a8fd406616be9f51621ab.png&quot;,</span><br><span class="line">&quot;星星眼-圣诞&quot;:&quot;195641c30c55f34f9cd82c5e5c32d66a425c7723.png&quot;,</span><br><span class="line">&quot;吃瓜-圣诞&quot;:&quot;aa6a3022e47b441c7f84d02cacc063a728a561e0.png&quot;,</span><br><span class="line">&quot;滑稽-圣诞&quot;:&quot;5874276ea716d0e9797f827dcfca4332acf8f0de.png&quot;,</span><br><span class="line">&quot;辣眼睛-圣诞&quot;:&quot;8080adfe5acdfd0b6b09bd91db24ea7334ac7b44.png&quot;,</span><br><span class="line">&quot;打call-圣诞&quot;:&quot;2b04dd2d0e55d978ee485e1f7f3c5e355493ab78.png&quot;,</span><br><span class="line">&quot;捂脸-圣诞&quot;:&quot;9af59557383770c398daac81583e6c4d27d83da7.png&quot;,</span><br><span class="line">&quot;十周年&quot;:&quot;1eacd3f7816e70aff9c1b1a2e9605240466f599b.png&quot;,</span><br><span class="line">&quot;加油武汉&quot;:&quot;eb966aaa5b690d3f9308a9f936f5b5a72a7f956b.png&quot;,</span><br><span class="line">&quot;粽子&quot;:&quot;177999fb7d70d891fbf63b161f26b272e08dc1de.png&quot;,</span><br><span class="line">&quot;画风突变&quot;:&quot;ba4de7a3f97644038b15195bdc9f82a8fd118e77.png&quot;,</span><br><span class="line">&quot;福&quot;:&quot;802429a301ac5b35a0480d9526a070ce67cd8097.png&quot;,</span><br><span class="line">&quot;热词系列-知识增加&quot;:&quot;142409b595982b8210b2958f3d340f3b47942645.png&quot;,</span><br><span class="line">&quot;热词系列-知识增加-圣诞&quot;:&quot;d0cc76a75405413771f0a55453af3a12062cb64c.png&quot;,</span><br><span class="line">&quot;热词系列-爷青回&quot;:&quot;a26189ff1e681bddef7f6533f9aabe7604731a3e.png&quot;,</span><br><span class="line">&quot;热词系列-好家伙&quot;:&quot;63ec80dea3066bd9f449ba999ba531fa61f7b4eb.png&quot;,</span><br><span class="line">&quot;热词系列-芜湖起飞&quot;:&quot;78d04c6ce78a613c90d510cd45fe7e25c57ba00b.png&quot;,</span><br><span class="line">&quot;热词系列-梦幻联动&quot;:&quot;4809416be5ca787c2ec3e897e4fd022a58da6e0e.png&quot;,</span><br><span class="line">&quot;热词系列-泪目&quot;:&quot;bba3703ab90b7d16fe9dbcb85ed949db687f8331.png&quot;,</span><br><span class="line">&quot;热词系列-保护&quot;:&quot;55f8f6445ca7c3170cdfc5b16036abf639ce9b57.png&quot;,</span><br><span class="line">&quot;热词系列-害怕&quot;:&quot;d77e2de26da143249f0c0ad7a608c27152c985bf.png&quot;,</span><br><span class="line">&quot;热词系列-爱了爱了&quot;:&quot;2a165b555ba20391316366c664ed7891883dc5aa.png&quot;,</span><br><span class="line">&quot;热词系列-吹爆&quot;:&quot;b528220f9c37256ed6a37f05bf118e44b08b81e5.png&quot;,</span><br><span class="line">&quot;热词系列-三连&quot;:&quot;21f15fe11b7a84d2f2121c16dec50a4e4556f865.png&quot;,</span><br><span class="line">&quot;热词系列-可以&quot;:&quot;e08543c71202b36c590094417fcfbb80c3506cd8.png&quot;,</span><br><span class="line">&quot;热词系列-希望没事&quot;:&quot;6c0d2e6c486d1ba5afd6204a96e102652464a01d.png&quot;,</span><br><span class="line">&quot;热词系列-打卡&quot;:&quot;a9cf77c78e1b9b40aa3ed4862402fba008ee2f51.png&quot;,</span><br><span class="line">&quot;热词系列-skr&quot;:&quot;bd285ff94db16ad52557c3effe930d64663e8375.png&quot;,</span><br><span class="line">&quot;热词系列-battle&quot;:&quot;f2f81c8e47db6252becd633a5d1ee14e15df2ea8.png&quot;,</span><br><span class="line">&quot;热词系列-DNA&quot;:&quot;f6eb74f8230588f61a298af89061a7d75c5762e5.png&quot;,</span><br><span class="line">&quot;热词系列-妙啊&quot;:&quot;0e98299d7decf5eaffad854977946075c3e91cb8.png&quot;,</span><br><span class="line">&quot;热词系列-这次一定&quot;:&quot;a01ca28923daa7cc896c42f27deb4914e20dd572.png&quot;,</span><br><span class="line">&quot;热词系列-AWSL&quot;:&quot;c37f88cf799f9badf9d84b7671dc3dd98c0fc0c2.png&quot;,</span><br><span class="line">&quot;热词系列-递话筒&quot;:&quot;98e6950e39fbb4dd1c576042063ca632074070ba.png&quot;,</span><br><span class="line">&quot;热词系列-你细品&quot;:&quot;535e00658e7e47966f154d3a167fa2365ebc4321.png&quot;,</span><br><span class="line">&quot;热词系列-咕咕&quot;:&quot;d8065c2e7ce48c929317a94553499a46fecc262a.png&quot;,</span><br><span class="line">&quot;热词系列-标准结局&quot;:&quot;3de98174b510cf7dc5fd1bd08c5d881065e79137.png&quot;,</span><br><span class="line">&quot;热词系列-危&quot;:&quot;5cc6c3357c4df544dd8de9d5c5c0cec97c7c9a56.png&quot;,</span><br><span class="line">&quot;热词系列-张三&quot;:&quot;255a938f39cea625032b6650036b31aa26c50a3c.png&quot;,</span><br><span class="line">&quot;热词系列-害&quot;:&quot;cbe798a194612958537c5282fcca7c3bcd2aa15c.png&quot;,</span><br><span class="line">&quot;热词系列-我裂开了&quot;:&quot;29bd57ec4e8952880fea6c9e47aee924e91f10c4.png&quot;,</span><br><span class="line">&quot;热词系列-有内味了&quot;:&quot;7ca61680a905b5b6e2e335c630e725b648b03b4d.png&quot;,</span><br><span class="line">&quot;热词系列-猛男必看&quot;:&quot;c97064450528a0e45c7e7c365a15fbb13fd61d8c.png&quot;,</span><br><span class="line">&quot;热词系列-奥力给&quot;:&quot;c9b8683827ec6c00fea5327c9bec14f581cef2aa.png&quot;,</span><br><span class="line">&quot;热词系列-问号&quot;:&quot;c1d1e76c12180adc8558f47006fe0e7ded4154bb.png&quot;,</span><br><span class="line">&quot;热词系列-我哭了&quot;:&quot;9e0b3877d649aaf6538fbdd3f937e240a9d808e4.png&quot;,</span><br><span class="line">&quot;热词系列-高产&quot;:&quot;9db817cba4a7f4a42398f3b2ec7c0a8e0c247c42.png&quot;,</span><br><span class="line">&quot;热词系列-我酸了&quot;:&quot;a8cbf3f6b8cd9377eeb15b9172f3cd683b2e4650.png&quot;,</span><br><span class="line">&quot;热词系列-真香&quot;:&quot;e68497c775feaac1c3b1a6cd63a50cfb11b767c4.png&quot;,</span><br><span class="line">&quot;热词系列-我全都要&quot;:&quot;d424d1ad8d14c1c9b8367842bc68c658b9229bc1.png&quot;,</span><br><span class="line">&quot;热词系列-神仙UP&quot;:&quot;a49e0d0db1e7d35a0f7411be13208951ab448f03.png&quot;,</span><br><span class="line">&quot;热词系列-你币有了&quot;:&quot;84820c2b147a8ca02f3c4006b63f76c6313cbfa0.png&quot;,</span><br><span class="line">&quot;热词系列-不愧是你&quot;:&quot;9ff2e356797c57ee3b1675ade0883d2d2247be9b.png&quot;,</span><br><span class="line">&quot;热词系列-锤&quot;:&quot;35668cc12ae25b9545420e4a85bf21a0bfc03e5d.png&quot;,</span><br><span class="line">&quot;热词系列-秀&quot;:&quot;50782fbf5d9b7f48f9467b5c53932981e321eedc.png&quot;,</span><br><span class="line">&quot;热词系列-爷关更&quot;:&quot;faad40c56447f1f8abcb4045c17ce159d113d1fd.png&quot;,</span><br><span class="line">&quot;热词系列-有生之年&quot;:&quot;f41fdafe2d0fbb8e8bc1598d2cf37e355560103a.png&quot;,</span><br><span class="line">&quot;热词系列-镇站之宝&quot;:&quot;24e7a6a6e6383c987215fb905e3ee070aca259b5.png&quot;,</span><br><span class="line">&quot;热词系列-我太南了&quot;:&quot;a523f3e4c63e4db1232365765d0ec452f83be97e.png&quot;,</span><br><span class="line">&quot;热词系列-完结撒花&quot;:&quot;ea9db62ff5bca8e069cd70c4233353a802835422.png&quot;,</span><br><span class="line">&quot;热词系列-大师球&quot;:&quot;f30089248dd137c568edabcb07cf67e0f6e98cf3.png&quot;,</span><br><span class="line">&quot;热词系列-知识盲区&quot;:&quot;ccc94600b321a28116081e49ecedaa4ee8728312.png&quot;,</span><br><span class="line">&quot;热词系列-“狼火”&quot;:&quot;33ccd3617bfa89e9d1498b13b7542b63f163e5de.png&quot;,</span><br><span class="line">&quot;热词系列-你可真星&quot;:&quot;54c8ddff400abfe388060cabfbb579280fdea1be.png&quot;,</span><br><span class="line">&quot;tv-白眼&quot;:&quot;c1d59f439e379ee50eef488bcb5e5378e5044ea4.png&quot;,</span><br><span class="line">&quot;tv-doge&quot;:&quot;6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png&quot;,</span><br><span class="line">&quot;tv-坏笑&quot;:&quot;1f0b87f731a671079842116e0991c91c2c88645a.png&quot;,</span><br><span class="line">&quot;tv-难过&quot;:&quot;87f46748d3f142ebc6586ff58860d0e2fc8263ba.png&quot;,</span><br><span class="line">&quot;tv-生气&quot;:&quot;26702dcafdab5e8225b43ffd23c94ac1ff932654.png&quot;,</span><br><span class="line">&quot;tv-委屈&quot;:&quot;d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png&quot;,</span><br><span class="line">&quot;tv-斜眼笑&quot;:&quot;911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png&quot;,</span><br><span class="line">&quot;tv-呆&quot;:&quot;fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png&quot;,</span><br><span class="line">&quot;tv-发怒&quot;:&quot;34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png&quot;,</span><br><span class="line">&quot;tv-惊吓&quot;:&quot;0d15c7e2ee58e935adc6a7193ee042388adc22af.png&quot;,</span><br><span class="line">&quot;tv-呕吐&quot;:&quot;9f996894a39e282ccf5e66856af49483f81870f3.png&quot;,</span><br><span class="line">&quot;tv-思考&quot;:&quot;90cf159733e558137ed20aa04d09964436f618a1.png&quot;,</span><br><span class="line">&quot;tv-微笑&quot;:&quot;70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png&quot;,</span><br><span class="line">&quot;tv-疑问&quot;:&quot;0793d949b18d7be716078349c202c15ff166f314.png&quot;,</span><br><span class="line">&quot;tv-大哭&quot;:&quot;23269aeb35f99daee28dda129676f6e9ea87934f.png&quot;,</span><br><span class="line">&quot;tv-鼓掌&quot;:&quot;1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png&quot;,</span><br><span class="line">&quot;tv-抠鼻&quot;:&quot;c666f55e88d471e51bbd9fab9bb308110824a6eb.png&quot;,</span><br><span class="line">&quot;tv-亲亲&quot;:&quot;a8111ad55953ef5e3be3327ef94eb4a39d535d06.png&quot;,</span><br><span class="line">&quot;tv-调皮&quot;:&quot;b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png&quot;,</span><br><span class="line">&quot;tv-笑哭&quot;:&quot;1abc628f6d4f4caf9d0e7800878f4697abbc8273.png&quot;,</span><br><span class="line">&quot;tv-晕&quot;:&quot;5443c22b4d07fb1907ccc610c8e6db254f2461b7.png&quot;,</span><br><span class="line">&quot;tv-点赞&quot;:&quot;f85c354995bd99e28fc76c869bfe42ba6438eff4.png&quot;,</span><br><span class="line">&quot;tv-害羞&quot;:&quot;a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png&quot;,</span><br><span class="line">&quot;tv-睡着&quot;:&quot;8b196675b53af58264f383c50ad0945048290b33.png&quot;,</span><br><span class="line">&quot;tv-色&quot;:&quot;61822c7e9aae5da76475e7892534545336b23a6f.png&quot;,</span><br><span class="line">&quot;tv-吐血&quot;:&quot;09dd16a7aa59b77baa1155d47484409624470c77.png&quot;,</span><br><span class="line">&quot;tv-无奈&quot;:&quot;ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png&quot;,</span><br><span class="line">&quot;tv-再见&quot;:&quot;180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png&quot;,</span><br><span class="line">&quot;tv-流汗&quot;:&quot;cead1c351ab8d79e9f369605beb90148db0fbed3.png&quot;,</span><br><span class="line">&quot;tv-偷笑&quot;:&quot;bb690d4107620f1c15cff29509db529a73aee261.png&quot;,</span><br><span class="line">&quot;tv-抓狂&quot;:&quot;fe31c08edad661d63762b04e17b8d5ae3c71a757.png&quot;,</span><br><span class="line">&quot;tv-黑人问号&quot;:&quot;45821a01f51bc867da9edbaa2e070410819a95b2.png&quot;,</span><br><span class="line">&quot;tv-困&quot;:&quot;241ee304e44c0af029adceb294399391e4737ef2.png&quot;,</span><br><span class="line">&quot;tv-打脸&quot;:&quot;56ab10b624063e966bfcb76ea5dc4794d87dfd47.png&quot;,</span><br><span class="line">&quot;tv-闭嘴&quot;:&quot;c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png&quot;,</span><br><span class="line">&quot;tv-鄙视&quot;:&quot;6e72339f346a692a495b123174b49e4e8e781303.png&quot;,</span><br><span class="line">&quot;tv-腼腆&quot;:&quot;89712c0d4af73e67f89e35cbc518420380a7f6f4.png&quot;,</span><br><span class="line">&quot;tv-馋&quot;:&quot;fc7e829b845c43c623c8b490ee3602b7f0e76a31.png&quot;,</span><br><span class="line">&quot;tv-可爱&quot;:&quot;9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png&quot;,</span><br><span class="line">&quot;tv-发财&quot;:&quot;34db290afd2963723c6eb3c4560667db7253a21a.png&quot;,</span><br><span class="line">&quot;tv-生病&quot;:&quot;8b0ec90e6b86771092a498c54f09fc94621c1900.png&quot;,</span><br><span class="line">&quot;tv-流鼻血&quot;:&quot;c32d39db2737f89b904ca32700d140a9241b0767.png&quot;,</span><br><span class="line">&quot;tv-尴尬&quot;:&quot;7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png&quot;,</span><br><span class="line">&quot;tv-大佬&quot;:&quot;093c1e2c490161aca397afc45573c877cdead616.png&quot;,</span><br><span class="line">&quot;tv-流泪&quot;:&quot;7e71cde7858f0cd50d74b0264aa26db612a8a167.png&quot;,</span><br><span class="line">&quot;tv-冷漠&quot;:&quot;b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png&quot;,</span><br><span class="line">&quot;tv-皱眉&quot;:&quot;72ccad6679fea0d14cce648b4d818e09b8ffea2d.png&quot;,</span><br><span class="line">&quot;tv-鬼脸&quot;:&quot;0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png&quot;,</span><br><span class="line">&quot;tv-调侃&quot;:&quot;4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png&quot;,</span><br><span class="line">&quot;tv-目瞪口呆&quot;:&quot;0b8cb81a68de5d5365212c99375e7ace3e7891b7.png&quot;,</span><br><span class="line">&quot;tv-白眼-动态&quot;:&quot;48f75163437445665a9be80bb316e4cb252c5415.gif&quot;,</span><br><span class="line">&quot;tv-doge-动态&quot;:&quot;302d6c88c63ed162c81a49cafe7ed2709e6fb955.gif&quot;,</span><br><span class="line">&quot;tv-坏笑-动态&quot;:&quot;5d2572efd09aab5dde9e2a198bb3f9ac1e2a982e.gif&quot;,</span><br><span class="line">&quot;tv-难过-动态&quot;:&quot;9c6b41008a67755410f712334c64313df5f91b3f.gif&quot;,</span><br><span class="line">&quot;tv-生气-动态&quot;:&quot;1902a5a2df5b5c931d88c12f0feb264b1e109d0d.gif&quot;,</span><br><span class="line">&quot;tv-委屈-动态&quot;:&quot;af5a5853edb43a8178a8cb5df707fa5e88143699.gif&quot;,</span><br><span class="line">&quot;tv-斜眼笑-动态&quot;:&quot;c66568b471192ca1f62f6ed4384dc1b283ab7508.gif&quot;,</span><br><span class="line">&quot;tv-呆-动态&quot;:&quot;d3fa91e4db9215eb1e20ab9da44f1214aa4bda7b.gif&quot;,</span><br><span class="line">&quot;tv-发怒-动态&quot;:&quot;3959eb81b952e4fa8d269d98f9e3639172d84073.gif&quot;,</span><br><span class="line">&quot;tv-惊吓-动态&quot;:&quot;13549060757fcd92b11d0657d9b3b6038f97abb6.gif&quot;,</span><br><span class="line">&quot;tv-呕吐-动态&quot;:&quot;db58e9442aae26694af18cc1683607cca3a16763.gif&quot;,</span><br><span class="line">&quot;tv-思考-动态&quot;:&quot;b63f9146bfd985af014f8d6d4bdb498805be48f9.gif&quot;,</span><br><span class="line">&quot;tv-微笑-动态&quot;:&quot;b98656855d782f61cb8edc7f7fca6563ecafff7e.gif&quot;,</span><br><span class="line">&quot;tv-疑问-动态&quot;:&quot;fce1b1a0f3b0e39a2dc16a18508dba7b91e929f4.gif&quot;,</span><br><span class="line">&quot;tv-大哭-动态&quot;:&quot;cba61f05f3039b02a7ffc0dfcd9d7995df9fdd74.gif&quot;,</span><br><span class="line">&quot;tv-鼓掌-动态&quot;:&quot;be106e6b265883a9f28fbe10f7b765701e2618d4.gif&quot;,</span><br><span class="line">&quot;tv-抠鼻-动态&quot;:&quot;696d9f93e722144dc2a78aeffc569418fdf3d565.gif&quot;,</span><br><span class="line">&quot;tv-亲亲-动态&quot;:&quot;3534ea44ab74bd20352b88c245a06c4b4c46d271.gif&quot;,</span><br><span class="line">&quot;tv-调皮-动态&quot;:&quot;fcd967395fd14e4dd5829fa7e8a967ce23205e52.gif&quot;,</span><br><span class="line">&quot;tv-笑哭-动态&quot;:&quot;1c2fd1e8c9dde12812f86e5d4cbddd8993d98082.gif&quot;,</span><br><span class="line">&quot;tv-晕-动态&quot;:&quot;030040ec5c9ddc9e3d067658c4139e7314ab42f8.gif&quot;,</span><br><span class="line">&quot;tv-点赞-动态&quot;:&quot;30ecff401245fb56bcc1cf588d1809ac1ab1607c.gif&quot;,</span><br><span class="line">&quot;tv-害羞-动态&quot;:&quot;411a3e459e8580f5bfd9f639a408247c4b509935.gif&quot;,</span><br><span class="line">&quot;tv-睡着-动态&quot;:&quot;3c8b5e293261287a6203597e29b3de07df4d18c6.gif&quot;,</span><br><span class="line">&quot;tv-色-动态&quot;:&quot;a0c6d99ab0ab63b8648f5283ff72cec04b604828.gif&quot;,</span><br><span class="line">&quot;tv-吐血-动态&quot;:&quot;e17e4539e169d14a3389ff147afea760cebe5de5.gif&quot;,</span><br><span class="line">&quot;tv-无奈-动态&quot;:&quot;eb4cb5f07cfd177c7e6a7914316717e56d9cc1d0.gif&quot;,</span><br><span class="line">&quot;tv-再见-动态&quot;:&quot;344f61609ecce2008520dc8a977b6169215748a9.gif&quot;,</span><br><span class="line">&quot;tv-流汗-动态&quot;:&quot;390bccec65eaff536bd5bb2a0c5b8b0bdea47334.gif&quot;,</span><br><span class="line">&quot;tv-偷笑-动态&quot;:&quot;7f11e6f7f63e79112b833bd41fa13a83d7cd8474.gif&quot;,</span><br><span class="line">&quot;tv-抓狂-动态&quot;:&quot;a476b93ecd8e94ac3257323fd822f91cef212de2.gif&quot;,</span><br><span class="line">&quot;tv-黑人问号-动态&quot;:&quot;b609adf664be33224a9923262031165ae3e34cd2.gif&quot;,</span><br><span class="line">&quot;tv-困-动态&quot;:&quot;91c2bf34ecf842d7016c01d841db3d4074bd281f.gif&quot;,</span><br><span class="line">&quot;tv-打脸-动态&quot;:&quot;b0fad4856e59c1240e448437da3287bb5ce547e5.gif&quot;,</span><br><span class="line">&quot;tv-闭嘴-动态&quot;:&quot;a3fc5388b09e945be3f18fe23bfed5874a0285b7.gif&quot;,</span><br><span class="line">&quot;tv-鄙视-动态&quot;:&quot;293b5d459e6264ecf314d20937a936fa672ccd1e.gif&quot;,</span><br><span class="line">&quot;tv-腼腆-动态&quot;:&quot;30984e8264324f901d19bea85dada7103b695534.gif&quot;,</span><br><span class="line">&quot;tv-馋-动态&quot;:&quot;2525c5703c594e5f0752f68db8948773caebde47.gif&quot;,</span><br><span class="line">&quot;tv-可爱-动态&quot;:&quot;f92d20f76258bc5f33fc9d7c5e2a1d41fef19a7c.gif&quot;,</span><br><span class="line">&quot;tv-发财-动态&quot;:&quot;76131e52c9b033681b4c896c6024d29ef7ec7ec2.gif&quot;,</span><br><span class="line">&quot;tv-生病-动态&quot;:&quot;beb94829fe04f1a41bd6ca611e1f6ca9ca169afa.gif&quot;,</span><br><span class="line">&quot;tv-流鼻血-动态&quot;:&quot;8ef473f74a849420da712487b2f56ecca1f695f5.gif&quot;,</span><br><span class="line">&quot;tv-尴尬-动态&quot;:&quot;e0b84ef5ee3e5b8978e584c7c5a6550c51d15f84.gif&quot;,</span><br><span class="line">&quot;tv-大佬-动态&quot;:&quot;14ca0c05382b8741940942b2430b7a8d55c02f7e.gif&quot;,</span><br><span class="line">&quot;小电视-笑&quot;:&quot;f80d384875183dfe2e24be13011c595c0210d273.png&quot;,</span><br><span class="line">&quot;小电视-发愁&quot;:&quot;05e279abbf3f72d5cc45548504a4220c5514b8b9.png&quot;,</span><br><span class="line">&quot;小电视-赞&quot;:&quot;86ccf6d0b5480169bf80f3582fae09d7ed455c06.png&quot;,</span><br><span class="line">&quot;小电视-差评&quot;:&quot;38456e3bde2839b00b536a8be13934fa57c8e298.png&quot;,</span><br><span class="line">&quot;小电视-嘟嘴&quot;:&quot;6fd437f547ef1e4f231ff475d02f58bb94cef5a5.png&quot;,</span><br><span class="line">&quot;小电视-汗&quot;:&quot;5c150cec77eae1b05d5ca46526450ff3beeb44d2.png&quot;,</span><br><span class="line">&quot;小电视-害羞&quot;:&quot;de3aee88f7b6cc20ba9480c96c02f83a844381a9.png&quot;,</span><br><span class="line">&quot;小电视-吃惊&quot;:&quot;05188008ea84c70d94e0076e28de15bf56f4c441.png&quot;,</span><br><span class="line">&quot;小电视-哭泣&quot;:&quot;938bdf98df945576ae88e2a22931db07ded9e663.png&quot;,</span><br><span class="line">&quot;小电视-太太喜欢&quot;:&quot;eb41a8c04840e4f77e76a4bff7a29ac89c432f4e.png&quot;,</span><br><span class="line">&quot;小电视-好怒啊&quot;:&quot;68d524b7e515396b6563d320fb710c64abfb1063.png&quot;,</span><br><span class="line">&quot;小电视-困惑&quot;:&quot;6853161f0eab3332b874ab7c6c0311035b7538f3.png&quot;,</span><br><span class="line">&quot;小电视-我好兴奋&quot;:&quot;a695fe1301aab2675ab6f6e34757c25a863a8617.png&quot;,</span><br><span class="line">&quot;小电视-思索&quot;:&quot;f8219e484d5a55787c3f1722dc3112d0eba03a69.png&quot;,</span><br><span class="line">&quot;小电视-无语&quot;:&quot;fbd12affebfdaadd3d721bffdb685a6b1ee71219.png&quot;,</span><br><span class="line">&quot;2233娘-大笑&quot;:&quot;16b8794be990cefa6caeba4d901b934a227ee3b8.png&quot;,</span><br><span class="line">&quot;2233娘-吃惊&quot;:&quot;d1628c43d35b1530c0504a643ff80b6189fa0a43.png&quot;,</span><br><span class="line">&quot;2233娘-大哭&quot;:&quot;476a2a60f6e337b8c0697a592e0aa82781f6b33b.png&quot;,</span><br><span class="line">&quot;2233娘-耶&quot;:&quot;d7178e258a0efc969b65ccc2b1322fb235f5dff4.png&quot;,</span><br><span class="line">&quot;2233娘-卖萌&quot;:&quot;ea893aa25355de95ab4f03c2dad3f0c58d0c159e.png&quot;,</span><br><span class="line">&quot;2233娘-疑问&quot;:&quot;0b41f509351958dbb63d472fec0132d1bd03bd14.png&quot;,</span><br><span class="line">&quot;2233娘-汗&quot;:&quot;247cd9df8cdf84b18368c21e3b2dd374e84c0927.png&quot;,</span><br><span class="line">&quot;2233娘-困惑&quot;:&quot;714eeb4eae0d0933b4ff08b7df788b1982f6b940.png&quot;,</span><br><span class="line">&quot;2233娘-怒&quot;:&quot;f31953119c51b9748016440ac0b632f779929b37.png&quot;,</span><br><span class="line">&quot;2233娘-委屈&quot;:&quot;d9d0bf9d358af8d5761093ec66d4e3f60d963a63.png&quot;,</span><br><span class="line">&quot;2233娘-郁闷&quot;:&quot;485203fe7100f2c8fc40b2800a18fe20b35f2f1a.png&quot;,</span><br><span class="line">&quot;2233娘-第一&quot;:&quot;3754ee6e5985bd0bd7dfb668981f2a8733398ebd.png&quot;,</span><br><span class="line">&quot;2233娘-喝水&quot;:&quot;695bf5429472049b52c1e0de586f8a2511195a23.png&quot;,</span><br><span class="line">&quot;2233娘-吐魂&quot;:&quot;e999af499edf38a91ca68b1a9d2f97042c1d6734.png&quot;,</span><br><span class="line">&quot;2233娘-无言&quot;:&quot;fdb5870f32cfaf7949e0f88a13f6feba4a48b719.png&quot;,</span><br><span class="line">&quot;罗小黑-鼓掌&quot;:&quot;622ce9f5ec001269203aaaf8339dffdc7d67d2a3.png&quot;,</span><br><span class="line">&quot;罗小黑-你好呀&quot;:&quot;65728d4bedb13fd75c1555c9c4c9de67d276b153.png&quot;,</span><br><span class="line">&quot;罗小黑-加油&quot;:&quot;50d9d9e5f57c202be83cdfdba812a15524d02406.png&quot;,</span><br><span class="line">&quot;罗小黑-可可爱爱&quot;:&quot;bcdfa28cd019333cdb243c3a8d73374236924585.png&quot;,</span><br><span class="line">&quot;罗小黑-吃瓜&quot;:&quot;57d8965331c9fb87afa1756416b622a22e406c43.png&quot;,</span><br><span class="line">&quot;罗小黑-嗨&quot;:&quot;7f5e00355af3331964884f27611cc9a0c64e5ce7.png&quot;,</span><br><span class="line">&quot;罗小黑-大麦&quot;:&quot;0f5a51e0272c5fcc2c318e078e92e0f8fea77980.png&quot;,</span><br><span class="line">&quot;罗小黑-干杯&quot;:&quot;04cf6b7a2f0f24909e1894694daa5c6c668e1f17.png&quot;,</span><br><span class="line">&quot;罗小黑-找彩蛋&quot;:&quot;59e34db87c0cb601a5e100c2db0ccfb2894aa02f.png&quot;,</span><br><span class="line">&quot;罗小黑-撒花&quot;:&quot;bbaaaa40328f32f3e3e41ffc77a70c057d0a13ad.png&quot;,</span><br><span class="line">&quot;罗小黑-来了&quot;:&quot;fd1950da6509171ba144d138c4d0a81f0840794e.png&quot;,</span><br><span class="line">&quot;罗小黑-歪在吗&quot;:&quot;0caf23cc530b0e021c32c623dee045160a2449fa.png&quot;,</span><br><span class="line">&quot;罗小黑-求包养&quot;:&quot;2277c2b72646cf22a7217897f3cd62c5c80a6451.png&quot;,</span><br><span class="line">&quot;罗小黑-看电影&quot;:&quot;eedd49d8d1d6c5b0eafc3e0a10966f508a7ab6f1.png&quot;,</span><br><span class="line">&quot;罗小黑-真棒&quot;:&quot;f03fbb80a7939eafa4819388df80e9c777e8ab7d.png&quot;,</span><br><span class="line">&quot;罗小黑-自来水&quot;:&quot;4a0c602ed9d4f1e5550c0595ea63653a9cbf88bd.png&quot;,</span><br><span class="line">&quot;沈剑心-滑稽&quot;:&quot;407bdf7880b051082fbed71e125ec1980c10da19.png&quot;,</span><br><span class="line">&quot;沈剑心-抱大腿&quot;:&quot;75b5d9987f828e8ef09efd926f811975788d48ca.png&quot;,</span><br><span class="line">&quot;沈剑心-不屑&quot;:&quot;97ead5dbd31eed8c7064a5e491a670c57d8cd38f.png&quot;,</span><br><span class="line">&quot;沈剑心-苍天呐&quot;:&quot;b7e83fc489a338956bcb5e3298d2754021a1cef6.png&quot;,</span><br><span class="line">&quot;沈剑心-我秃了&quot;:&quot;7a13d8bf615205f1df7ce26def0aeddf22f3e83a.png&quot;,</span><br><span class="line">&quot;沈剑心-得意&quot;:&quot;37dc1f3616c5669a8f782a676cd3395a19e6376d.png&quot;,</span><br><span class="line">&quot;沈剑心-方了&quot;:&quot;3d51e1748464b065dbeb5308dbd900276ff61795.png&quot;,</span><br><span class="line">&quot;沈剑心-开心&quot;:&quot;5991e22f1a31e91f87b30f3d7e2ed3996654a6f3.png&quot;,</span><br><span class="line">&quot;沈剑心-呕吐&quot;:&quot;1855d12caf92f9b478c5e53c38a0fe593b9f444c.png&quot;,</span><br><span class="line">&quot;沈剑心-咆哮&quot;:&quot;f806884d5c827e2493dc467093483fbee810e8ad.png&quot;,</span><br><span class="line">&quot;沈剑心-悄悄话&quot;:&quot;db0e6bfdfca274fd4c89ef7bc58cc068f4b1dd36.png&quot;,</span><br><span class="line">&quot;沈剑心-问号&quot;:&quot;3817735e6045432a81069ad6cb562d1151e10a72.png&quot;,</span><br><span class="line">&quot;沈剑心-无语&quot;:&quot;0a3bf630260d910ac836d3f312199cf876a53b0c.png&quot;,</span><br><span class="line">&quot;沈剑心-郁闷&quot;:&quot;36ca0f2c25488e43a45b0f1f764935c99028e095.png&quot;,</span><br><span class="line">&quot;沈剑心-吓到&quot;:&quot;9e21c49dcba8e5235bf404153406587118612006.png&quot;,</span><br><span class="line">&quot;平安物语-变欧喷雾&quot;:&quot;f2d4e77c2a49644f96856b4563dea72d7842b15d.png&quot;,</span><br><span class="line">&quot;平安物语-生气&quot;:&quot;377e7a437a783c3f23de19580f1cc543232b9cfc.png&quot;,</span><br><span class="line">&quot;平安物语-你币有了&quot;:&quot;08711f0f96dfbd66feeb0ab5b2a3456b1e1531d1.png&quot;,</span><br><span class="line">&quot;平安物语-观察&quot;:&quot;b546a8c6c49c8731c2893741f1fcd9f644bae163.png&quot;,</span><br><span class="line">&quot;平安物语-吃惊&quot;:&quot;406b5c9d01ecfbced79ad53e43aacde726ed9cd0.png&quot;,</span><br><span class="line">&quot;平安物语-呆住&quot;:&quot;058dc4b9498779da9018da5962875961d32fa19f.png&quot;,</span><br><span class="line">&quot;平安物语-喜欢&quot;:&quot;6ceb4e7f17f9db78d30d13e84ba38ccc16350f5b.png&quot;,</span><br><span class="line">&quot;平安物语-我太难了&quot;:&quot;57a90ada46a10b8ea95dfe2182b810d1b316ffe1.png&quot;,</span><br><span class="line">&quot;平安物语-沉默&quot;:&quot;6e5a1cfa1900c17ee345935964c42bc18ce1a940.png&quot;,</span><br><span class="line">&quot;镇魂街-给我康康&quot;:&quot;e59b569a51298dc70540a357670a7eb734542369.png&quot;,</span><br><span class="line">&quot;镇魂街-耍酷&quot;:&quot;8001eeb6a2365791560061cbeb4a290fcfb81130.png&quot;,</span><br><span class="line">&quot;镇魂街-冷漠&quot;:&quot;e2c498b2e9951cd9fd6a9d877aea44ccb150c0ee.png&quot;,</span><br><span class="line">&quot;镇魂街-脸红&quot;:&quot;428c24e7460c0a2ee04f75cda8afbb05b72b511b.png&quot;,</span><br><span class="line">&quot;镇魂街-消除记忆&quot;:&quot;18ca52513f40a2436f482b28bf64dd13469c70ff.png&quot;,</span><br><span class="line">&quot;镇魂街-偷笑&quot;:&quot;32b40bf2a3efa7dc007e421604ef0fcb03581062.png&quot;,</span><br><span class="line">&quot;镇魂街-捶地&quot;:&quot;ea86ea1ceacd417d2aa98641f843860309643180.png&quot;,</span><br><span class="line">&quot;镇魂街-阴谋&quot;:&quot;e36fa01409eabc57926d16c6ce1ff328954c64d1.png&quot;,</span><br><span class="line">&quot;镇魂街-投币呀&quot;:&quot;c72e5528c9f0c674e90e0e5d55f4a4d5b310ef7c.png&quot;,</span><br><span class="line">&quot;镇魂街-真香&quot;:&quot;6f1a39a97efd3d9a81d8959a8bcf81a869c8e3a5.png&quot;,</span><br><span class="line">&quot;个性灵笼-暗中观察&quot;:&quot;4ce57e1193bd6d96abcae7d93ea055146b3f22b5.png&quot;,</span><br><span class="line">&quot;个性灵笼-开心&quot;:&quot;413412198de7f3ad24db046357b4ab9563b8f8c2.png&quot;,</span><br><span class="line">&quot;个性灵笼-哭&quot;:&quot;ec0a828629c4335d12e4bcceb57600ba53443071.png&quot;,</span><br><span class="line">&quot;个性灵笼-冷&quot;:&quot;0f0984968f1deaf01ad7ed0a705fb86220940b3d.png&quot;,</span><br><span class="line">&quot;个性灵笼-难受&quot;:&quot;7ba5270774d3bec1b1e5a34336200581839dfc93.png&quot;,</span><br><span class="line">&quot;个性灵笼-窃喜&quot;:&quot;f3c8f0781bcb9e36e88bf8866e53bde3e886b67f.png&quot;,</span><br><span class="line">&quot;个性灵笼-石化&quot;:&quot;c5d144f79a3c34c2c4815f692635823001956d52.png&quot;,</span><br><span class="line">&quot;个性灵笼-喜欢&quot;:&quot;3a33a842c2070b480411b458931a680463c086e7.png&quot;,</span><br><span class="line">&quot;个性灵笼-凶&quot;:&quot;8a0284128f49bccf2c90bb2c2ad8971fde8e4a2c.png&quot;,</span><br><span class="line">&quot;个性灵笼-耶&quot;:&quot;386815d36768977893c8cd928f466a05ed9d524c.png&quot;,</span><br><span class="line">&quot;蛆音娘-卖萌&quot;:&quot;4cd1024d0c2ecee93224477946656d32c1705ccf.png&quot;,</span><br><span class="line">&quot;蛆音娘-吃瓜群众&quot;:&quot;5d0d6cc54b508d30b4f50b6b5f7b7e1e259d84ea.png&quot;,</span><br><span class="line">&quot;蛆音娘-吃惊&quot;:&quot;7a4cb0b644214d476ce198ddf6a7a0aa31311199.png&quot;,</span><br><span class="line">&quot;蛆音娘-害怕&quot;:&quot;7407634bf67bfe9d7806f15d57608a1b18c2b4c2.png&quot;,</span><br><span class="line">&quot;蛆音娘-扶额&quot;:&quot;a4d8f95baaa24821fd591a7dbeee1b869e760f59.png&quot;,</span><br><span class="line">&quot;蛆音娘-滑稽&quot;:&quot;d3717f10ffe9787336bc39a09214270988521a67.png&quot;,</span><br><span class="line">&quot;蛆音娘-哼&quot;:&quot;8854f1b8a82126e3b87f3a1563da5feb55b23e71.png&quot;,</span><br><span class="line">&quot;蛆音娘-机智&quot;:&quot;e543c0a823ca915df9362283f4ae950e9e9cc2e9.png&quot;,</span><br><span class="line">&quot;蛆音娘-哭泣&quot;:&quot;a23055546c19eba663b16370b8e072394d87ff53.png&quot;,</span><br><span class="line">&quot;蛆音娘-睡觉觉&quot;:&quot;40ef7e6d931acb37e5514b70d13663e86dc3698b.png&quot;,</span><br><span class="line">&quot;蛆音娘-生气&quot;:&quot;bf398cbbcfaae107d1b59aaf03895f38422e3d87.png&quot;,</span><br><span class="line">&quot;蛆音娘-偷看&quot;:&quot;52463ded4f23649db10ba3ced662ed946c5edf0b.png&quot;,</span><br><span class="line">&quot;蛆音娘-吐血&quot;:&quot;5772d22015e5b2b40a9fe302b5967ec7282ac848.png&quot;,</span><br><span class="line">&quot;蛆音娘-无语&quot;:&quot;b6c763c6484ce2e48299ceb21861e46318868871.png&quot;,</span><br><span class="line">&quot;蛆音娘-摇头&quot;:&quot;b7278f750c6f2235f41f37056d727f25d3bf781f.png&quot;,</span><br><span class="line">&quot;蛆音娘-疑问&quot;:&quot;7750b698d15a1b8e83c0f59106e8e9cd5cb57897.png&quot;,</span><br><span class="line">&quot;蛆音娘-die&quot;:&quot;52543025a070fde5c01a10320c9636ec3173ac99.png&quot;,</span><br><span class="line">&quot;蛆音娘-OK&quot;:&quot;52a0dcee66c91bf123bf53bd48a269b1317d17f9.png&quot;,</span><br><span class="line">&quot;蛆音娘-肥皂&quot;:&quot;7f1a857e9430dcf3050ce0ef5fa19aefebea6dc4.png&quot;,</span><br><span class="line">&quot;蛆音娘-大笑&quot;:&quot;1d3355fb89c24ab3c50e5c152d8b990a290dc63e.png&quot;,</span><br><span class="line">&quot;洛天依-傲娇&quot;:&quot;5d7c8307af10540909fce6121066249df3935a24.png&quot;,</span><br><span class="line">&quot;洛天依-吃包群众&quot;:&quot;f8cdabfc1b81fd25b85b8457ee49a20a4fc5d91b.png&quot;,</span><br><span class="line">&quot;洛天依-吃药&quot;:&quot;883e6654176ebcecafd3e52efa8ee842357e18a0.png&quot;,</span><br><span class="line">&quot;洛天依-滑稽&quot;:&quot;692cef7ca51f935aaa499de7e4d6048c53f42324.png&quot;,</span><br><span class="line">&quot;洛天依-哈哈哈&quot;:&quot;677c2f5555c1e79fc336a6283fdbbdc7ea88fec4.png&quot;,</span><br><span class="line">&quot;洛天依-看透一切&quot;:&quot;4fac414b5002c3739b1ae24f2fc27b5f150ade24.png&quot;,</span><br><span class="line">&quot;洛天依-打尻&quot;:&quot;2ab983b2519dc241666254de8e5352fbeedc96bb.png&quot;,</span><br><span class="line">&quot;洛天依-前排&quot;:&quot;fbbc45e7aee2f256f691df539db0cfcc35b3be7d.png&quot;,</span><br><span class="line">&quot;洛天依-去吧&quot;:&quot;0edeeb0d10d44302854e636c47f5dc3aa96a9206.png&quot;,</span><br><span class="line">&quot;洛天依-冷漠&quot;:&quot;5f4385db3c9806b08ea15bd9ff444af9d9fe0c3a.png&quot;,</span><br><span class="line">&quot;洛天依-可以&quot;:&quot;967377b83e37a0d5dd13bc0f4e4323abf10e4cbf.png&quot;,</span><br><span class="line">&quot;洛天依-掀桌&quot;:&quot;803129b7a1143faabc63c2648335b7d506229e7a.png&quot;,</span><br><span class="line">&quot;洛天依-消灭你&quot;:&quot;d96dccf8fa248ee34c7e4aba94e813bec28d2dd8.png&quot;,</span><br><span class="line">&quot;洛天依-阴阳先生&quot;:&quot;65e195a8ac54bb678dd1c1e6ce6c5d4ba02761b3.png&quot;,</span><br><span class="line">&quot;洛天依-无言以对&quot;:&quot;9cfd368b370acd40c1b8f933cec3fb24883356a5.png&quot;,</span><br><span class="line">&quot;洛天依-？？？&quot;:&quot;f5f1ebe50c26d5f6d4e17cb983bd5ae59f103dda.png&quot;,</span><br><span class="line">&quot;洛天依-爱你哦&quot;:&quot;7102c9e25359af8348489ff8529b3bb2c5bd05d0.png&quot;,</span><br><span class="line">&quot;小A和小B-喝茶&quot;:&quot;d2acc1227312dd64284d809ab66d3c7f7d8ec020.png&quot;,</span><br><span class="line">&quot;小A和小B-报警&quot;:&quot;7f482b82a3de44ae14537cbafcbc40cf65f7113e.png&quot;,</span><br><span class="line">&quot;小A和小B-大哭&quot;:&quot;77545a5e420e2c43e0e4a7996a71769638ae3f90.png&quot;,</span><br><span class="line">&quot;小A和小B-低头&quot;:&quot;0d23b726b084280f941f14919ce63c43f8bc724c.png&quot;,</span><br><span class="line">&quot;小A和小B-哈哈哈哈&quot;:&quot;6f5210b7d0a6b14f586df1f91f5c3a46c1296b43.png&quot;,</span><br><span class="line">&quot;小A和小B-司令&quot;:&quot;a594a91717e28bdcab82821086a41160a1345c45.png&quot;,</span><br><span class="line">&quot;小A和小B-撒花&quot;:&quot;874d2c39a0ca891abce5e65fafc287e0c2d3bbea.png&quot;,</span><br><span class="line">&quot;小A和小B-摊手&quot;:&quot;6f058f78bce5d1c9b370c3807c891e685bb68a17.png&quot;,</span><br><span class="line">&quot;小A和小B-问号&quot;:&quot;f077d5ecf0e86f24991a104f995b3a652091d529.png&quot;,</span><br><span class="line">&quot;小A和小B-躺&quot;:&quot;9038d450dbadaf132847d67cb26931aa5bf76d4c.png&quot;,</span><br><span class="line">&quot;小A和小B-无语&quot;:&quot;1a805b885a1691e9bf4425164a9400e2457f4d1b.png&quot;,</span><br><span class="line">&quot;小A和小B-应援&quot;:&quot;af8f017e383a1999e26a7f91c3ec3c83fbb7ba77.png&quot;,</span><br><span class="line">&quot;小A和小B-NO&quot;:&quot;ee0de8296b20d295b79ea9b70ca4f126eb4aff1d.png&quot;,</span><br><span class="line">&quot;小A和小B-OK&quot;:&quot;5ae25cc388c59192133f08345e461098fad4e63b.png&quot;,</span><br><span class="line">&quot;小A和小B-吃瓜&quot;:&quot;70776b579d2952580249ac6a52e724850d037591.png&quot;,</span><br><span class="line">&quot;小A和小B-捕捉&quot;:&quot;8bf33ff2f9699286102fb1a256a2523695c17d35.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-嗯？&quot;:&quot;f3c72e045ebd2487a381f50291be15b053767a80.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-超棒&quot;:&quot;987947c1bdac0bc10b684f28baaec78176023b83.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-哎&quot;:&quot;38bcf3a53b34551e5efa0cd0ee84fc7faa477a49.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-666&quot;:&quot;3e505cef421024a650b971c1f2db7f8ef1ad1840.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-哼&quot;:&quot;92e4a9d422f1604f2b1b3ea3f6057636273db56e.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-怀疑&quot;:&quot;587f22aa1cfaa4b2d91928998e023be29d8c3975.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-发现&quot;:&quot;147b6ba27d5cbb90d155f34c41cb45f1f00b6007.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-绝望&quot;:&quot;22ad072a785604f3bd8c1aae4ea1ceb1e4694cec.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-可爱&quot;:&quot;8bddb47b5877fd79e937aafeb7f4d69f58a8b6e4.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-警告&quot;:&quot;54607206c814409a99fac65fb3b780c6bbd1e60d.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-呵呵&quot;:&quot;811aa3ba5809a8d5936f988f953e5af7fd7c5351.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-膜拜&quot;:&quot;038c86c0e616f7ead667c6f7af32e54feac32965.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-哭&quot;:&quot;000c0dddd08950133740487a57873b389a3af457.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-无聊&quot;:&quot;62527ee5c4e80aad9b42069778c91f905c90d986.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-围观&quot;:&quot;c9b4fe6161f4a3cc884a5b03e9674c8a58ee228f.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-失落&quot;:&quot;813f98c0632587286c6e809a49eda15a2edfa447.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-是吗&quot;:&quot;05b7153fb606e526ce8d102febd25889828ce425.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-心动&quot;:&quot;24afe39fbf8755a28673bdf51bdf8ce72bc62d51.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-喜欢&quot;:&quot;b389e30a3c7924ca2b59a5333412b8d92cad07df.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-嘻嘻&quot;:&quot;b7a4a07a7c24f5fa23a99ca6749708fadfedf765.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-震撼&quot;:&quot;79c8b68509a9d316618d61aedaae93097669dae6.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-有见解&quot;:&quot;7f842228b9a2c36851cecab0527fca55a1f01b58.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-震惊&quot;:&quot;be4b48350b817af496bdccba2ab85c77b711cec3.png&quot;,</span><br><span class="line">&quot;芮小凸小凹-心痛&quot;:&quot;b2217e8b81f122949f3960d99c08ac72eac5923b.png&quot;,</span><br><span class="line">&quot;灵笼-鄙视&quot;:&quot;20eda4b6b0074c6fb568e11698eb8dfc57011ac1.png&quot;,</span><br><span class="line">&quot;灵笼-不用了&quot;:&quot;a7a027228e024d13f743ee42d9be107d53464134.png&quot;,</span><br><span class="line">&quot;灵笼-吃瓜&quot;:&quot;2e0cab7ca9bedcb00830b483725fcc9c314faaf8.png&quot;,</span><br><span class="line">&quot;灵笼-吃糖&quot;:&quot;c65e3e8dd67a7a7ce438649d5d1544e4eba0c3a6.png&quot;,</span><br><span class="line">&quot;灵笼-机智&quot;:&quot;4e0e67f242b29c39bd9f8bbc03ab31e1ce232d37.png&quot;,</span><br><span class="line">&quot;灵笼-惊吓&quot;:&quot;7b7fd1cdaccb0a69c2cdfe2a5fe8b97524ebf1d8.png&quot;,</span><br><span class="line">&quot;灵笼-生闷气&quot;:&quot;9fe2340ff00fa447cac6ffd64650fc0842a2a4de.png&quot;,</span><br><span class="line">&quot;灵笼-玩手机&quot;:&quot;c40b4dc357514724eeabbc94b26e89a9850466b6.png&quot;,</span><br><span class="line">&quot;灵笼-问号&quot;:&quot;5b1a7af13e40057a9f48c802241e230bd0f3bcf4.png&quot;,</span><br><span class="line">&quot;灵笼-嫌弃&quot;:&quot;8386721ed1e19c7b1e268a6457bbd3463ab220c0.png&quot;,</span><br><span class="line">&quot;灵笼-笑哭&quot;:&quot;bfa87db44e8758701b7452f5b0aa2f107f69ec0f.png&quot;,</span><br><span class="line">&quot;灵笼-兴奋&quot;:&quot;b211b575c45d1f0ebb347e06999b3dbe7c256c64.png&quot;,</span><br><span class="line">&quot;灵笼-阴暗&quot;:&quot;92cd50cd6a4fd863751be57ef2b82e4d965955aa.png&quot;,</span><br><span class="line">&quot;灵笼-约吗&quot;:&quot;275c161b17c3a4bdda2833720989a67b2e5b264d.png&quot;,</span><br><span class="line">&quot;灵笼-boom&quot;:&quot;e27fbd34d8232f9c69b53a2b7013a3b597086444.png&quot;,</span><br><span class="line">&quot;灵笼-偷窥&quot;:&quot;4c1f0ba96b2baa6d44f33553d0298d63ec47bfbd.png&quot;,</span><br><span class="line">&quot;正经人-欢呼&quot;:&quot;3cd297676b2a08a896deab91ed7f139a8bc7c46c.png&quot;,</span><br><span class="line">&quot;正经人-火&quot;:&quot;78579a24b156501c0b5583121beb42a72e9229b5.png&quot;,</span><br><span class="line">&quot;正经人-挤&quot;:&quot;7a3e753fcb876753800424edd2fa3563005abf4a.png&quot;,</span><br><span class="line">&quot;正经人-惊&quot;:&quot;233b14fd3803a5078f79d31fecd5d7a60524e330.png&quot;,</span><br><span class="line">&quot;正经人-放屁&quot;:&quot;b590df4714084b012e9a5dfab03a3a13936dff48.png&quot;,</span><br><span class="line">&quot;正经人-ok&quot;:&quot;21e069065373be45b227a4ffdbe9570d309e3d05.png&quot;,</span><br><span class="line">&quot;正经人-趴&quot;:&quot;39156acb0afcbde9cf73ac1657adff62d3a84af7.png&quot;,</span><br><span class="line">&quot;正经人-开始&quot;:&quot;4f745fad9a77f2f41ea63c2214af0739ab7ea8f1.png&quot;,</span><br><span class="line">&quot;正经人-揉脸&quot;:&quot;a9d5376d6d79482c4447eb5a169385fa91f39ddd.png&quot;,</span><br><span class="line">&quot;正经人-躺&quot;:&quot;c135f76ad7ec50a7414095cf7c633eb5551c9fe3.png&quot;,</span><br><span class="line">&quot;正经人-拉&quot;:&quot;03e7319b34763e9c82c2ae93b1fd8f613335d90a.png&quot;,</span><br><span class="line">&quot;正经人-心&quot;:&quot;536561d0806f8b181473fd89bba15e71cb8d585e.png&quot;,</span><br><span class="line">&quot;正经人-悠闲&quot;:&quot;17542aaef102f28508e30fed8895cc1afeaf70f0.png&quot;,</span><br><span class="line">&quot;正经人-赞&quot;:&quot;589816d36c5b7c2f2bc78cb162d6ac90fda948f2.png&quot;,</span><br><span class="line">&quot;正经人-哭&quot;:&quot;b9882f0679b4ae24624660412464f1f88bda48fe.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-wow&quot;:&quot;3392ba98d2bbdc4c1932952bf63796f7ac1b1f41.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-吃包&quot;:&quot;f6cbadf8ff006c246c7bd583288587a6e20e6069.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-倒地&quot;:&quot;5b7ede3d668a82ae9ef50d380bb41274757c7780.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-盯&quot;:&quot;5c1cad1724fff3597913fe9a09bcb4b41b712ecf.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-翻白眼&quot;:&quot;633249bc889384ab3f1e2bd45d578fb7dbe2e109.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-好难&quot;:&quot;116cf8aff996554df096b9a1bdc59dd182fa8b22.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-喝水&quot;:&quot;c227ab352460cab6af9e543811a3451d6aa63908.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-嘿嘿嘿&quot;:&quot;b24f7db309a7ab96a00f81a1f26d1d4e06761c2d.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-开心&quot;:&quot;0903bb143efa6ec71ce5eb91e1bcd9815028eace.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-哭唧唧&quot;:&quot;516bc179c7312b7087573b5e2d7fc7b1ababa8e2.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-略略略&quot;:&quot;8bd5c57cb9ef5f511b3cb8119072182e3029fddc.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-么么&quot;:&quot;7a59397394b007fef659fc240bb2c3348930efb6.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-哦&quot;:&quot;20bcbc681d217027f605c1d667332ecc45744569.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-撒娇&quot;:&quot;74e611ffcd6702fce6e75bea435eb01744c503f8.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-受到惊吓&quot;:&quot;ffe8b5af6c2e3baa13e8ba9bb5685896311cab84.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-睡觉&quot;:&quot;f6098a8f9a77eb0753064aea2d17e9093d4ef8e0.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-问号脸&quot;:&quot;c6fe095df24f3fbf27f2e0fbb4b6eb983cbd430f.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-耶耶耶&quot;:&quot;973dd2de70275ec9f325ac8f64957f2e763c6ea3.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-一脸懵逼&quot;:&quot;8f6e7d3128bbc070116617cf840ceccbf2412187.png&quot;,</span><br><span class="line">&quot;请吃红小豆吧！-眨眼&quot;:&quot;b2106dbba47b42276ea39a8d7d39b8cd21297485.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-good&quot;:&quot;5ca4eda998ed16a5826e7f92ca2e3f3969889e63.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-不信任&quot;:&quot;edb38ebc3b3be3583df4fd4c57e1b29347516d74.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-财迷&quot;:&quot;c67bbb41136823e7a2847ce72480df0e870b4d88.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-嘲讽&quot;:&quot;a061406fa8f03f619aa28d456f5a8fcf683b3fb7.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-痴呆&quot;:&quot;1b3dba852ac79d76d8e8ff26d0b2839daf26adb9.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-憧憬&quot;:&quot;1e932e3f290f5374a251b7d87af215e63e007c80.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-道德标兵&quot;:&quot;eca679781792c534bfb7f918c35eb3c43153f5d1.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-抵死不从&quot;:&quot;2f237e931a437308568ba7ca181320fc8ea800ce.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-发现食物&quot;:&quot;5bc67e4826ba7e10cba116bd2c2ececd21cb1c42.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-奸笑&quot;:&quot;038f3bda1084fa6908698697bb0fc2f059ff4b32.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-绝望&quot;:&quot;2b4ba4af99f37b973d84f92fa7a27197812fa605.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-开心&quot;:&quot;1942ee8a4df95e2f1f58202c92cda1dd06cc4816.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-困倦&quot;:&quot;009cdfcf48cf227a2cc8da24958a8a5238053dc7.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-冷汗&quot;:&quot;2dc15a9724034c1061fb0c884db17c2d45028ad8.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-凉凉&quot;:&quot;8b2ec7e8bbcbfc5f752dbb4e4f3c1b5ce6681d86.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-萌&quot;:&quot;cd7465b0bb19bdf89f057ba8c3f5c279375936aa.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-请闭嘴&quot;:&quot;a8ab9e926321c865b9cb66e64668dbddb87a6b7b.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-帅醒&quot;:&quot;93b1ff2409f733079ca1145e7add98fe6540a07c.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-无语&quot;:&quot;d3d02774b35dcc6ef3483b1655d08e472e4ca3c7.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-装傻&quot;:&quot;d81eba4cf9800a72a9b72a11ca00c4ad458a8bc8.png&quot;,</span><br><span class="line">&quot;异常生物见闻录-装文静&quot;:&quot;748ce4b0c5da67489f2ed070ccf9233293fedcd4.png&quot;,</span><br><span class="line">&quot;星梦手记-吃瓜&quot;:&quot;9227318a903c96e0e4a61f06ef208150ce470f66.png&quot;,</span><br><span class="line">&quot;星梦手记-薇薇惊吓&quot;:&quot;093634e9099f40f40886a83133de5a67ca148bce.png&quot;,</span><br><span class="line">&quot;星梦手记-惺梛认真&quot;:&quot;16fcbf1de40cb19d26a13552a3740150e45aa89f.png&quot;,</span><br><span class="line">&quot;星梦手记-石化&quot;:&quot;f6a6d33835a48e4141fb433bbd0215b1130cf681.png&quot;,</span><br><span class="line">&quot;星梦手记-问号&quot;:&quot;4ced3d8866f502487ec2e93b326f592f4c358fbf.png&quot;,</span><br><span class="line">&quot;星梦手记-卖萌&quot;:&quot;375e4296c26f65be888e86bea4af4f858642a7bb.png&quot;,</span><br><span class="line">&quot;星梦手记-尴尬&quot;:&quot;423347d687184c14d9ce8b47a8342fd8d23e99b9.png&quot;,</span><br><span class="line">&quot;星梦手记-要抱&quot;:&quot;c125f4fc66ac8587fe4dd264254aad5dc4b31bef.png&quot;,</span><br><span class="line">&quot;星梦手记-未来认真&quot;:&quot;330306ba001db1bd9f78bc99b8b6ec9341acbbcb.png&quot;,</span><br><span class="line">&quot;星梦手记-摊手&quot;:&quot;acd565a268f66fa27e0ccea409b3ff57c814b360.png&quot;,</span><br><span class="line">&quot;星梦手记-委屈&quot;:&quot;55f3974a6dded58365ef21e0a61d91725c3db431.png&quot;,</span><br><span class="line">&quot;星梦手记-轮胎&quot;:&quot;bc13e24a1a0b58d9ef826b38e45960bfb4a3e11c.png&quot;,</span><br><span class="line">&quot;星梦手记-没钱&quot;:&quot;e7d3feef58bf65441cbca1b8cd3c4b79cb923d15.png&quot;,</span><br><span class="line">&quot;星梦手记-无辜&quot;:&quot;0be73bd600367f162a2a14d48c11ad72b3527858.png&quot;,</span><br><span class="line">&quot;星梦手记-弃疗&quot;:&quot;fee923c0e57d1f1e3426b397edcfeac93d770b76.png&quot;,</span><br><span class="line">&quot;星梦手记-雨照惊吓&quot;:&quot;4b1316f5bfd5c1745f8c721d845a6917d663c715.png&quot;,</span><br><span class="line">&quot;冷兔-吃瓜&quot;:&quot;eed6831c5e3ceb1b23cb2ef0446b9c3c4d30f067.png&quot;,</span><br><span class="line">&quot;冷兔-233&quot;:&quot;a7375691637b59ccbf75059fca01d9f95727a98a.png&quot;,</span><br><span class="line">&quot;冷兔-这不科学&quot;:&quot;c9b24ea4f2e17d2faf88c0a2f1df367b135f45e7.png&quot;,</span><br><span class="line">&quot;冷兔-？？？&quot;:&quot;8871cfa274a50f913cae368aa2ae428fbefe42da.png&quot;,</span><br><span class="line">&quot;冷兔-等更&quot;:&quot;eb2763a2d48734d77327de5f57af43e155414b13.png&quot;,</span><br><span class="line">&quot;冷兔-丢你雷姆&quot;:&quot;7ff16758d617cd1455c5f717f9c5b6863105abc1.png&quot;,</span><br><span class="line">&quot;冷兔-耶&quot;:&quot;58b11a31381162761b3ebfb2e3e78bedf740cf17.png&quot;,</span><br><span class="line">&quot;冷兔-无语&quot;:&quot;a22b1afafdfbee8b60b918cefce27ebd0c5dc915.png&quot;,</span><br><span class="line">&quot;冷兔-额&quot;:&quot;805a33cfd96009f474ec2a7b6d0923e1a743aa29.png&quot;,</span><br><span class="line">&quot;冷兔-呵呵&quot;:&quot;f6a80eda4c0401c523fe9931297a132d2c5c41a6.png&quot;,</span><br><span class="line">&quot;冷兔-一无所知&quot;:&quot;d300fae68fa32dd918196e05f1d274e500a10087.png&quot;,</span><br><span class="line">&quot;冷兔-体前屈&quot;:&quot;0f04dc139d9dd38e7b2f8db72c71f5ce89f60ac7.png&quot;,</span><br><span class="line">&quot;冷兔-喜欢&quot;:&quot;4eda384b1e97430e48cd2faa28454f08f6daa70a.png&quot;,</span><br><span class="line">&quot;冷兔-哭&quot;:&quot;bec3a906385324a4b472f0ed3b5323f905ae0f6b.png&quot;,</span><br><span class="line">&quot;冷兔-赞&quot;:&quot;b001a8210f1c2166f436c8de080a76c33637036e.png&quot;,</span><br><span class="line">&quot;冷兔-低头&quot;:&quot;ebe445da276339c0506267b0bb59a0b5ea3300d3.png&quot;,</span><br><span class="line">&quot;冷兔-卖萌&quot;:&quot;4d9f8b35f0789afa40a48b0ce06769e5b4e60cb0.png&quot;,</span><br><span class="line">&quot;冷兔-扶额&quot;:&quot;ff5c34e9072a83b56c2f2648cfe6ecf11b92f7be.png&quot;,</span><br><span class="line">&quot;冷兔-掀桌&quot;:&quot;50d837346517f128442702eb7df04a82d20dbe89.png&quot;,</span><br><span class="line">&quot;冷兔-吸欧气&quot;:&quot;16e696a795186a7ca2a4aeaa1dafcf225246add4.png&quot;,</span><br><span class="line">&quot;那兔-合个影&quot;:&quot;0c12e40154dd0c73e2dd5e02ab8315bbaf905aec.png&quot;,</span><br><span class="line">&quot;那兔-囧&quot;:&quot;0a6519dc3f8b4b58fea10e3b8a26d700728f95bf.png&quot;,</span><br><span class="line">&quot;那兔-。。。&quot;:&quot;f5968dc3f8342019f4777d85c56fdda9df460ad4.png&quot;,</span><br><span class="line">&quot;那兔-好滴&quot;:&quot;6d292369dc9d578da241b3e5680d4e2fa95b9aeb.png&quot;,</span><br><span class="line">&quot;那兔-讲道理&quot;:&quot;29643a9f37d2b8981c50741fe6943947f9f31661.png&quot;,</span><br><span class="line">&quot;那兔-懒得理你&quot;:&quot;3e1c2e302a52f7b03e9fda5ed37cc00844ba62bb.png&quot;,</span><br><span class="line">&quot;那兔-奈我何&quot;:&quot;a6e38393214099abe9d402070d67d7747150cbbd.png&quot;,</span><br><span class="line">&quot;那兔-你丫试试&quot;:&quot;0802020cec4543e96256d7dfadfd3cef9662aae0.png&quot;,</span><br><span class="line">&quot;那兔-深思&quot;:&quot;44bde865b0954e1230caaa545ea91a5b6d90e424.png&quot;,</span><br><span class="line">&quot;那兔-恶代官&quot;:&quot;91bcc90beb6f9cd1c7b3da4011f68d1ee7ab7132.png&quot;,</span><br><span class="line">&quot;那兔-说什么喵&quot;:&quot;adca5e0ea594bcfd1d6480a6755f1bec3984811e.png&quot;,</span><br><span class="line">&quot;那兔-心碎&quot;:&quot;f016a83fcdb0dbb5738e2f9fb62efd1f0971d17f.png&quot;,</span><br><span class="line">&quot;那兔-一见钟情&quot;:&quot;cd6ae74fe5dd1b1252a1603af0a34c94b9ba931e.png&quot;,</span><br><span class="line">&quot;那兔-找事儿&quot;:&quot;55022a863de195f355394296647a8cea2ad69d57.png&quot;,</span><br><span class="line">&quot;那兔-痴呆&quot;:&quot;6a7020931d20380be2fb50a8d8c2e582f6d8ff89.png&quot;,</span><br><span class="line">&quot;那兔-呃&quot;:&quot;06105d9eafe0316d69453da63b05ae76fdfa9a8a.png&quot;,</span><br><span class="line">&quot;那兔-擦&quot;:&quot;db5d5e113501e2ec8ea51dee1c716a932d929949.png&quot;,</span><br><span class="line">&quot;我家大师兄脑子有坑-比心&quot;:&quot;d675489bfcfdbac9734cc0760fd25b1cb1b57ba2.png&quot;,</span><br><span class="line">&quot;我家大师兄脑子有坑-吃瓜&quot;:&quot;816198d849984d510a1713c3d6426754475f8ddd.png&quot;,</span><br><span class="line">&quot;我家大师兄脑子有坑-大笑&quot;:&quot;1af457c164e174376c558e62f26b86ca18d67844.png&quot;,</span><br><span class="line">&quot;我家大师兄脑子有坑-汗&quot;:&quot;834905aff2a69e52eed7d8f48cb0344b600829b0.png&quot;,</span><br><span class="line">&quot;我家大师兄脑子有坑-机智&quot;:&quot;a56e6a8d21498abac50f886559767172934262da.png&quot;,</span><br><span class="line">&quot;我家大师兄脑子有坑-哭&quot;:&quot;d7d9809e3118b2a57bcf28a4605abfef12359a73.png&quot;,</span><br><span class="line">&quot;我家大师兄脑子有坑-期待&quot;:&quot;ef74493b15b9029ac73dddcb6fe1fcc265058fb5.png&quot;,</span><br><span class="line">&quot;我家大师兄脑子有坑-撒花&quot;:&quot;e0755e2432241f9ea5e9b5594a0a59f0ba68455d.png&quot;,</span><br><span class="line">&quot;我家大师兄脑子有坑-吐魂&quot;:&quot;5e6482f392ee60e1b0bfbf3bb0abf8afe32fb7f6.png&quot;,</span><br><span class="line">&quot;我家大师兄脑子有坑-晕&quot;:&quot;2f10c278536711e836ec9a3ba77c19c6433b3608.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-懵&quot;:&quot;51725a9abd80ce5dca5a31b7d752c61bdc063a44.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-嗷&quot;:&quot;203d29bcc8e2ab7ce4a12bc07140403390f4b2e6.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-抱大腿&quot;:&quot;d5eebcecad919c86d68ae495f39743fc80b20ad9.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-抱走&quot;:&quot;0576f4f1463f6757101a236c10049ed40ba748cb.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-壁咚&quot;:&quot;759a8a54f10767bdc40fd014b70a783ae0e568ef.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-冷漠&quot;:&quot;edb3d7e86fd768b55c50588110a765e3d9cafd4b.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-嘤嘤嘤&quot;:&quot;d061ef8b91ca866fc6ce3ac0eaaf831457e08c52.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-吓&quot;:&quot;9ed824796f9494f8ef4adadb68f271cbf1790dcf.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-chu&quot;:&quot;912c436fee4d16f94cc5f794abc6a6edf3beda4d.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-爱你&quot;:&quot;68fb8141a242cdcde94ba12e91dee1ad6b37978e.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-舔&quot;:&quot;c57b984be871913cd502e9bb6b971ce311229d99.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-睡觉觉&quot;:&quot;9adec4fb28034e50dde7a2ca5de234c80f95dc04.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-举高高&quot;:&quot;a413e5eeeec632074b6c01274bf8fcb510991e0e.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-说什么都对&quot;:&quot;4bddfe880ce46bd46b39b3f7a3f45300cbd330f9.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-不可描述&quot;:&quot;fda54b79413faa735b1c96eb9acd497e3207ba4d.png&quot;,</span><br><span class="line">&quot;喂，看见耳朵啦！-摔倒啦&quot;:&quot;cb626004cd67af4a48fd48f15a9f36f564052082.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-不想说话&quot;:&quot;eb0e4730ecb42c342e1507330ce495deef0128bd.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-吵架&quot;:&quot;420d20935484170ac24c67872f29458bc0c79f5a.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-得意脸&quot;:&quot;ef7c7605c4975f89896f3ed37c4e097c4e1713d7.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-高兴&quot;:&quot;614798a8c875540d417b7200b9ea1ac3e1a934a3.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-哦&quot;:&quot;dab5061b6f299a5f38b85a115da8eab8024426e8.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-捂脸&quot;:&quot;7108030a92e01945817e2e73cc9206cfed4069a3.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-邪恶脸&quot;:&quot;da35ac592ab48d23d299034315eb3b4efe15015b.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-要哭了&quot;:&quot;f1c4d2b6cfcf43b985af38da8dc5a4fcdfbcc600.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-疑问&quot;:&quot;80d7b4f10cd51dee05c0e307169aab9e9c2ea37e.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-打滚&quot;:&quot;a0523e55635cf3e09dc286e2042fbbac6b50409c.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-诶&quot;:&quot;302e36652f710d0e7a8260090eaf63eac3bd28bf.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-机智一比&quot;:&quot;54816a3dd363e620e5d999f1bdf75290645bd35e.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-喵喵喵&quot;:&quot;a2019a775d69b7888d663e82b3c29bd0c2281188.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-跑&quot;:&quot;a73a2d7b884e735ab26ee1f871dd38c499f7b84a.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-喂&quot;:&quot;707e9e784b745fad291ab15d9a31a24c7efa6c1f.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-已关机&quot;:&quot;ea0769dadca17598873306ab8500aab1dd8994bd.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-直接躺平&quot;:&quot;92a77c53d7a66763d2bd9dab80ddd2afa6cf6387.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-呆住&quot;:&quot;978ab4d7ea39f7428fc945ba68c96b2291d26751.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-哈哈&quot;:&quot;22144e5e3ea83b587483ea473c2e191284d64b44.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-喝水&quot;:&quot;1e5592c8200419164f5730a0de6c30281a5c5a57.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-生气&quot;:&quot;a9cc35254663a736cbd0e020634765b5f147fcdd.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-哇啊啊啊&quot;:&quot;d67db235a945fdbd0b537aebddb4abc5ffc01184.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-一本正经&quot;:&quot;822a803bf5b340090c9c7053a74aa43c1b527c27.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-惊呆&quot;:&quot;15091032588cf3ccf2a7969460fe7705ec00e9c7.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-开心&quot;:&quot;08dab1d9250043f97273b211253d0341f92fb0f8.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-苦恼&quot;:&quot;14a0716224369f5211d5c69c249354f11f5026cb.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-灵光乍现&quot;:&quot;dc3fae4b42056970f5aa407e8297e96cd2ede2b2.png&quot;,</span><br><span class="line">&quot;小绿和小蓝-思考&quot;:&quot;aecd0b1b0a5848765f002c857b73092677dec31f.png&quot;,</span><br><span class="line">&quot;一人之下-机智&quot;:&quot;afdcd367d011fbe5b78032daf519689c0bbcdc5e.png&quot;,</span><br><span class="line">&quot;一人之下-刀&quot;:&quot;68036be8868b42a6cbdb61327cfdb50bedde1a38.png&quot;,</span><br><span class="line">&quot;一人之下-埋了&quot;:&quot;2784a335e41ac4cdf2ec94bf430a906f933f11f4.png&quot;,</span><br><span class="line">&quot;一人之下-蟑螂&quot;:&quot;a95014fff53b7921b5f1850781ccf5af5ef73234.png&quot;,</span><br><span class="line">&quot;一人之下-抽打&quot;:&quot;a6a0a0a20019de939232bdaf3f1882e6d8ffd75e.png&quot;,</span><br><span class="line">&quot;一人之下-燃&quot;:&quot;f2a78e0e05bb90b38b550f57355173f8e9e32a7f.png&quot;,</span><br><span class="line">&quot;一人之下-超凶&quot;:&quot;aea3aa73a14350613628a0dac83e77c6c8fa9d68.png&quot;,</span><br><span class="line">&quot;一人之下-干翻苍穹&quot;:&quot;e5de003a4eb9fef32fe722cd06ad2abc9a3d4ec3.png&quot;,</span><br><span class="line">&quot;一人之下-糟了&quot;:&quot;45ad7c1b87cf95743a2ad000b8dd2eedfcf73107.png&quot;,</span><br><span class="line">&quot;一人之下-孙贼&quot;:&quot;a689c37d5779cda0774d6f4be65cd587c4d0e27f.png&quot;,</span><br><span class="line">&quot;一人之下-养生&quot;:&quot;32adfeb34ecc2e4ab9702813ab547fc0bb09aac7.png&quot;,</span><br><span class="line">&quot;一人之下-瘫&quot;:&quot;721c2b271d9edbb937c6dec61ba25568797b27aa.png&quot;,</span><br><span class="line">&quot;一人之下-打call&quot;:&quot;7f979ab31d61e09acb3da46b52c52376e1131abe.png&quot;,</span><br><span class="line">&quot;一人之下-比心&quot;:&quot;fafec3459f631f0ba76adde9faf8aa112469e9c4.png&quot;,</span><br><span class="line">&quot;一人之下-摸头&quot;:&quot;500171557765a27c500a7024888c698680c73653.png&quot;,</span><br><span class="line">&quot;一人之下-八卦&quot;:&quot;5be05cddd588d7b635cd55501b9b7a47af5dc5bc.png&quot;,</span><br><span class="line">&quot;一人之下-狐狸&quot;:&quot;022b95f086cd4469aec2a44045729bfda6fd8c95.png&quot;,</span><br><span class="line">&quot;一人之下-承让&quot;:&quot;6a21366ea70b7369b1d3c867f04bf8932e7c9be4.png&quot;,</span><br><span class="line">&quot;一人之下-哎？&quot;:&quot;ece804d0f852c6c6c9ae280dca523de672d5631d.png&quot;,</span><br><span class="line">&quot;一人之下-叹气&quot;:&quot;f5c79a00613d3e1f71d18332d474c7c0af31e4b2.png&quot;,</span><br><span class="line">&quot;一人之下-雷&quot;:&quot;75bbf0f391e8136d79109ff1d6904b688555b49b.png&quot;,</span><br><span class="line">&quot;狐妖-不服憋着&quot;:&quot;d3633ea35afac42d46679a3d31775a9860e63c2d.png&quot;,</span><br><span class="line">&quot;狐妖-吃瓜&quot;:&quot;8c5ad49f83b29262e2e785124bec6651670ae36b.png&quot;,</span><br><span class="line">&quot;狐妖-不明嚼栗&quot;:&quot;71601899fe445454c3593e7d82e4ea01f980b230.png&quot;,</span><br><span class="line">&quot;狐妖-抽打&quot;:&quot;43bb8e363f6c94c97a396a68852c8f2182651fc0.png&quot;,</span><br><span class="line">&quot;狐妖-吃我安利&quot;:&quot;3a0bf7d0320a84002ea8b4907e6c3baa97ec0dd0.png&quot;,</span><br><span class="line">&quot;狐妖-伐开心&quot;:&quot;01f6b69d1f69e8ea879569827e7363f4da630cba.png&quot;,</span><br><span class="line">&quot;狐妖-惊&quot;:&quot;e1c6e6aca03b634f32bc71762015c44431dafd74.png&quot;,</span><br><span class="line">&quot;狐妖-大笑&quot;:&quot;38bc9f4e39c2ec9d7442f2d67e13092fd535846b.png&quot;,</span><br><span class="line">&quot;狐妖-震惊&quot;:&quot;83361a40f6fd010e6da88825aa27320189ad2df5.png&quot;,</span><br><span class="line">&quot;狐妖-脸红&quot;:&quot;79175b3bc469061020d15114e22ac261b0668819.png&quot;,</span><br><span class="line">&quot;狐妖-冷漠&quot;:&quot;842b69b5c3e98d11292edd4f4cf6abb8504c18bc.png&quot;,</span><br><span class="line">&quot;狐妖-哭&quot;:&quot;29de352176c8ead5b301212aa61facb5e3abcd55.png&quot;,</span><br><span class="line">&quot;狐妖-目瞪口呆&quot;:&quot;c75e6841c81a5c020971debe394334d8b2700151.png&quot;,</span><br><span class="line">&quot;狐妖-前排&quot;:&quot;4d2702f9383dec00c7c77ff026768c3ddaaf6d60.png&quot;,</span><br><span class="line">&quot;狐妖-沙发&quot;:&quot;5ff883da9618dfd9740256e569279244bbff03b1.png&quot;,</span><br><span class="line">&quot;狐妖-掀桌&quot;:&quot;f0917c6d982a86c2ab02c979359226f761581c37.png&quot;,</span><br><span class="line">&quot;狐妖-心&quot;:&quot;77123fd85c11478b46d762a1c8553328013637ef.png&quot;,</span><br><span class="line">&quot;狐妖-晕&quot;:&quot;64702d1fc92c44e8aaa39ffdacdc87aaa6d38d3d.png&quot;,</span><br><span class="line">&quot;狐妖-吃药&quot;:&quot;059d810cbc5ad4df4f9bbf08e44643b022a2354f.png&quot;,</span><br><span class="line">&quot;狐妖-mdzz&quot;:&quot;e68fd21a5bcfa50b6d45f2a8f5926f992f484ae3.png&quot;,</span><br><span class="line">&quot;咕咕-吃饱了&quot;:&quot;36399554e61413ca22e621fc9e5286e972fd30f6.png&quot;,</span><br><span class="line">&quot;咕咕-出门了&quot;:&quot;a6a7746ff007bba6a468dada58989eda553e1144.png&quot;,</span><br><span class="line">&quot;咕咕-沉默&quot;:&quot;5159d4ffbadd10700c04d8a870a539d2a5bdf34b.png&quot;,</span><br><span class="line">&quot;咕咕-剪视频&quot;:&quot;d645c723d43814193a288384fc28c3a4ccc8f590.png&quot;,</span><br><span class="line">&quot;咕咕-惊吓&quot;:&quot;38ac7bdbf97f184465935e8422efa6f689719fdb.png&quot;,</span><br><span class="line">&quot;咕咕-冷静一下&quot;:&quot;17ba5f117e577d098f77edbcef4257e036486531.png&quot;,</span><br><span class="line">&quot;咕咕-嚯奶茶&quot;:&quot;57d10f6305497cb26b556b57f4acb46c00bd72a5.png&quot;,</span><br><span class="line">&quot;咕咕-命运扼脖&quot;:&quot;ba20f47357c85abf40401ddf254a8fa6d0aded6d.png&quot;,</span><br><span class="line">&quot;咕咕-头秃&quot;:&quot;7c170c19f294f808859cbb44075aa1545773c342.png&quot;,</span><br><span class="line">&quot;咕咕-灵魂出窍&quot;:&quot;91dd0d739357e5444809bfd0a33e2da59cf18cd4.png&quot;,</span><br><span class="line">&quot;咕咕-流泪&quot;:&quot;5f0749809460d03c2716ca5295657de5d2af7ec3.png&quot;,</span><br><span class="line">&quot;咕咕-睡了&quot;:&quot;643dc70f2386fb67513fac31c3811ee6eb1333ed.png&quot;,</span><br><span class="line">&quot;咕咕-自闭了&quot;:&quot;10a6bf65a7bdcea2a681edce48a6385495e8aaf3.png&quot;,</span><br><span class="line">&quot;咕咕-转笔&quot;:&quot;3cd8ae4266a397f20eb2e5e4a77d439690a4aa08.png&quot;,</span><br><span class="line">&quot;咕咕-宅&quot;:&quot;45bba8dd4bdd2ed715a3a27f65b464c316cc73b0.png&quot;,</span><br><span class="line">&quot;炎炎消防队-点点点&quot;:&quot;c4ccd68860bbafa7198815d506c196a0aaf87de9.png&quot;,</span><br><span class="line">&quot;炎炎消防队-独眼巨猩&quot;:&quot;fa9ac3533a2c8ba5259f97538fe4215fa4a3571a.png&quot;,</span><br><span class="line">&quot;炎炎消防队-恶魔&quot;:&quot;bc2a2552752d20a9bcc5370e8d0ad17db3186262.png&quot;,</span><br><span class="line">&quot;炎炎消防队-拉托姆&quot;:&quot;53678a555b68b0d2ba99c123d8b3518101ba6678.png&quot;,</span><br><span class="line">&quot;炎炎消防队-咧嘴惊恐&quot;:&quot;167336529e79355a88515635c7e675f78444664f.png&quot;,</span><br><span class="line">&quot;炎炎消防队-灵光一闪&quot;:&quot;fd65be68cd486960d840adbd2442dd0f4fa28aeb.png&quot;,</span><br><span class="line">&quot;炎炎消防队-凝视&quot;:&quot;ea4022c5f3e19a70bd1c5b60b69aeaff16ddd238.png&quot;,</span><br><span class="line">&quot;炎炎消防队-怨气&quot;:&quot;8cf506572afa0086582f3be5ce0ef9dce437a923.png&quot;,</span><br><span class="line">&quot;炎炎消防队-讨厌&quot;:&quot;5021a84690d9ed83a3af38eefb5c426f6932175e.png&quot;,</span><br><span class="line">&quot;炎炎消防队-少女心&quot;:&quot;7ed55dc0f1f2085aab554c992b665eb72cac2128.png&quot;,</span><br><span class="line">&quot;炎炎消防队-肯定&quot;:&quot;4b132a6c34c8c345221982668d47b4c5f932c3e4.png&quot;,</span><br><span class="line">&quot;炎炎消防队-愉快&quot;:&quot;42898333cc040f14639b2b283e52fc62209fe18c.png&quot;,</span><br><span class="line">&quot;炎炎消防队-噗嗤噗嗤&quot;:&quot;c0832fcd8c4e2718a3caa14fa899e924d6f9f00a.png&quot;,</span><br><span class="line">&quot;炎炎消防队-灭火&quot;:&quot;88a4066a18627f067c0310d5ae039b15b1305d28.png&quot;,</span><br><span class="line">&quot;炎炎消防队-禁止入内&quot;:&quot;fb89757d71763bbabdec06dd06d589bb0235b728.png&quot;,</span><br><span class="line">&quot;乐正绫-爱上了&quot;:&quot;5c7d4bbf3de5bd16c4d80e5485a88419f4513e18.png&quot;,</span><br><span class="line">&quot;乐正绫-和善&quot;:&quot;384fbadcb808e77060420b1b978eb5abe3c29289.png&quot;,</span><br><span class="line">&quot;乐正绫-吃土&quot;:&quot;4a0294a51ad600f349a7bad0ea0b45214aff82a7.png&quot;,</span><br><span class="line">&quot;乐正绫-掏耳朵&quot;:&quot;c9f5b9c925774f494cb19fab647c76cc91102b86.png&quot;,</span><br><span class="line">&quot;乐正绫-冲冲冲&quot;:&quot;11f71389d302b1deb388df2317705b7251489f43.png&quot;,</span><br><span class="line">&quot;乐正绫-大师球&quot;:&quot;ad34579154c9eb7aba9e56ebc24dac029c8b7c17.png&quot;,</span><br><span class="line">&quot;乐正绫-哼&quot;:&quot;648ee977b508084dc29995889f2033d3f6532dfd.png&quot;,</span><br><span class="line">&quot;乐正绫-黑恶势力&quot;:&quot;ffd0986edac52a9d61a3d41aa325997bf33c8454.png&quot;,</span><br><span class="line">&quot;乐正绫-我可以&quot;:&quot;4b8a2f70f791f22e43c49497b225d0cbe1d46970.png&quot;,</span><br><span class="line">&quot;乐正绫-三连呢&quot;:&quot;daecf72d47695829659370440362086edd507fec.png&quot;,</span><br><span class="line">&quot;伍六七-观察&quot;:&quot;3a89bf5b46442fe267eb1028ec88f8371607226e.png&quot;,</span><br><span class="line">&quot;伍六七-无语&quot;:&quot;e08f732e027900c909b502e2807f017ae437ca16.png&quot;,</span><br><span class="line">&quot;伍六七-哭&quot;:&quot;6c4292b18bd666ddd015047f72125eea4ebd0c76.png&quot;,</span><br><span class="line">&quot;伍六七-右吃惊&quot;:&quot;0f9cac499655e6dd7da20ddd8126cebd5fe72e71.png&quot;,</span><br><span class="line">&quot;伍六七-左吃惊&quot;:&quot;5be110c97f9fc5f2b48bf6bdaa583854d7485c47.png&quot;,</span><br><span class="line">&quot;伍六七-wink&quot;:&quot;c848008a9ba9e6ca5a8b51e10417d96eee43d682.png&quot;,</span><br><span class="line">&quot;伍六七-超凶&quot;:&quot;814728d13f21a828ea8234698a76c28e5dfbcea8.png&quot;,</span><br><span class="line">&quot;伍六七-搓手&quot;:&quot;c60138041a347aff833599540e9683f5768d7638.png&quot;,</span><br><span class="line">&quot;伍六七-冷漠&quot;:&quot;d53758988e388e5a9f17fdb20a6eb369edbdad01.png&quot;,</span><br><span class="line">&quot;伍六七-帅&quot;:&quot;ce22b4f7005463883ef8f42c4afa2c96d878536c.png&quot;,</span><br><span class="line">&quot;伍六七-懵&quot;:&quot;ca6e915a4ac750e8db70bc506c710ed2cc78a179.png&quot;,</span><br><span class="line">&quot;伍六七-嘻嘻&quot;:&quot;c6235807478015451fd01f4e84412cd6f0f09c62.png&quot;,</span><br><span class="line">&quot;一群喵-害羞&quot;:&quot;3247a84b6b19bef0b6d2ef466409c99c123dab3a.png&quot;,</span><br><span class="line">&quot;一群喵-汗&quot;:&quot;fd59662de49a1b72557d73309cf92f75f7d5529b.png&quot;,</span><br><span class="line">&quot;一群喵-惊吓&quot;:&quot;508e667dd45824afdfa54ae4170f37df335c08b9.png&quot;,</span><br><span class="line">&quot;一群喵-哭&quot;:&quot;b42f83284eb11a8399ac2fbda3e0912e5d00c86d.png&quot;,</span><br><span class="line">&quot;一群喵-困惑&quot;:&quot;a4c3d11215a22a4d927bbffbdafb162de15f2441.png&quot;,</span><br><span class="line">&quot;一群喵-生气&quot;:&quot;62aba826cc67018f70ff08ab82e0841c2dd98c10.png&quot;,</span><br><span class="line">&quot;一群喵-喜欢&quot;:&quot;85245ffac6b7d70e6f3b92b7d220453dc4b1937f.png&quot;,</span><br><span class="line">&quot;一群喵-笑&quot;:&quot;2ba297fde036c9a165a233b70206d8f8ed80fbd4.png&quot;,</span><br><span class="line">&quot;一群喵-兴奋&quot;:&quot;17d8c9ee9ffdefcb1fc26849bf89f1cc5ff9dbeb.png&quot;,</span><br><span class="line">&quot;一群喵-阴险&quot;:&quot;92d3ffb0644ad73e64e939631736879086a85cc5.png&quot;,</span><br><span class="line">&quot;少前小剧场-期待&quot;:&quot;81e4cf1a0a28ee824447ce75cfb8a668af24866c.png&quot;,</span><br><span class="line">&quot;少前小剧场-心虚&quot;:&quot;61ea3a788ec43241860ed984672eb588963bc98a.png&quot;,</span><br><span class="line">&quot;少前小剧场-叶&quot;:&quot;0e5616bb5dd8ef58d27925b1d0d66cddf8a8e6fe.png&quot;,</span><br><span class="line">&quot;少前小剧场-比心&quot;:&quot;63706479af5f8c1e8758372eb3051425058327d8.png&quot;,</span><br><span class="line">&quot;少前小剧场-吃瓜&quot;:&quot;b8ee2ce8c2cd2135dc7d05b3034bb10ff4bd6486.png&quot;,</span><br><span class="line">&quot;少前小剧场-打call&quot;:&quot;f4b6b513bf4280da6395a40a61d15480ff12f978.png&quot;,</span><br><span class="line">&quot;少前小剧场-冲鸭&quot;:&quot;f09d80c2e1566c451cb528878f0d1a4315532187.png&quot;,</span><br><span class="line">&quot;少前小剧场-呆&quot;:&quot;6621076db9208efa619775c3a1b9335dbabd4f82.png&quot;,</span><br><span class="line">&quot;少前小剧场-得意&quot;:&quot;3c7fbda9340ec5ea7d7629f11130cc176f02a8a2.png&quot;,</span><br><span class="line">&quot;少前小剧场-干杯&quot;:&quot;cba3d7c13100e2e2b7a3c05bff7be274214e3641.png&quot;,</span><br><span class="line">&quot;少前小剧场-害羞&quot;:&quot;f4de5619b298486e79f4449b99c95c115457ec04.png&quot;,</span><br><span class="line">&quot;少前小剧场-黑化&quot;:&quot;b1e14429aa1565acd4ae73e9fc929b45029646fa.png&quot;,</span><br><span class="line">&quot;少前小剧场-精神抖擞&quot;:&quot;05c1709e6ff24f653df0fab72a8160ed3451cbfa.png&quot;,</span><br><span class="line">&quot;少前小剧场-哭&quot;:&quot;b14fcc2bb17c10d3671399f406a4671c2e7aa28c.png&quot;,</span><br><span class="line">&quot;少前小剧场-卖萌&quot;:&quot;bbe8c979922144e667efd63dcce0320437425a00.png&quot;,</span><br><span class="line">&quot;少前小剧场-钱钱&quot;:&quot;48ae808b0463e0cde3cc5c8666839776ed7a4cfb.png&quot;,</span><br><span class="line">&quot;少前小剧场-认真&quot;:&quot;0196dfb78595f3e781ac79d3c47e23600cc12158.png&quot;,</span><br><span class="line">&quot;少前小剧场-色&quot;:&quot;5358b104c882ac7890f138488b6d883da203ebe0.png&quot;,</span><br><span class="line">&quot;少前小剧场-睡觉&quot;:&quot;fead08643f5e057f752deb922fc2439e853d7c15.png&quot;,</span><br><span class="line">&quot;少前小剧场-晚安&quot;:&quot;03055ea50ef3076529d5f23c71c6694c2be5c662.png&quot;,</span><br><span class="line">&quot;少前小剧场-无语&quot;:&quot;33390fad677c17bef5f74a8b2e2241f5bc1249f6.png&quot;,</span><br><span class="line">&quot;少前小剧场-嫌弃&quot;:&quot;162b293de4ff09f249f93a99fc0e3f45814278a6.png&quot;,</span><br><span class="line">&quot;少前小剧场-小公主&quot;:&quot;213fd92820c143f62caa1e3c49e58ff7f36ba6e9.png&quot;,</span><br><span class="line">&quot;少前小剧场-耶&quot;:&quot;ddd62fe72a3b5060edfdc0f0ecebd4e1b7bea324.png&quot;,</span><br><span class="line">&quot;少前小剧场-疑惑&quot;:&quot;e3854d0b28ce225c3aa7445093d5292875fba57d.png&quot;,</span><br><span class="line">&quot;少前小剧场-震惊&quot;:&quot;fbf53293fd602f318f29bb6761c406ea65dc2d4e.png&quot;,</span><br><span class="line">&quot;少前小剧场-醉&quot;:&quot;12a4f22d4593c677d0a6a95cac8dbb3fd8548b50.png&quot;,</span><br><span class="line">&quot;天选之子-讨厌啦&quot;:&quot;b3e903684e20406ea6575d190e30d74f1ec0f4a6.png&quot;,</span><br><span class="line">&quot;天选之子-心虚&quot;:&quot;142f4a7cfabc211ede93db4261cc51dbb41642c5.png&quot;,</span><br><span class="line">&quot;天选之子-吃瓜&quot;:&quot;17202e8b7e620bfec86b9298d3b76ce85818ae3e.png&quot;,</span><br><span class="line">&quot;天选之子-什么鬼&quot;:&quot;b6137e702d8de818b498b2623a2b042799684df6.png&quot;,</span><br><span class="line">&quot;天选之子-生气气&quot;:&quot;e5f2a5e9e9ce430a5cfe5b8d22d49c0510d50750.png&quot;,</span><br><span class="line">&quot;天选之子-原来如此&quot;:&quot;88ee75211aba2d17557b50020b73f2525e781f63.png&quot;,</span><br><span class="line">&quot;天选之子-我去&quot;:&quot;a7887be795a2223e69d80af67499c3af3fd13618.png&quot;,</span><br><span class="line">&quot;天选之子-打人了&quot;:&quot;5414e4907485a35a28ba21eb6e442da2d228a7b7.png&quot;,</span><br><span class="line">&quot;天选之子-辛酸泪&quot;:&quot;a3d4a1a7b9c205583c3368e2d85ceb621a004a50.png&quot;,</span><br><span class="line">&quot;天选之子-拒绝&quot;:&quot;9b14f76be037b7c10fa864a0b15c48ee701ee954.png&quot;,</span><br><span class="line">&quot;战双帕弥什-吃瓜&quot;:&quot;8541c44effd3f69a71b1e96a586ac0fe5b765c45.png&quot;,</span><br><span class="line">&quot;战双帕弥什-哼&quot;:&quot;59748ef499690a7931c198cd4e0343d5a05d63da.png&quot;,</span><br><span class="line">&quot;战双帕弥什-抱抱&quot;:&quot;83a6ae3a34c54e6ebef7d0ca5ad540f61c1df678.png&quot;,</span><br><span class="line">&quot;战双帕弥什-画圈圈&quot;:&quot;167a9b59900ef721dd3fd19e6216a71d4eb85dfb.png&quot;,</span><br><span class="line">&quot;战双帕弥什-痴汉&quot;:&quot;9987980413cc6f550ea7e5f071fe1166cef729b7.png&quot;,</span><br><span class="line">&quot;战双帕弥什-挠头&quot;:&quot;b1930eefe111a6e140f17669368aed831aeab5f4.png&quot;,</span><br><span class="line">&quot;战双帕弥什-肥宅&quot;:&quot;3ac9e30424ff0122d4ca274cac3ed236d2853e46.png&quot;,</span><br><span class="line">&quot;战双帕弥什-柠檬茶&quot;:&quot;02180f96d9b38797873286035dcfe738ad382cbb.png&quot;,</span><br><span class="line">&quot;战双帕弥什-诶嘿&quot;:&quot;98c27f2281019fa5ef0872da88401d03313463b2.png&quot;,</span><br><span class="line">&quot;战双帕弥什-拍桌&quot;:&quot;2bd9551d81a1edf8013dc75ca18b875050db9dd3.png&quot;,</span><br><span class="line">&quot;战双帕弥什-哭哭&quot;:&quot;71e7feb027f42ec299a440c3031534d6bdc4e604.png&quot;,</span><br><span class="line">&quot;战双帕弥什-吐血&quot;:&quot;3b53c31e32cf8806770f760a74b167b14610df8c.png&quot;,</span><br><span class="line">&quot;战双帕弥什-凉了&quot;:&quot;142bcb77a9564db8ab5f429ad1e623c9fa446abd.png&quot;,</span><br><span class="line">&quot;战双帕弥什-托腮&quot;:&quot;e196eeadb34eb7238206d606b801ef8e0516d00a.png&quot;,</span><br><span class="line">&quot;战双帕弥什-喷了&quot;:&quot;5424a9d241653492c296d8c8b4c889f2202fac8a.png&quot;,</span><br><span class="line">&quot;战双帕弥什-星星眼&quot;:&quot;1595f4072f90b756f15834f70bb188872c107a37.png&quot;,</span><br><span class="line">&quot;战双帕弥什-我即天命&quot;:&quot;2dd6a60bcdce44e54f07c090b1b8849ee76ae4a0.png&quot;,</span><br><span class="line">&quot;战双帕弥什-作战预备&quot;:&quot;82d3b0c747cff3e8523cfd10e0e58c03dac885a3.png&quot;,</span><br><span class="line">&quot;2020拜年祭-哈气&quot;:&quot;464fb79ad8dc0b8ba192bef47e03c044fc8ec8ac.png&quot;,</span><br><span class="line">&quot;2020拜年祭-期待&quot;:&quot;34d9883978304d61b0a6bfe4dc5ed3cce849a954.png&quot;,</span><br><span class="line">&quot;2020拜年祭-吸欧气&quot;:&quot;d7d2033c871fbe06747c6ca93a7856f27765d9e7.png&quot;,</span><br><span class="line">&quot;2020拜年祭-领红包&quot;:&quot;d8425bcf66fe383d0c693c41678202bb2167f476.png&quot;,</span><br><span class="line">&quot;2020拜年祭-谢谢老板&quot;:&quot;2aa0fef536c594d29b8936c2e7be0e68decd44a8.png&quot;,</span><br><span class="line">&quot;2020拜年祭-灯笼&quot;:&quot;814b999e584f93769a5c6a0285c91ab3c2f57002.png&quot;,</span><br><span class="line">&quot;2020拜年祭-火锅&quot;:&quot;2bfbeb3a1502187b0c505e49a460be1dbffd3df0.png&quot;,</span><br><span class="line">&quot;2020拜年祭-2020&quot;:&quot;5f28eb21ed39a86e369d5316579573b285ccf34f.png&quot;,</span><br><span class="line">&quot;2020拜年祭-红包&quot;:&quot;cebc5603f3ff1df7f9f2e67c8c7e6309da0b506c.png&quot;,</span><br><span class="line">&quot;2020拜年祭-新年好&quot;:&quot;9da7e2f2fd6187c506423398dc22f7bf5ba814f4.png&quot;,</span><br><span class="line">&quot;大王不高兴-开心&quot;:&quot;cb17a1a0b113c1b2c4a42c273d0e9a434289a95c.png&quot;,</span><br><span class="line">&quot;大王不高兴-生气&quot;:&quot;5c3aa8d501c1a1a3c3e627edfc98703c1066e91b.png&quot;,</span><br><span class="line">&quot;大王不高兴-哭&quot;:&quot;f0677bb46861c5b03137e356d06a51a562fd0a59.png&quot;,</span><br><span class="line">&quot;大王不高兴-比心&quot;:&quot;0ce7501326cdf4be8c81a106054680458d4fa247.png&quot;,</span><br><span class="line">&quot;大王不高兴-疑问&quot;:&quot;3e0ebc9bd1cb54a2ceed82a90a3fdd2586a517ae.png&quot;,</span><br><span class="line">&quot;大王不高兴-我好了&quot;:&quot;997095a106b2fb7319f07c6f9260468410734a56.png&quot;,</span><br><span class="line">&quot;大王不高兴-汗&quot;:&quot;7b02c3d608f3ca9cdc6b46d64f06f8909017f164.png&quot;,</span><br><span class="line">&quot;大王不高兴-点赞&quot;:&quot;f85e02492f0f87ee94f274f1684787170ceefcdb.png&quot;,</span><br><span class="line">&quot;大王不高兴-害怕&quot;:&quot;461eff396cde49246614731caacef13200730709.png&quot;,</span><br><span class="line">&quot;大王不高兴-滑稽&quot;:&quot;0004ca2d9be95b769d8a9778aaee3a07482550ba.png&quot;,</span><br><span class="line">&quot;大王不高兴-目瞪口呆&quot;:&quot;83d687d404ce04c68cf5f968a74a2d936097486e.png&quot;,</span><br><span class="line">&quot;大王不高兴-前排&quot;:&quot;8b02d412a194f8c424c12c0c9f22159f3a1895f8.png&quot;,</span><br><span class="line">&quot;崩坏3-点赞&quot;:&quot;055a130541fe95e20aa541db5a5a48d0cbc728b6.png&quot;,</span><br><span class="line">&quot;崩坏3-入欧&quot;:&quot;5d532eab104881e7dd63be1083a78ab36878c3b4.png&quot;,</span><br><span class="line">&quot;崩坏3-脱非&quot;:&quot;ac31b7219032b6e714c189d65a669ca3ca2d3e77.png&quot;,</span><br><span class="line">&quot;崩坏3-快乐&quot;:&quot;a3ec46f1255dbf96d413231862399b939dc2110e.png&quot;,</span><br><span class="line">&quot;崩坏3-注入灵魂&quot;:&quot;5bf261f6fb91463e1ff1c80dd0fefd6bcd31aedf.png&quot;,</span><br><span class="line">&quot;崩坏3-危险&quot;:&quot;3a6af29282b6e09ce7881c9aebc187d03268b25f.png&quot;,</span><br><span class="line">&quot;崩坏3-吃瓜&quot;:&quot;9ecead2805adf05a308e1093fb8d4941d0366189.png&quot;,</span><br><span class="line">&quot;崩坏3-糖葫芦&quot;:&quot;f54e160beaf3f7b55a87d0da9a6eccefc7bd70d6.png&quot;,</span><br><span class="line">&quot;崩坏3-路过&quot;:&quot;13a7f9e81f4005c29466e8d65eabbf3167902f9d.png&quot;,</span><br><span class="line">&quot;崩坏3-魔法少女&quot;:&quot;da063804b5b8d44c288dd2c45f472741c00c8625.png&quot;,</span><br><span class="line">&quot;崩坏3-特效&quot;:&quot;a1bb1caf129b5e28f2c331667f9e38808050e8a8.png&quot;,</span><br><span class="line">&quot;崩坏3-唢呐&quot;:&quot;032301ad0e61395a266e7f9b4ebcf83bd2acca03.png&quot;,</span><br><span class="line">&quot;崩坏3-琵琶&quot;:&quot;13c3e61eec3a61a3e0ae2883a488ce9b45cddecc.png&quot;,</span><br><span class="line">&quot;崩坏3-二胡&quot;:&quot;b2e3acfba545c61c334eacf5a5b7694e071d834f.png&quot;,</span><br><span class="line">&quot;崩坏3-笛子&quot;:&quot;3dae79d5ce1d826d6d16404dff7bf22474c7015b.png&quot;,</span><br><span class="line">&quot;崩坏3-镲&quot;:&quot;dcce1ad4d53a25c52946821c0d3a4b7dd80e5a42.png&quot;,</span><br><span class="line">&quot;崩坏3-红包&quot;:&quot;4bd80539d828ad6894ccb099b5b04769820d49d6.png&quot;,</span><br><span class="line">&quot;崩坏3-谈话&quot;:&quot;4794f82d166b1f8bfae7783859913e03fe42ae81.png&quot;,</span><br><span class="line">&quot;崩坏3-无辜&quot;:&quot;4e1f4e9a375beaa4e93d057a4e285c924635235f.png&quot;,</span><br><span class="line">&quot;崩坏3-星星眼&quot;:&quot;b5fffeead2dc05c7f902f1c7136178c6a63e508a.png&quot;,</span><br><span class="line">&quot;崩坏3-微笑&quot;:&quot;c2c6c0604af985b745322954814863e47f6fb6d5.png&quot;,</span><br><span class="line">&quot;崩坏3-开心&quot;:&quot;3657a825b87ec063d6e2a3c201da2056e45db938.png&quot;,</span><br><span class="line">&quot;崩坏3-幸福&quot;:&quot;714cc90d3485a003f53eecec336bea8a0b2dc12d.png&quot;,</span><br><span class="line">&quot;崩坏3-吃&quot;:&quot;c26ae762270b756b68a7f5c63d43078e874fbead.png&quot;,</span><br><span class="line">&quot;崩坏3-口水&quot;:&quot;7a66d7e1902b766a2b930009687be5171018f1ff.png&quot;,</span><br><span class="line">&quot;崩坏3-惊&quot;:&quot;672ab0cac8e29270a0ea1788df5711ce716b6942.png&quot;,</span><br><span class="line">&quot;崩坏3-哭哭&quot;:&quot;f432d349d44aad9873da18b27a6367c3ea7cfebc.png&quot;,</span><br><span class="line">&quot;崩坏3-纠结&quot;:&quot;864ff2ef1546534f5b53b279332e3950a86cf008.png&quot;,</span><br><span class="line">&quot;崩坏3-疑问&quot;:&quot;bdda506f56f5a42e365b6f2f8d2128f799f8310e.png&quot;,</span><br><span class="line">&quot;崩坏3-有主意了&quot;:&quot;38676ebb4c51fdda6302a5cb131ae94d35be4f8b.png&quot;,</span><br><span class="line">&quot;百妖谱-药不能停&quot;:&quot;66687ec8b0a613bd98e633c9e1020e2fc00fce93.png&quot;,</span><br><span class="line">&quot;百妖谱-干杯&quot;:&quot;bd2a713946341f646f4ac3ab36499b837e726ade.png&quot;,</span><br><span class="line">&quot;百妖谱-快更新&quot;:&quot;7a6acccabd976c68ce9b720a1132140e87d96527.png&quot;,</span><br><span class="line">&quot;百妖谱-没问题&quot;:&quot;9ccfc4586c6385b4fd4edd1f6c5e2ed0b000f344.png&quot;,</span><br><span class="line">&quot;百妖谱-秋梨膏&quot;:&quot;dd8a0042eaa667fda1a76d5f23169bbb456ee5cf.png&quot;,</span><br><span class="line">&quot;百妖谱-我太难了&quot;:&quot;0397200276499b1ddb07a128403de4fa6827c2b5.png&quot;,</span><br><span class="line">&quot;百妖谱-告辞&quot;:&quot;70273f28487827db7e7eede4c63d3d171daa3a6b.png&quot;,</span><br><span class="line">&quot;百妖谱-陷入思考&quot;:&quot;b4462ee01b4843a69e082fc1a0bbfa4439323b00.png&quot;,</span><br><span class="line">&quot;百妖谱-凶&quot;:&quot;41c78bc32ea1a3f89ae47f240b61e4835bbd20a4.png&quot;,</span><br><span class="line">&quot;百妖谱-一针见效&quot;:&quot;27cce53c5fb14e697993fc8db6f83aa308fa5830.png&quot;,</span><br><span class="line">&quot;大理寺日志-登场&quot;:&quot;476223b044bfb84d74832e1a0635f56626833cb5.png&quot;,</span><br><span class="line">&quot;大理寺日志-发现&quot;:&quot;7a39c10e67f9883e0866d60b64e763e66cd79407.png&quot;,</span><br><span class="line">&quot;大理寺日志-黑线&quot;:&quot;475590034e5eca515a9ac026996030c91edc3d38.png&quot;,</span><br><span class="line">&quot;大理寺日志-怀疑&quot;:&quot;cd90888ceb9798d290f0845e6312f9147058152b.png&quot;,</span><br><span class="line">&quot;大理寺日志-惊讶&quot;:&quot;6c50f118bac4f04b90431df83f4146a8ba3714f0.png&quot;,</span><br><span class="line">&quot;大理寺日志-开心&quot;:&quot;c2fd2f2cb080f17175aeca924e80740673e0d9fd.png&quot;,</span><br><span class="line">&quot;大理寺日志-哭哭&quot;:&quot;152c103773d38a0194d337e60bbb78b04afb2aa0.png&quot;,</span><br><span class="line">&quot;大理寺日志-困困&quot;:&quot;8b72d8b19c10e3f03fa0eb10c7fe1ac4d0eddaad.png&quot;,</span><br><span class="line">&quot;大理寺日志-雷到&quot;:&quot;01ad2b573585188bf35c83dbc23037badb92e032.png&quot;,</span><br><span class="line">&quot;大理寺日志-猫笑&quot;:&quot;55cb03ea869d9caa6004c8ed8ba3398d505ce256.png&quot;,</span><br><span class="line">&quot;大理寺日志-怒火&quot;:&quot;6d8f7bd571d3d0b844b5bea7e3beed4db1b0bd91.png&quot;,</span><br><span class="line">&quot;大理寺日志-闪光&quot;:&quot;6acfd2ff0e81be2408a5e28429b442b1ebf92750.png&quot;,</span><br><span class="line">&quot;大理寺日志-无语&quot;:&quot;c52f91437b0cbba51f4ad580fe2923d804f8db8b.png&quot;,</span><br><span class="line">&quot;大理寺日志-音符&quot;:&quot;441838855822b76687df61756436ff74da5c0542.png&quot;,</span><br><span class="line">&quot;大理寺日志-眨眼&quot;:&quot;912f5095161d391d1692d73dac47357a6b4f05d5.png&quot;,</span><br><span class="line">&quot;阎小罗-不简单&quot;:&quot;e24d8e091f8e8d53496850758de6081347e1ceb6.png&quot;,</span><br><span class="line">&quot;阎小罗-诶嘿&quot;:&quot;f48c24ec9309533c1cbe2f4481d095c4e6685123.png&quot;,</span><br><span class="line">&quot;阎小罗-大招&quot;:&quot;d6120cdbbeb348d31451d261e0ebdc0d8b0e6e66.png&quot;,</span><br><span class="line">&quot;阎小罗-尴尬&quot;:&quot;6db0fa855a83b2d572669b695b4338f166c113b1.png&quot;,</span><br><span class="line">&quot;阎小罗-脸红&quot;:&quot;ebdbd2599183c4e4405c5c0b14b261c9898dc311.png&quot;,</span><br><span class="line">&quot;阎小罗-怂&quot;:&quot;12280c732706a5d1d108e084c759b5fb367b30c8.png&quot;,</span><br><span class="line">&quot;阎小罗-瑟瑟发抖&quot;:&quot;ac870d530e3b4a44a2b8021a7a20104ca469dbdc.png&quot;,</span><br><span class="line">&quot;阎小罗-想peach&quot;:&quot;6f765fec9202107d888d32ccd8abb3b3710e4a9d.png&quot;,</span><br><span class="line">&quot;阎小罗-吓哭&quot;:&quot;453c019fb02f751fb7a7f439f54233d0b2c72c67.png&quot;,</span><br><span class="line">&quot;阎小罗-小秘密&quot;:&quot;15e3f60a07d6adb699b4b120b8bc13c751ae0119.png&quot;,</span><br><span class="line">&quot;动物园-来了&quot;:&quot;e5152bcb08ca474359c49461501cd846600daee5.png&quot;,</span><br><span class="line">&quot;动物园-傲娇&quot;:&quot;820db019cb4dc557131c3d7dc37f1beb9e0534b8.png&quot;,</span><br><span class="line">&quot;动物园-暴躁&quot;:&quot;b3d31a9c6c2c158eb757387284ead130045009e0.png&quot;,</span><br><span class="line">&quot;动物园-害怕&quot;:&quot;a0912bd9139764f194938fcafa410e078acec222.png&quot;,</span><br><span class="line">&quot;动物园-嘲讽&quot;:&quot;2f31f0763716ac0a37931ac18d6056cd3ca2f31a.png&quot;,</span><br><span class="line">&quot;动物园-哦哟？&quot;:&quot;edf659ad2a2e048c9cf0ff743214890c87ce9a27.png&quot;,</span><br><span class="line">&quot;动物园-冷漠&quot;:&quot;c3d3373ea9b5b854f7fe626913a402728ced4cc3.png&quot;,</span><br><span class="line">&quot;动物园-要饭&quot;:&quot;5668de01ef1094575f96b4e1d10eefcca2d42c69.png&quot;,</span><br><span class="line">&quot;动物园-害羞&quot;:&quot;c8062380c3d066becf909eaf2a09640de8fdc6ae.png&quot;,</span><br><span class="line">&quot;动物园-咦&quot;:&quot;9c70bdf3ecf0662ff7944a3a5df6d0cc0b1b2cb6.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-你高尚&quot;:&quot;f88abffb5a8d570b1efc68cd5440d9515b8a45e6.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-菜哭&quot;:&quot;5c9907d23378704942227aa5a2834ff35f2e425d.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-姐妹！&quot;:&quot;972913308e0633454e382e6e1c01b810c24cd574.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-我身体好&quot;:&quot;1852865c39b446a63ecb07da68a196dc4dd2c96e.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-我磕到了&quot;:&quot;5f59b958267f9441d82956071586fa25c9ee5e7c.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-爱心发射&quot;:&quot;25cdfac5b23e5cb007d1fa643b82751c9b07d31a.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-快去结婚&quot;:&quot;90402b80a3fd1ab81c9d78a31354f00f0a0cb1ba.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-亲一个&quot;:&quot;611591c16d0e621b21e035045c026e2039e52c29.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-KWSL&quot;:&quot;8bddeede5426262701d09a9bdffd3cc7a89bee69.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-缘结神哒&quot;:&quot;f7a03dfd13018213d210d4de8467e51f8b9d91e3.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-该结婚了&quot;:&quot;c7b591beb0e613e0a9f95fc5becf42d7896a5869.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-兄弟情？&quot;:&quot;2606e0614cd56d7d9c3a5c8e4ed6d96ef9eea888.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-别骚了&quot;:&quot;fb58e9683265087ad8bdbe3e834f7813cf72f990.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-开心&quot;:&quot;f1a2a63ef7a89eae87da511f5de5b04d0e9ae06c.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-在一起&quot;:&quot;4ccc36204a64787b0fb67d47edcffaf3c45acc42.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-期待&quot;:&quot;b80475b53b481f3d11ec05b07c55ad390f091b35.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-多喝热水&quot;:&quot;b6f923ac40cf7faf24d3bc8ca6ebcdf6425a876f.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-有粮不&quot;:&quot;6fdd3e5e15dc307c3c6990a621df860634527f47.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-等粮中&quot;:&quot;0126cb6e58fa39fbd0f2e5242461ae0e101ea904.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-求你产粮&quot;:&quot;95011ad80649de14a966c827db305579a8311b63.png&quot;,</span><br><span class="line">&quot;阴阳师缘结神-我不活啦&quot;:&quot;48de67de9c96dc5340af62ccc76200e07ceaffda.png&quot;,</span><br><span class="line">&quot;酷仔&quot;:&quot;390100ada4659b4516984d386499fb22c0025084.png&quot;,</span><br><span class="line">&quot;赞了&quot;:&quot;40ded585bbd6328fc390076b5de224fd38b46793.png&quot;,</span><br><span class="line">&quot;暗中观察&quot;:&quot;80a752e0718db211e4135b4ba821813f4c151e2c.png&quot;,</span><br><span class="line">&quot;么么哒&quot;:&quot;2f418440776e88605ddc426eac898202c1f5fa4d.png&quot;,</span><br><span class="line">&quot;哭哭&quot;:&quot;cbf36e518f1d50618f6d054aa69993ecc339fe8f.png&quot;,</span><br><span class="line">&quot;饿了&quot;:&quot;ff91ea94adf7c5b04db305c18d17b444f7360059.png&quot;,</span><br><span class="line">&quot;问号&quot;:&quot;a905b58b32016a1f0ff7d9193b62749f0d491707.png&quot;,</span><br><span class="line">&quot;嘿嘿&quot;:&quot;8a15a45e228179f912ce11dbd5478f6ad54e9854.png&quot;,</span><br><span class="line">&quot;卖萌&quot;:&quot;a0d37b43d1e786ba811d9b0ae590c479dcce6c44.png&quot;,</span><br><span class="line">&quot;喵&quot;:&quot;eb46e78c9d86ccbe9842f0235c7cb4f4e0e80a57.png&quot;,</span><br><span class="line">&quot;公主连结-不错&quot;:&quot;e0ac5fff71fd2aabd8c20505a548f5bca36bc7a5.png&quot;,</span><br><span class="line">&quot;公主连结-鼓气&quot;:&quot;a3fb7d3a867ba3523e6a0faa2ca42af797328d6d.png&quot;,</span><br><span class="line">&quot;公主连结-害怕&quot;:&quot;c305b2bd36063b700fd9fac093c21639c0806138.png&quot;,</span><br><span class="line">&quot;公主连结-惊吓&quot;:&quot;57ad87c4e597a366dac713ad4800cecbd520175e.png&quot;,</span><br><span class="line">&quot;公主连结-来啊&quot;:&quot;a82ab04d1a10c742b5eadafb2a0e04d77daa84d4.png&quot;,</span><br><span class="line">&quot;公主连结-累死了&quot;:&quot;8c68c16f8f4c79f14bb16c6ea64378d77abdf0d0.png&quot;,</span><br><span class="line">&quot;公主连结-冷漠&quot;:&quot;04a257a00ae097d61498db6118f6da393d4c85b7.png&quot;,</span><br><span class="line">&quot;公主连结-厉害了&quot;:&quot;066c5c59e39f163345d2a41123d53596b39a2ce3.png&quot;,</span><br><span class="line">&quot;公主连结-你干嘛&quot;:&quot;422897481963e6efdd93dce8581c112e7af80a1e.png&quot;,</span><br><span class="line">&quot;公主连结-扭扭捏捏&quot;:&quot;4c20cd2aed2598dd18507fdd03c7d39b6eb7842c.png&quot;,</span><br><span class="line">&quot;公主连结-祈祷&quot;:&quot;a63b3da12e46314470413fea6975579b0871d1f8.png&quot;,</span><br><span class="line">&quot;公主连结-思索&quot;:&quot;3c6741be302ec54f152093ab00f950b00a083d6d.png&quot;,</span><br><span class="line">&quot;公主连结-投币&quot;:&quot;6bd0c47917f94d510990db020ce3a7c07ed698e9.png&quot;,</span><br><span class="line">&quot;公主连结-无奈&quot;:&quot;7f78404ee98cc8738b9b738f7e4446a6fdbaff00.png&quot;,</span><br><span class="line">&quot;公主连结-邪恶&quot;:&quot;97d25106924c7f3db1fe26ed7d67db943ffcc92e.png&quot;,</span><br><span class="line">&quot;公主连结-阴谋&quot;:&quot;705f87da382b4c46d6bf19579b62c88bf4aa702c.png&quot;,</span><br><span class="line">&quot;公主连结-怎么这样&quot;:&quot;7461756bf9c49c4b48d1c26083695044b468ad7c.png&quot;,</span><br><span class="line">&quot;公主连结-emmm&quot;:&quot;99ca73b1f486042cd8ab6b17fd5ad638ed777899.png&quot;,</span><br><span class="line">&quot;黄绿合战-带劲&quot;:&quot;fe17a03ae1aeccba2ce018f20f2cb56b33277687.png&quot;,</span><br><span class="line">&quot;黄绿合战-死亡歌姬&quot;:&quot;546e7410afb32c03d4c0207da35a3facc26751e6.png&quot;,</span><br><span class="line">&quot;黄绿合战-哈哈哈&quot;:&quot;e4cf417524002678a7820b2db64716ffc09e3554.png&quot;,</span><br><span class="line">&quot;黄绿合战-打你哦&quot;:&quot;6015705190ce82862e501bec99e2a793c03fb050.png&quot;,</span><br><span class="line">&quot;黄绿合战-真香&quot;:&quot;e4b070c29d34c0b33f819fda59123e14041562c2.png&quot;,</span><br><span class="line">&quot;黄绿合战-蓝蓝路&quot;:&quot;ce7cc43abcc461eb66bbf0528d64f64069a0e95b.png&quot;,</span><br><span class="line">&quot;黄绿合战-吹爆&quot;:&quot;4c33b0a003b74fa25a19d54477db0fcdbc02a621.png&quot;,</span><br><span class="line">&quot;黄绿合战-愤怒&quot;:&quot;0fe37135491b20f6af4d3bead344e5e77dfa6923.png&quot;,</span><br><span class="line">&quot;黄绿合战-威胁&quot;:&quot;f81a006dd53cc84e9c65d7784aa6ca061c3e4fc2.png&quot;,</span><br><span class="line">&quot;黄绿合战-金坷垃&quot;:&quot;a81f44bcaa96b79b5122fc80fa214d47c68d94c6.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-awsl&quot;:&quot;7663b729161bd4556c2ec318c07791000743eb56.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-打call&quot;:&quot;718e9495846db4172eb87d2f7f02015a34d35ea2.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-沉默&quot;:&quot;5e967cf1669743ed92e9a8ff3e5de6d90ca63d3d.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-大哭&quot;:&quot;3f757b147b9b1e201470eae7dac9cc0360172569.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-干杯&quot;:&quot;5cf5e14101be845233a222ab1bbdc21c63af04c3.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-好人卡&quot;:&quot;e3907b3bb20b18e7ecb11cd86829c9a4ce5b1b2f.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-加大力度&quot;:&quot;a0393a2d4b522f07a319dfd2e91754a3cdff2c48.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-滑稽&quot;:&quot;a8057c0e0579b93c16010a270e261fd0a64034af.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-请吃桃&quot;:&quot;e92276d9d8c28f85f7dbcc0fbbb6ecb3345ce33e.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-惊讶&quot;:&quot;9fdc2c5b4b970aded56fe2f326bd4d00e849339d.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-生气&quot;:&quot;9e6ba9ff34101e04d3e321cad486f845f892050e.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-贴贴&quot;:&quot;dbc177d314231add509501ffc6bc7655fca2c10f.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-头晕&quot;:&quot;49830c1c8a1652f7ee9cb854ac7dbf8e378cdcd6.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-问号&quot;:&quot;ab7a543233eff83138c3221c86a762ab36bab7bc.png&quot;,</span><br><span class="line">&quot;泠鸢yousa-真棒&quot;:&quot;02ea49543a3ac52feee185c156ab08fb2bfdd89e.png&quot;,</span><br><span class="line">&quot;墨清弦2nd-抱抱&quot;:&quot;f215e60e88a8438ff5dddca3bc92abd22d8d150a.png&quot;,</span><br><span class="line">&quot;墨清弦2nd-点赞&quot;:&quot;4e2638870787e0dd517f90db0b3a6e330f8a938a.png&quot;,</span><br><span class="line">&quot;墨清弦2nd-加载中&quot;:&quot;6e4d53dab5eb1093699023c7c65b11853d84efa6.png&quot;,</span><br><span class="line">&quot;墨清弦2nd-惊讶&quot;:&quot;d6d1a3d87105da8e7dab81c19d7ee7c87e4b841a.png&quot;,</span><br><span class="line">&quot;墨清弦2nd-撒花&quot;:&quot;c48eb34795a62462010a5fceab4b0c5e98c4568c.png&quot;,</span><br><span class="line">&quot;墨清弦2nd-生气&quot;:&quot;4ae1fab6730f31f02de78729e6c598d46a150937.png&quot;,</span><br><span class="line">&quot;墨清弦2nd-无语&quot;:&quot;418411091500eeee0b3739dac811046376523a1f.png&quot;,</span><br><span class="line">&quot;墨清弦2nd-吸猫&quot;:&quot;54d08d99ec7afe5068c459a918744226d203937b.png&quot;,</span><br><span class="line">&quot;墨清弦2nd-小心心&quot;:&quot;0dcc75854514878c77196a9a37e876c30b0096d3.png&quot;,</span><br><span class="line">&quot;墨清弦2nd-蹲墙角&quot;:&quot;57e71776e1b24675302c331f1bf6a3e6e2ab095e.png&quot;,</span><br><span class="line">&quot;双生视界-星星眼&quot;:&quot;8660b2eeb15d9cf6a7ecb4fdad66b15366623a33.png&quot;,</span><br><span class="line">&quot;双生视界-二胡爱豆&quot;:&quot;9dcf4bc97143b64574cbb1865c74850eda5f554a.png&quot;,</span><br><span class="line">&quot;双生视界-惊讶&quot;:&quot;67dd0a4443eaf2ec43d90bdcfd3011d9ed84dbf8.png&quot;,</span><br><span class="line">&quot;双生视界-问号&quot;:&quot;018e9f627a5f0ae5fd8a54cd6c0b6f368b38b59c.png&quot;,</span><br><span class="line">&quot;双生视界-为友谊干杯&quot;:&quot;587dc47855c47f5147689d7fd2cabd65ed878243.png&quot;,</span><br><span class="line">&quot;双生视界-无所谓&quot;:&quot;cad0261d1b8afee6b26c6044bb0f89a16c313554.png&quot;,</span><br><span class="line">&quot;双生视界-傲娇脸&quot;:&quot;d33421f2b2d8e07359c2468579155dc2609b326a.png&quot;,</span><br><span class="line">&quot;双生视界-叹气&quot;:&quot;d471550062990d2aab313756b314ed1dcd0eef01.png&quot;,</span><br><span class="line">&quot;双生视界-暗中观察&quot;:&quot;f47dcd2d6c5902ff050a59b60b705222c3fbc041.png&quot;,</span><br><span class="line">&quot;双生视界-推眼镜&quot;:&quot;e602c2d6248b394fdfed808f8d82ef59e907ab38.png&quot;,</span><br><span class="line">&quot;双生视界-祈祷&quot;:&quot;9159c23e7d3f7f52852b4dd8b3d8090f3c8c6365.png&quot;,</span><br><span class="line">&quot;双生视界-加油&quot;:&quot;0f9bc49ee7bea906014dabab5925b9e94d5f4e04.png&quot;,</span><br><span class="line">&quot;双生视界-摸头&quot;:&quot;055949523a71fd36902e164840baa99d56bfa7be.png&quot;,</span><br><span class="line">&quot;双生视界-比心&quot;:&quot;9c9cc7f0be191832c8edfc6f9f72f66ea016f26b.png&quot;,</span><br><span class="line">&quot;碧蓝航线2020-在干嘛&quot;:&quot;9c06bdeb30020a371ddc7e270a28c7e9258d015b.png&quot;,</span><br><span class="line">&quot;碧蓝航线2020-肚子饿&quot;:&quot;bff006e519a559efb9de40650fc9380896d93cd7.png&quot;,</span><br><span class="line">&quot;碧蓝航线2020-心动&quot;:&quot;52292b36f79846eab78fcf2d0c12968a3f275974.png&quot;,</span><br><span class="line">&quot;碧蓝航线2020-hentai&quot;:&quot;35412053f8ff647dbe212da23732d40d9d199fe9.png&quot;,</span><br><span class="line">&quot;碧蓝航线2020-？！&quot;:&quot;186d60f1c56ede58e90a80dab547707bad76d890.png&quot;,</span><br><span class="line">&quot;碧蓝航线2020-睡着了&quot;:&quot;53a8e58439b1167e49bb12321ceba5ce1bc6ee11.png&quot;,</span><br><span class="line">&quot;碧蓝航线2020-对不起&quot;:&quot;1155bccc622cff541a464ced243032162c24bcc9.png&quot;,</span><br><span class="line">&quot;碧蓝航线2020-加油&quot;:&quot;b599816346acb31167fe2c9c8d8f73f54fdf368d.png&quot;,</span><br><span class="line">&quot;碧蓝航线2020-委屈&quot;:&quot;01fab29ac4abffe30f08fca4b7649cf00b1c3152.png&quot;,</span><br><span class="line">&quot;碧蓝航线2020-晕&quot;:&quot;a9e56cb4e2b0f3a8350304877d7c1142f65fe70c.png&quot;,</span><br><span class="line">&quot;明日方舟-喷喷&quot;:&quot;10e7f252d5106d46cb47c666e4c2e693bfa66959.png&quot;,</span><br><span class="line">&quot;明日方舟-溜了&quot;:&quot;a103c00f0f4be3bd674723802d712980196817f4.png&quot;,</span><br><span class="line">&quot;明日方舟-嘿嘿&quot;:&quot;14dd3de8f576204ee6d9c4948f8fa360ae82041c.png&quot;,</span><br><span class="line">&quot;明日方舟-怎么回事&quot;:&quot;6cb24d88e87d34584350559fb92da9104ad14d77.png&quot;,</span><br><span class="line">&quot;明日方舟-吃瓜&quot;:&quot;b0c87e42fdb27b6683a3ae873a89383e789a38f3.png&quot;,</span><br><span class="line">&quot;明日方舟-不可以哦&quot;:&quot;1a4e9cfe14ca3d5e35e25671f1dd3451d0f1e562.png&quot;,</span><br><span class="line">&quot;明日方舟-喧嚣的风&quot;:&quot;c4d1b6fb903d2e6d74c0ab0a31029fe184c95c14.png&quot;,</span><br><span class="line">&quot;明日方舟-哭了&quot;:&quot;553937828ebbacd15edb7f4c8b0d6ff94b2aafd0.png&quot;,</span><br><span class="line">&quot;明日方舟-不好意思&quot;:&quot;9a411c1930b4679fd5ef5419ce5268c4271efe5c.png&quot;,</span><br><span class="line">&quot;明日方舟-一下就好&quot;:&quot;7ec17d337981a9a01062160812324289801ed78c.png&quot;,</span><br><span class="line">&quot;萌妻食神-awsl&quot;:&quot;98c3159d9f5a9b430673fd2c890a8702446e39e3.png&quot;,</span><br><span class="line">&quot;萌妻食神-喝奶茶&quot;:&quot;0cd3fb06310a895966d9b995d6da607b1b273d42.png&quot;,</span><br><span class="line">&quot;萌妻食神-加鸡腿&quot;:&quot;dea9dc10bc01a53b38d014812b2dff0c4803247e.png&quot;,</span><br><span class="line">&quot;萌妻食神-撒娇&quot;:&quot;9ba56aa6b47883baa0c13e4dd651dab27ef714fb.png&quot;,</span><br><span class="line">&quot;萌妻食神-秀&quot;:&quot;bcf0242ff713557a7fedd4eccaa216803ea8fcbc.png&quot;,</span><br><span class="line">&quot;萌妻食神-危&quot;:&quot;da7f4a8543a58dea684e654b8322a489fbc61544.png&quot;,</span><br><span class="line">&quot;萌妻食神-中毒&quot;:&quot;46672e56ad0cca4eb7f3d1eda8206613ae47f100.png&quot;,</span><br><span class="line">&quot;萌妻食神-主角buff&quot;:&quot;c1e8a70bc76d928a9e78d59208774aaec930b7ef.png&quot;,</span><br><span class="line">&quot;萌妻食神-馋&quot;:&quot;d1979c5ba302541a047bc13463b3dc167919a5fa.png&quot;,</span><br><span class="line">&quot;萌妻食神-饱了&quot;:&quot;d0d8725c1c0a429a193ed1b5995f3a36cf78db14.png&quot;,</span><br><span class="line">&quot;百鬼幼儿园-加油&quot;:&quot;bfa0cf8377987c81edb0e55c9d0664c863f509fd.png&quot;,</span><br><span class="line">&quot;百鬼幼儿园-惊讶&quot;:&quot;9252fdff361ed5cce4ca6607f49f5b4d496bd224.png&quot;,</span><br><span class="line">&quot;百鬼幼儿园-尴尬&quot;:&quot;ae923d9550c363b5d71cea40dc374d2bfb375d52.png&quot;,</span><br><span class="line">&quot;百鬼幼儿园-噗嗤&quot;:&quot;fe0773c465d917b7e823641e21194ae6fc9937ff.png&quot;,</span><br><span class="line">&quot;百鬼幼儿园-气抖冷&quot;:&quot;392142cb6e0c89e159b4c27cb9419a0650c54c04.png&quot;,</span><br><span class="line">&quot;百鬼幼儿园-点赞&quot;:&quot;b51cc481fee291491eded5e25378ca1e2edcf416.png&quot;,</span><br><span class="line">&quot;百鬼幼儿园-小问号&quot;:&quot;472c2454945fbf1288055f7028fe34bc463264c2.png&quot;,</span><br><span class="line">&quot;百鬼幼儿园-晕了&quot;:&quot;6a78a11767714a9dab0a59c2ede37088d76e2ab4.png&quot;,</span><br><span class="line">&quot;百鬼幼儿园-哭哭&quot;:&quot;e6d6bb9e209ca0215b1368f6a08803bde49419f1.png&quot;,</span><br><span class="line">&quot;百鬼幼儿园-生气&quot;:&quot;983c8bb5cc65a673c83a5afab435299c0400e8a1.png&quot;,</span><br><span class="line">&quot;BW2020-欢迎&quot;:&quot;ba2b81cdf3118c703c1ad4ef7e424087a33618cf.png&quot;,</span><br><span class="line">&quot;BW2020-请&quot;:&quot;d775ba5c6f6f58ee272c869a58dd7dae1d1e9355.png&quot;,</span><br><span class="line">&quot;BW2020-你币没了&quot;:&quot;b89e1742ac98ecdc37dbe08b3f01459ba83ca116.png&quot;,</span><br><span class="line">&quot;BW2020-你号没了&quot;:&quot;46031209d17352d86821d5eab36e8a82c6e87e1c.png&quot;,</span><br><span class="line">&quot;BW2020-棒棒哦&quot;:&quot;9c88ffb02d2e2904ca682871584f3b3a696c2348.png&quot;,</span><br><span class="line">&quot;BW2020-我全都要&quot;:&quot;36408633cf896e73451b59ea1c87382aedfa1bd6.png&quot;,</span><br><span class="line">&quot;BW2020-贫穷&quot;:&quot;ea42044e11e949ff221c7746db766e75378ac9eb.png&quot;,</span><br><span class="line">&quot;BW2020-期待&quot;:&quot;9ce557b7630660ea80b313f0acfcae8b12c12114.png&quot;,</span><br><span class="line">&quot;BW2020-我太难了&quot;:&quot;efb76d2fa70ee51382f90f239fe65a98cc13c5b5.png&quot;,</span><br><span class="line">&quot;BW2020-震惊&quot;:&quot;8a1eef67bd3ede9bc29fbd76e9a8df091403d108.png&quot;,</span><br><span class="line">&quot;洛天依-goodjob&quot;:&quot;a781b75de326488ba00c937f0d89b4eaba6a0ca0.png&quot;,</span><br><span class="line">&quot;洛天依-啊这&quot;:&quot;dadc58388430910b08339280054f3a776e6a9968.png&quot;,</span><br><span class="line">&quot;洛天依-爱你&quot;:&quot;f73b23dfef03618e1085507f248f70342c62b203.png&quot;,</span><br><span class="line">&quot;洛天依-嘲笑&quot;:&quot;0e5fef3f683b7989b036f587a143443a21fc27e2.png&quot;,</span><br><span class="line">&quot;洛天依-吃瓜&quot;:&quot;9935546bf88cede6dd8a7c7e31af192ece3d48a8.png&quot;,</span><br><span class="line">&quot;洛天依-害羞&quot;:&quot;6f252dc101140281ee67d39b089107086d51557b.png&quot;,</span><br><span class="line">&quot;洛天依-捏捏&quot;:&quot;ae4e9a000dcbc9c95f72157886d5b06d907d75c6.png&quot;,</span><br><span class="line">&quot;洛天依-恰柠檬&quot;:&quot;0fd022ad0d3aab8c1838a154aead476155a1e32c.png&quot;,</span><br><span class="line">&quot;洛天依-耶&quot;:&quot;2c149fb2c7f5ed2132301b8dbf9ce91b706b65c8.png&quot;,</span><br><span class="line">&quot;洛天依-震惊&quot;:&quot;ba0fecf913a690a9b36b01a09b8140396b995c96.png&quot;,</span><br><span class="line">&quot;言和7th-不好意思&quot;:&quot;770cab6905d3563ea98ce41300ab6faa4d72e0bc.png&quot;,</span><br><span class="line">&quot;言和7th-乖巧&quot;:&quot;2cc3e5bd1b74e11d63227626e3e70ccca218b9e8.png&quot;,</span><br><span class="line">&quot;言和7th-来晚了&quot;:&quot;e4bf7d9341cf16e531e59fb3ae00b5099bd74903.png&quot;,</span><br><span class="line">&quot;言和7th-静静看你&quot;:&quot;a073eb677ae33a72b99a0e08fad8d0d597f69d2b.png&quot;,</span><br><span class="line">&quot;言和7th-一键三连&quot;:&quot;033d7dbfd814d9e7baa69a63137157f4b9032b5f.png&quot;,</span><br><span class="line">&quot;言和7th-捶你胸口&quot;:&quot;ad5ce66b4480044c31bbc23598f4209e6be2275d.png&quot;,</span><br><span class="line">&quot;言和7th-期待&quot;:&quot;4d520d8bd5cd2924548a67a96afb898440789fc1.png&quot;,</span><br><span class="line">&quot;言和7th-小fafa&quot;:&quot;efcc742e4c202f631162d6fdfb6e3cbb52a0871b.png&quot;,</span><br><span class="line">&quot;言和7th-不行&quot;:&quot;76ae33697d1942cfbb825acdfdd3de8826dbf10e.png&quot;,</span><br><span class="line">&quot;言和7th-梦里都有&quot;:&quot;c8c714cbaf4022b71c8b8d0e0e374f08865011cf.png&quot;,</span><br><span class="line">&quot;BML云live-打call&quot;:&quot;04b4fb889ad1c462eafda2828cae80fe532f14eb.png&quot;,</span><br><span class="line">&quot;BML云live-22唱歌&quot;:&quot;5497e226a20b2781daf3eb8955d25525b4986f97.png&quot;,</span><br><span class="line">&quot;BML云live-33唱歌&quot;:&quot;adb2520d5a3395be7bece8b2a672f9af244e3ae5.png&quot;,</span><br><span class="line">&quot;BML云live-治疗&quot;:&quot;c1d646852f59017a5bddf161255cc4003aac5843.png&quot;,</span><br><span class="line">&quot;BML云live-awsl&quot;:&quot;ca3d2ce904f078d4c761b44febe7e21d676e696a.png&quot;,</span><br><span class="line">&quot;BML云live-点赞&quot;:&quot;e97dcaaf092475e0436403e7d74e2a8ca08e1c7f.png&quot;,</span><br><span class="line">&quot;BML云live-黑化22&quot;:&quot;b657b734c6f23f5d7a8eae5568acea1a1d13a116.png&quot;,</span><br><span class="line">&quot;BML云live-黑化33&quot;:&quot;506b5ee6730f1c7edd269b832af668ba0eab7e05.png&quot;,</span><br><span class="line">&quot;BML云live-上buff&quot;:&quot;c5c94faba4bc3857b2f30883e5bff256fa8215f0.png&quot;,</span><br><span class="line">&quot;BML云live-想桃子&quot;:&quot;1f5c3a1ada53185128b69c2e60bb5bed764ae970.png&quot;,</span><br><span class="line">&quot;天宝伏妖录-不满&quot;:&quot;b056b1793891e5a3b34a46eed38ab21effa90ef6.png&quot;,</span><br><span class="line">&quot;天宝伏妖录-得意&quot;:&quot;4ea81e183c922861fb41c2b025bb6f6923d8503f.png&quot;,</span><br><span class="line">&quot;天宝伏妖录-害羞&quot;:&quot;ae3685de9d563a70a5a32862259e3cc61c9b2e55.png&quot;,</span><br><span class="line">&quot;天宝伏妖录-噗&quot;:&quot;58e4af2e45d346534171372b2069a55c8ea2e905.png&quot;,</span><br><span class="line">&quot;天宝伏妖录-思考&quot;:&quot;cd0986c4ad22b18008ee39d57d9f7762fa4a1f16.png&quot;,</span><br><span class="line">&quot;天宝伏妖录-嘿嘿&quot;:&quot;d81a6bea763b8a2f8081c7732f8d815c4c01f8e7.png&quot;,</span><br><span class="line">&quot;天宝伏妖录-困了&quot;:&quot;95c4580b2f037d51b0d302b28352a6acb85fd7c5.png&quot;,</span><br><span class="line">&quot;天宝伏妖录-比心心&quot;:&quot;00de801845016f3b10598f8831a06b879396e426.png&quot;,</span><br><span class="line">&quot;天宝伏妖录-吓哭&quot;:&quot;ef62c7f4cff2c1339420604811f6117a183da589.png&quot;,</span><br><span class="line">&quot;天宝伏妖录-疑惑&quot;:&quot;657818b36a8e33e8683a8ff371ad80dc960ebc4d.png&quot;,</span><br><span class="line">&quot;中国绊爱-吃惊&quot;:&quot;c590a359bb2c9ec43f695dbe6a40ab03dddc0fcd.png&quot;,</span><br><span class="line">&quot;中国绊爱-大叫&quot;:&quot;3a3ead4ce90b4628213445e873a9aadbb21ef055.png&quot;,</span><br><span class="line">&quot;中国绊爱-点赞&quot;:&quot;9248de5d87737a34f88204156ad0401814cda8e0.png&quot;,</span><br><span class="line">&quot;中国绊爱-吃饺子&quot;:&quot;17f5d04e7891795e1320d27e74f7d85aeb2c42d5.png&quot;,</span><br><span class="line">&quot;中国绊爱-贴贴&quot;:&quot;7525b277cdcbabfe5e5b102fae8260480aaf7682.png&quot;,</span><br><span class="line">&quot;中国绊爱-无语&quot;:&quot;fc9a4bcff2c5f15d9d9926e4e54e701ebf63f46b.png&quot;,</span><br><span class="line">&quot;中国绊爱-笑哭&quot;:&quot;913bcdd8bf756d521dc5c4b89056c09358a1b349.png&quot;,</span><br><span class="line">&quot;中国绊爱-星星眼&quot;:&quot;93954c6b475ffb1e2886aee8f27825b406df2dd7.png&quot;,</span><br><span class="line">&quot;中国绊爱-一手好牌&quot;:&quot;ab3e15c12856fe33da12b88cc7e4f4bcf9c01025.png&quot;,</span><br><span class="line">&quot;中国绊爱-疑惑&quot;:&quot;e85f0568167fe5ecbc1c11911503ac9cd6f98339.png&quot;,</span><br><span class="line">&quot;雾山五行-6到无语&quot;:&quot;ac4d94e66ae9b8f1deca0627acebe81a114f68e7.png&quot;,</span><br><span class="line">&quot;雾山五行-冲鸭&quot;:&quot;b365b7324c9481d0eba0fb0acd6842628316d8d8.png&quot;,</span><br><span class="line">&quot;雾山五行-滑稽&quot;:&quot;69b5d92f512c238dc8aa495fe53ab78984ddca33.png&quot;,</span><br><span class="line">&quot;雾山五行-3连&quot;:&quot;55f0ad3a4e5eee6b2dbf748ef0dbc99e759bc98d.png&quot;,</span><br><span class="line">&quot;雾山五行-我可以&quot;:&quot;74818081982d161516f8430fce4a3ea407398eb0.png&quot;,</span><br><span class="line">&quot;雾山五行-emmm&quot;:&quot;592176e73766c397c7251f8016cbecdd82924278.png&quot;,</span><br><span class="line">&quot;雾山五行-爷关更&quot;:&quot;0dcbc65e50ea0e9f842e00afe35a9fc9e40c99b8.png&quot;,</span><br><span class="line">&quot;雾山五行-真香&quot;:&quot;ec8d6180e3251efd14e150f63238bfba0aebafaa.png&quot;,</span><br><span class="line">&quot;雾山五行-震惊&quot;:&quot;023168735f6eef4de55624ad34669095bc643a7c.png&quot;,</span><br><span class="line">&quot;雾山五行-抓狂&quot;:&quot;444647343e876f2966917bd3e372dca103bb9ed7.png&quot;,</span><br><span class="line">&quot;hanser-冲鸭&quot;:&quot;24a647e732334db4b480fdceed213da5ad5b397f.png&quot;,</span><br><span class="line">&quot;hanser-问号&quot;:&quot;cc068ea0960f979aa97f127f643b3258d4131ffd.png&quot;,</span><br><span class="line">&quot;hanser-打咩&quot;:&quot;4e7bfda719083660577661517139e2216c2ab94a.png&quot;,</span><br><span class="line">&quot;hanser-暗中观察&quot;:&quot;3d69c4b4f3a609a981ea7e3d0ee57271eecc63b9.png&quot;,</span><br><span class="line">&quot;hanser-痛哭&quot;:&quot;6233f4a3e5ab2463fe8b1ad0be9ea44a251a011c.png&quot;,</span><br><span class="line">&quot;hanser-小天使&quot;:&quot;397ff298ca19d058dcdb3e4819bff397f5677978.png&quot;,</span><br><span class="line">&quot;hanser-嚯牛奶&quot;:&quot;2c15a8b64f5ef17391f811203d6d77b0fcb7f1da.png&quot;,</span><br><span class="line">&quot;hanser-流啤&quot;:&quot;2f384baada3996b6ca359d2123b0ca2fc9b4d6fe.png&quot;,</span><br><span class="line">&quot;hanser-难以置信&quot;:&quot;7ab9d6418df83d56c95356806c103071656b56ad.png&quot;,</span><br><span class="line">&quot;hanser-贴贴&quot;:&quot;1033765809430b9447ab3866acab72bbd99cfcdd.png&quot;,</span><br><span class="line">&quot;hanser-okk&quot;:&quot;c1938a841979db8cfa3ae1ecd09e77b7c4c60cd0.png&quot;,</span><br><span class="line">&quot;hanser-好听&quot;:&quot;819a1ce156061f4d4fe10577725b947bc4eea0b8.png&quot;,</span><br><span class="line">&quot;hanser-晚安&quot;:&quot;4a26a6c613267c9b0736e17943b94f7210141a05.png&quot;,</span><br><span class="line">&quot;hanser-peach&quot;:&quot;2a5faa62552f7d0a95183c9a35fbad7d0754404d.png&quot;,</span><br><span class="line">&quot;hanser-头毛&quot;:&quot;fda3c45a0c6ba8e1dcb442656fdecbf48a4efa33.png&quot;,</span><br><span class="line">&quot;hanser-awsl&quot;:&quot;f1b6eb2e0459974b7afc0fcb44f3a86b774056fa.png&quot;,</span><br><span class="line">&quot;hanser-滑稽&quot;:&quot;817502997e24ecaf7cc9b753d6d21a65d5e561a2.png&quot;,</span><br><span class="line">&quot;hanser-毛怪惊吓&quot;:&quot;b62900841587a4e91cfbb17de1d4c71c97e8fdae.png&quot;,</span><br><span class="line">&quot;hanser-毛怪哭哭&quot;:&quot;f5baa9b1e4d5a8b5095130eeb26db4d0fdda4ab1.png&quot;,</span><br><span class="line">&quot;hanser-怂呐&quot;:&quot;3421deb1f7ea05b5fa146ad288f2a93ddae759f5.png&quot;,</span><br><span class="line">&quot;hanser-嘤嘤嘤&quot;:&quot;c02c08ce481bc428e84dd622156c0e02043d14eb.png&quot;,</span><br><span class="line">&quot;hanser-早&quot;:&quot;38aeebb04bf936d331faea58278e96b2119aa5af.png&quot;,</span><br><span class="line">&quot;hanser-篮球&quot;:&quot;2ec89d536d7c20205903f5eccb657a2c305bebb3.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-Hi&quot;:&quot;cacd7cd54a1d210cfacd79f5b1f061708c3dba4e.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-呆萌&quot;:&quot;723fce90666cf04f4f3174b95baf249e52e6522f.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-加油&quot;:&quot;e0bef65b438288e9e930b73553aa630aa10157e0.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-哼&quot;:&quot;9453045d9f97902a461e75636bd987c6c9e50ad9.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-OK&quot;:&quot;0109c0bdfde863fe9b755d376c7e4fcf656009ae.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-么么&quot;:&quot;61f399e22983dbdb7edcc73375002d60fd880f1e.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-比心&quot;:&quot;b4baa63379ee8cd70acb7fd79b3075f181ab2e36.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-蟹蟹&quot;:&quot;12c0cca2972500c6cfdb9b1bb544b9c5c5af7114.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-哭了&quot;:&quot;e80c83e30f0660c27850b202dfdde8c22f983788.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-开心&quot;:&quot;e59376a4b4cef728b763d227e83d276b9337212c.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-哈哈&quot;:&quot;ccd1d8003ef381924582102d53838f643ac5a489.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-喝饮料&quot;:&quot;00744b7b2305b1beb4dbe5086dc5b3e35eb88b09.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-哇&quot;:&quot;c4fb8662966828b68d1221c57172c72a43457bb6.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-勾引&quot;:&quot;693877958a8506e8d2648bef2ec7e4c9c2304e85.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-沧桑&quot;:&quot;f021009f03ae2b144298e1f8478c4f1967167924.png&quot;,</span><br><span class="line">&quot;最强蜗牛西能-嗯嗯&quot;:&quot;825ecd22fdfad953e452895886b17c2621231866.png&quot;,</span><br><span class="line">&quot;凹凸世界-你看看你&quot;:&quot;0744b0d90986537934305d19447fd4ddfb877994.png&quot;,</span><br><span class="line">&quot;凹凸世界-hi&quot;:&quot;023bf3b1f2ffbc5c40e93444c4282aeeb8dcffbd.png&quot;,</span><br><span class="line">&quot;凹凸世界-无语&quot;:&quot;99b6a029aadd9b12f435460f6dbaf69b9d06f421.png&quot;,</span><br><span class="line">&quot;凹凸世界-思考&quot;:&quot;69c2b6bc521abcb416d3de50ff89da942e99d40d.png&quot;,</span><br><span class="line">&quot;凹凸世界-好奇&quot;:&quot;ad01c7605a28906ce54c9175e25055727f65139c.png&quot;,</span><br><span class="line">&quot;凹凸世界-你再见&quot;:&quot;a3a1fd56299b06ca3a87e1826cdcccad8b65bf59.png&quot;,</span><br><span class="line">&quot;凹凸世界-毁约&quot;:&quot;078214f4a0469fec4c39c9c5511adea1b56ca0f4.png&quot;,</span><br><span class="line">&quot;凹凸世界-约架&quot;:&quot;78f0a01c5896c977f07af75c3865ea6a9df48191.png&quot;,</span><br><span class="line">&quot;凹凸世界-拒绝&quot;:&quot;2f89fd5dcf2b38ba0165b8c1a78136e0546eb5ef.png&quot;,</span><br><span class="line">&quot;凹凸世界-渣渣&quot;:&quot;95735a5f7d2662236e74c0c2e1c35f6ccf821339.png&quot;,</span><br><span class="line">&quot;凹凸世界-心动&quot;:&quot;e6e560ba6c9d4a14dea67668abb6cd13b62ccb49.png&quot;,</span><br><span class="line">&quot;凹凸世界-决心&quot;:&quot;a909e59602760de85c22c13449b53691087f88a1.png&quot;,</span><br><span class="line">&quot;凹凸世界-耍帅&quot;:&quot;3e140121b2ac2ac6e26e76ed4d849256c7bc5aff.png&quot;,</span><br><span class="line">&quot;凹凸世界-算了算了&quot;:&quot;b6e8d5383ed9d726d4af231d53d0bcf88ff9dd65.png&quot;,</span><br><span class="line">&quot;凹凸世界-告辞&quot;:&quot;9edab012cb868a881e809bf9d71f8a533c2596aa.png&quot;,</span><br><span class="line">&quot;凹凸世界-强忍怒气&quot;:&quot;07ddf500067da6d41d8678d866dd8d69f468a400.png&quot;,</span><br><span class="line">&quot;Cat-escort&quot;:&quot;81784f53f5ca7004a90d316c81889d8161dc05a6.png&quot;,</span><br><span class="line">&quot;Cat-coffeebath&quot;:&quot;f80cfd44e0f216f4171a549e869aab32d80d4c39.png&quot;,</span><br><span class="line">&quot;Cat-stealth&quot;:&quot;21f7d24b1e8de29f2c61f64e70af9f6aec14e394.png&quot;,</span><br><span class="line">&quot;Cat-hightouch&quot;:&quot;3d7264b8349bc1be6d45beebbcfab69e7b9895fc.png&quot;,</span><br><span class="line">&quot;Cat-lonely&quot;:&quot;72a9d2f20fb79883bbed3cac914187545ac3a0cc.png&quot;,</span><br><span class="line">&quot;Cat-heart&quot;:&quot;3f98c4debfe792a1969b99ae71f7f5d4bf00c3d5.png&quot;,</span><br><span class="line">&quot;Cat-slip&quot;:&quot;a6e45e065ed17e2af03f7263784bc36d94b25e74.png&quot;,</span><br><span class="line">&quot;Cat-chips&quot;:&quot;12d2d3ce0e72749c45706444cca580dc22148876.png&quot;,</span><br><span class="line">&quot;Cat-study&quot;:&quot;9f6d28ecd7e33c3f5e7cd74cc36f4feedb42e995.png&quot;,</span><br><span class="line">&quot;Cat-dash&quot;:&quot;0f2d1f99efd5df816c694da76e91a173fa643589.png&quot;,</span><br><span class="line">&quot;Cat-pressure&quot;:&quot;c6c270e9989e7152457b907595a6e34064d0c1b2.png&quot;,</span><br><span class="line">&quot;Cat-hibye&quot;:&quot;9e4955f479a1211d401fbaa71ceaf5186b9e57bd.png&quot;,</span><br><span class="line">&quot;Cat-confuse&quot;:&quot;107ebcbd4dd5895f4595ea6db963dc4566809c6e.png&quot;,</span><br><span class="line">&quot;Cat-ignore&quot;:&quot;94de4f63a5f965ee8312a88e4c57c07c0174acce.png&quot;,</span><br><span class="line">&quot;Cat-agree&quot;:&quot;48b00f75518a727d64c385fe8ca2fa49aeb08c77.png&quot;,</span><br><span class="line">&quot;Cat-fight&quot;:&quot;e39c491906d0fcd0176eede702305655d44044c5.png&quot;,</span><br><span class="line">&quot;Cat-splash&quot;:&quot;9513157fed2425ed2caa4eb9bc84a0bca80df9bc.png&quot;,</span><br><span class="line">&quot;Cat-calledme&quot;:&quot;aacb6fb852f6acbbc8386ecef76c98b77178e23e.png&quot;,</span><br><span class="line">&quot;Cat-sleep&quot;:&quot;39b964d10bde1634f136b662f5b624fcb3bcedb8.png&quot;,</span><br><span class="line">&quot;Cat-congrats&quot;:&quot;98f6e73340d9ed43403242fc842e42508d38bba6.png&quot;,</span><br><span class="line">&quot;约战-咕咕咕&quot;:&quot;259e9c54962481ad9d602f3964cfc53480aec319.png&quot;,</span><br><span class="line">&quot;约战-抱抱&quot;:&quot;6b4a875cf8337c8303cf5d50e83abd5c8ac98b89.png&quot;,</span><br><span class="line">&quot;约战-优秀&quot;:&quot;5c258df3f2b293d38c46b5a6d1cc1b23c15bcd1e.png&quot;,</span><br><span class="line">&quot;约战-哈哈哈&quot;:&quot;102429ef4472311f4302d090f1cfca17d5c22578.png&quot;,</span><br><span class="line">&quot;约战-哼&quot;:&quot;09014ac4eb06d192973d3d84ef8e705aad45d7a2.png&quot;,</span><br><span class="line">&quot;约战-看什么&quot;:&quot;541536f0b0e04982ec47c37320a1633cdf632788.png&quot;,</span><br><span class="line">&quot;约战-嘲讽&quot;:&quot;783711e6efdaa27e5f806eb51d13f54eeea5ad16.png&quot;,</span><br><span class="line">&quot;约战-爱你&quot;:&quot;f81196ed09432c529dde408b1d0c5a74a9698ee9.png&quot;,</span><br><span class="line">&quot;约战-OTL&quot;:&quot;0fcba8e5ec5fc4db26d77689b789c9eaf1665f6e.png&quot;,</span><br><span class="line">&quot;约战-谢谢&quot;:&quot;50f8da26da23b7b9cdad2f856d1af1e13566caf5.png&quot;,</span><br><span class="line">&quot;约战-暗中观察&quot;:&quot;c2ea1643f0617a31658c5306cc004271cd6f60ba.png&quot;,</span><br><span class="line">&quot;约战-怪我咯&quot;:&quot;1364dcf5635a03719fe2596c5f35efdd492b9513.png&quot;,</span><br><span class="line">&quot;约战-嗯嗯&quot;:&quot;9875cebe34813ec273a54d6a1ffd937c02c4b2c9.png&quot;,</span><br><span class="line">&quot;约战-盯&quot;:&quot;9870ba5222fed1155741ee997b5964545ed90f8b.png&quot;,</span><br><span class="line">&quot;约战-没关系&quot;:&quot;e57f5b6cb60e20e8ab6c59e5faaafde2dc7f914b.png&quot;,</span><br><span class="line">&quot;约战-晚安&quot;:&quot;bc311fd1027be9033a1a013b9a199cecac05f834.png&quot;,</span><br><span class="line">&quot;阿库娅-才女才女&quot;:&quot;17a7afaabf31847bfe9b6a876f9abbab5c772197.png&quot;,</span><br><span class="line">&quot;阿库娅-害羞&quot;:&quot;8953fa1c257c48c9ad62363cd6e2de103d77fa85.png&quot;,</span><br><span class="line">&quot;阿库娅-不关我事&quot;:&quot;2d4dbec9642e9a76859a33eef49705aa0957ba85.png&quot;,</span><br><span class="line">&quot;阿库娅-惊讶&quot;:&quot;01c6134e28b3de73b7af38dad8f6176523604830.png&quot;,</span><br><span class="line">&quot;阿库娅-余裕余裕&quot;:&quot;dd86f209f72c687c72a8485a1f533c01b61ca1b7.png&quot;,</span><br><span class="line">&quot;阿库娅-哭了&quot;:&quot;9fe8cc425e8e46ab9d2fc2868a4dcb1c1f8bd62e.png&quot;,</span><br><span class="line">&quot;阿库娅-理解理解&quot;:&quot;7a93d37df6cbeb7c340400ad6aa761c2769a3477.png&quot;,</span><br><span class="line">&quot;阿库娅-生气&quot;:&quot;d6d5abe555c97ceaa0e7d822fa6c55e4dfcd7057.png&quot;,</span><br><span class="line">&quot;阿库娅-无语&quot;:&quot;b686e3064484ec1d38747d7f9dc9a5e2a6275fde.png&quot;,</span><br><span class="line">&quot;阿库娅-Rua！&quot;:&quot;cbcda2a1c728f578d8b941e742fe65345c529fee.png&quot;,</span><br><span class="line">&quot;阿库娅-nice&quot;:&quot;78dfe9ee6058ac7cf43af82665b5d6f6fc265dcf.png&quot;,</span><br><span class="line">&quot;阿库娅-喜欢&quot;:&quot;f97b2d05b7cd127b58ed93ebf92fdfc80d6d9366.png&quot;,</span><br><span class="line">&quot;阿库娅-对不起&quot;:&quot;046207b5eba4c71ecd98ac369b6d299b5f9f1ea1.png&quot;,</span><br><span class="line">&quot;阿库娅-嫌弃&quot;:&quot;e73c8366b6a7121f8eeeecbe2db9407d03ccd325.png&quot;,</span><br><span class="line">&quot;阿库娅-洋葱问号&quot;:&quot;cd8ece00df1c19075077187bfb3aeb259678a5c5.png&quot;,</span><br><span class="line">&quot;神楽Mea-拜托拜托&quot;:&quot;2acfdf866cb9d5bc6efa4dcfbe1baebd0bbb3550.png&quot;,</span><br><span class="line">&quot;神楽Mea-不可以&quot;:&quot;21b61235610e77bd43e9b7dcd382cfc2cbc7feb9.png&quot;,</span><br><span class="line">&quot;神楽Mea-给我钱&quot;:&quot;974c4f3235570125e72eda6c664300d882945000.png&quot;,</span><br><span class="line">&quot;神楽Mea-哈哈哈&quot;:&quot;d4e82312c2b7ae24db07dc0748e82ed3f6a88d1b.png&quot;,</span><br><span class="line">&quot;神楽Mea-哭给你看&quot;:&quot;d167505d1c2ce0b39ec8c8067b28dae02152873c.png&quot;,</span><br><span class="line">&quot;神楽Mea-理解一下&quot;:&quot;d21660312d5bcc063cdcae2022b3e68a5b57e3da.png&quot;,</span><br><span class="line">&quot;神楽Mea-略略略&quot;:&quot;dd0870cc8d7245f89c02dbe32ecf94c4d28e05c6.png&quot;,</span><br><span class="line">&quot;神楽Mea-啾咪&quot;:&quot;50bc780ccba96dc0d8170f70b9671eea69f02abf.png&quot;,</span><br><span class="line">&quot;神楽Mea-咩&quot;:&quot;80bfbba75128aaff8cf6dfe2ee427543aa28e9a5.png&quot;,</span><br><span class="line">&quot;神楽Mea-你很可爱&quot;:&quot;dade9e98431c10884291e7fd1f5e94a04234a4ec.png&quot;,</span><br><span class="line">&quot;神楽Mea-不满么&quot;:&quot;85d4f513ea20b1328ca82bf35979577b7841dd51.png&quot;,</span><br><span class="line">&quot;神楽Mea-我错了&quot;:&quot;b17d7f543cee4ee00716e4ba8b88d1e0e7d9d410.png&quot;,</span><br><span class="line">&quot;神楽Mea-嘲讽&quot;:&quot;fc54866b7729bdc1bd7b013c31c1b5a26eeba78e.png&quot;,</span><br><span class="line">&quot;神楽Mea-kimo&quot;:&quot;644c67b7e47042dddeb29c4e4ed8ccc576fabe8a.png&quot;,</span><br><span class="line">&quot;神楽Mea-戳便便&quot;:&quot;c2f1414549d0ab115ff6c8c3f15efbd22a4eab26.png&quot;,</span><br><span class="line">&quot;新科娘-点赞&quot;:&quot;5bfe27f5e4a6ad02ee59d9b8bd20fc9d8184587a.png&quot;,</span><br><span class="line">&quot;新科娘-得意&quot;:&quot;60fd99ca2185527aee51d02b45cede4faeff4b6c.png&quot;,</span><br><span class="line">&quot;新科娘-花手&quot;:&quot;4e023ba73a9da2d71a5df3e117e83eca13332b65.png&quot;,</span><br><span class="line">&quot;新科娘-懵逼&quot;:&quot;e80da4371fc3990c1f99266e589793edff062890.png&quot;,</span><br><span class="line">&quot;新科娘-妙啊&quot;:&quot;06ea7e92dfa7d6667da3406080d05eea633d31f8.png&quot;,</span><br><span class="line">&quot;新科娘-过分了&quot;:&quot;640f8f43d7541635d4c1c726dfee7a786a3a1ecb.png&quot;,</span><br><span class="line">&quot;新科娘-我装的&quot;:&quot;799117df9b307ab71d68216a6f9c92e0b8fb0753.png&quot;,</span><br><span class="line">&quot;新科娘-无话可说&quot;:&quot;670a8e5e42bc6f1457e9939b4ad771983ac4b192.png&quot;,</span><br><span class="line">&quot;新科娘-这题不会&quot;:&quot;78a1b73de15a4755764bfe8bbac45cde681ac7c0.png&quot;,</span><br><span class="line">&quot;新科娘-我哭了&quot;:&quot;2ae4ae0d6e52569984b41c9b41e9f66fc123bdc3.png&quot;,</span><br><span class="line">&quot;初音未来-抱抱&quot;:&quot;193259652bf6d72a9c52f8111fcd412b31d79298.png&quot;,</span><br><span class="line">&quot;初音未来-nice&quot;:&quot;7f3445c37e0cacaeeeb9a9bbbc7138872ddfbc19.png&quot;,</span><br><span class="line">&quot;初音未来-GKD&quot;:&quot;44caa7ec800837d8860482c214ac792f4c37c490.png&quot;,</span><br><span class="line">&quot;初音未来-问号&quot;:&quot;eaa4e51f78ff3ba6b7a1606d0fb44482515b4424.png&quot;,</span><br><span class="line">&quot;初音未来-吃惊&quot;:&quot;4c262d6c0686391ef129f0c2dcca0a600018f47d.png&quot;,</span><br><span class="line">&quot;初音未来-干杯&quot;:&quot;c5d1de20038102c003c04bb7505de51b91e39fd5.png&quot;,</span><br><span class="line">&quot;初音未来-端碗&quot;:&quot;3de27d6f8e01b1a8db09a64a56d3a744b33ad435.png&quot;,</span><br><span class="line">&quot;初音未来-害怕&quot;:&quot;7fedbd2eb20d6e30985b02c086392f1386db2b9c.png&quot;,</span><br><span class="line">&quot;初音未来-加油&quot;:&quot;4943a9be0a3134125c7d585b4dafde79a9a1990a.png&quot;,</span><br><span class="line">&quot;初音未来-哭了&quot;:&quot;db9b01e5808967a32ed644b490ab47faf0f29ce3.png&quot;,</span><br><span class="line">&quot;初音未来-困了&quot;:&quot;3d442c1d2acc751489ec43d55e5d3b7042e49910.png&quot;,</span><br><span class="line">&quot;初音未来-鬼脸&quot;:&quot;91b2bb5d0db1a668f3269059a809e5330f0a2bd0.png&quot;,</span><br><span class="line">&quot;初音未来-期待&quot;:&quot;f361daba4c64775b05f45fd241eb43072258accd.png&quot;,</span><br><span class="line">&quot;初音未来-生气&quot;:&quot;c527e61be20dfbddcb21d9c07a26b161b01ecacc.png&quot;,</span><br><span class="line">&quot;初音未来-睡了&quot;:&quot;f9c2088fe82105c0d912e2b3a6c6db52cb1abf7f.png&quot;,</span><br><span class="line">&quot;初音未来-委屈&quot;:&quot;55023c31259200e5c821cac526b36e527f455d43.png&quot;,</span><br><span class="line">&quot;初音未来-无语&quot;:&quot;3e32d47239d8f8f8c70cf58cc79f0f8f17383a23.png&quot;,</span><br><span class="line">&quot;初音未来-喜欢&quot;:&quot;6b4afbd2addead54037ba31988e8631a7fb9956a.png&quot;,</span><br><span class="line">&quot;初音未来-嫌弃&quot;:&quot;6560007ff02d8261dc36a55c58601cf8d7d2a680.png&quot;,</span><br><span class="line">&quot;初音未来-再见&quot;:&quot;06094b87ef45f7513bb4c22e049612d62cd5cd8e.png&quot;,</span><br><span class="line">&quot;七海-比心&quot;:&quot;ecb4142b45c98f3f9938a45baf7b5a56017328af.png&quot;,</span><br><span class="line">&quot;七海-尴尬&quot;:&quot;c15eff7ae3425cb2cf8b9fd666b19ee98b5c3bf3.png&quot;,</span><br><span class="line">&quot;七海-害怕&quot;:&quot;3080aace976d89c5c1078e191b88707b68f12d19.png&quot;,</span><br><span class="line">&quot;七海-惊讶&quot;:&quot;9f4b4d7a2aeb54c0f96ae3aeca14c6eeccb67b29.png&quot;,</span><br><span class="line">&quot;七海-哭哭&quot;:&quot;eb26d93836328afb13a51b979867280622d22b33.png&quot;,</span><br><span class="line">&quot;七海-柠檬&quot;:&quot;f1419f226d508099a85e748223be9570dac312fc.png&quot;,</span><br><span class="line">&quot;七海-捏捏&quot;:&quot;64553ef047ef8433ea57a9d86000e902f8d23171.png&quot;,</span><br><span class="line">&quot;七海-生闷气&quot;:&quot;9ae6980c25442b896c41a0078fa4d935961ad469.png&quot;,</span><br><span class="line">&quot;七海-贴贴&quot;:&quot;1f3328f60e24aed74e49a92c8bf9d21bc58a84e4.png&quot;,</span><br><span class="line">&quot;七海-沉了&quot;:&quot;1ccb28e4d8b775feaeac26a3e80dadbad1b21e05.png&quot;,</span><br><span class="line">&quot;元龙-嘲讽&quot;:&quot;4e6916a48a28c35e6ccf0bcf117fe131d8da247a.png&quot;,</span><br><span class="line">&quot;元龙-偷笑&quot;:&quot;f2d1b3369cd101c7e76b9e622c52946e12eab8e7.png&quot;,</span><br><span class="line">&quot;元龙-生气&quot;:&quot;839729a7cf43d960d4c0a0c57386f6ad3ec8929d.png&quot;,</span><br><span class="line">&quot;元龙-哭哭&quot;:&quot;bd017024114ddccbe78e91d513fdde2fc2137ed3.png&quot;,</span><br><span class="line">&quot;元龙-嫌弃&quot;:&quot;9705f85463bde8e1f8be939a5caaed2f82ad096b.png&quot;,</span><br><span class="line">&quot;元龙-时代变了&quot;:&quot;08579c27468224cc2c03d142f57f9c09ffa534fa.png&quot;,</span><br><span class="line">&quot;元龙-好汉饶命&quot;:&quot;3e267ed30aa9be74ed59e77e75b64e3ac5a9d2a1.png&quot;,</span><br><span class="line">&quot;元龙-捂脸&quot;:&quot;acd37e3530f80e88ea6b8b4fa2e1bd1b1912e114.png&quot;,</span><br><span class="line">&quot;元龙-我错了&quot;:&quot;d4a061a8473929187962f1ff675ccb6a773f7122.png&quot;,</span><br><span class="line">&quot;元龙-我投降&quot;:&quot;31caf8622e4d1a919e10dc825259500c38aa6fa3.png&quot;,</span><br><span class="line">&quot;琉绮Ruki-？？？&quot;:&quot;043a092820fe53ce92e817c4479450abb9f6e46a.png&quot;,</span><br><span class="line">&quot;琉绮Ruki-不是吧&quot;:&quot;634b2d58c727ec910ab44eb249270190788ab1b0.png&quot;,</span><br><span class="line">&quot;琉绮Ruki-吃瓜&quot;:&quot;fcde21ba88f51c9120866629207fdac31f0d2e86.png&quot;,</span><br><span class="line">&quot;琉绮Ruki-刺激&quot;:&quot;645bfc31dbf49d527d9e04a5349763cb7385aa07.png&quot;,</span><br><span class="line">&quot;琉绮Ruki-害羞&quot;:&quot;69f57aa355a4b891739a723f4d147bcbbcd052bd.png&quot;,</span><br><span class="line">&quot;琉绮Ruki-惊呆惹&quot;:&quot;a45a61a41842e4b88187ed1274b8279e529d4124.png&quot;,</span><br><span class="line">&quot;琉绮Ruki-哭哭&quot;:&quot;51f3a7ab019e00a400f43e24b8b17544f9a7984c.png&quot;,</span><br><span class="line">&quot;琉绮Ruki-气鼓鼓&quot;:&quot;be46e705785b9fbbdceea26acbe3270eb48d0fbf.png&quot;,</span><br><span class="line">&quot;琉绮Ruki-身体被掏空&quot;:&quot;6d13a5f3f5e8a8c3be967ab5451aab93b62cb26a.png&quot;,</span><br><span class="line">&quot;琉绮Ruki-思考中&quot;:&quot;59741ff96e5fb3638d563513c22cf109414e9a1a.png&quot;,</span><br><span class="line">&quot;琉绮Ruki-哇哦&quot;:&quot;89f3ba397480e6a346283eae2ca3005aaaf423a8.png&quot;,</span><br><span class="line">&quot;三周年-问号&quot;:&quot;50c4d94a0c1c43cc0faa211f6c9db1cefa892e05.png&quot;,</span><br><span class="line">&quot;三周年-诚信互点&quot;:&quot;275d8d1704202bffeea873e8987fbd66e93adab4.png&quot;,</span><br><span class="line">&quot;三周年-这次一定&quot;:&quot;3b8efa08b5e13cda9a07b2cea7de4ed6ee19e644.png&quot;,</span><br><span class="line">&quot;三周年-我全都要&quot;:&quot;c829dbb621e5b1a8580d2ffee76c9551a4e58e76.png&quot;,</span><br><span class="line">&quot;三周年-谢谢老板&quot;:&quot;ae0832fbcf2c3649f4bdd5ae4703917d688350f2.png&quot;,</span><br><span class="line">&quot;三周年-预定一时爽&quot;:&quot;c22d58c33fc322e1aaa260c7fbe2e1cbcc8fb15a.png&quot;,</span><br><span class="line">&quot;海国之境-爱你哦&quot;:&quot;c54402eb7d3dff754f48b38208b2da68d12a4b9a.png&quot;,</span><br><span class="line">&quot;海国之境-暗中观察&quot;:&quot;58b621c4286149c74cfdfd1a238094667e56fe94.png&quot;,</span><br><span class="line">&quot;海国之境-宝藏男孩&quot;:&quot;03d3b6e0ebe0d2a7baae005f18a1f6852c5055ba.png&quot;,</span><br><span class="line">&quot;海国之境-补防晒&quot;:&quot;5afe1458be76663dcdd966b2c702f2ee447cbf01.png&quot;,</span><br><span class="line">&quot;海国之境-不过如此&quot;:&quot;b7c42e6086babf046f46dbb09aee74f705c942b6.png&quot;,</span><br><span class="line">&quot;海国之境-不会吧&quot;:&quot;def4ddcb6ff83569aaad742f21efedc06b4770b0.png&quot;,</span><br><span class="line">&quot;海国之境-心碎等待&quot;:&quot;2a3611537958d248212ec40dc7bb0a326c33b666.png&quot;,</span><br><span class="line">&quot;海国之境-来份鱼丸&quot;:&quot;e8c7a74663044cd9108355d3c15fc268d1290b04.png&quot;,</span><br><span class="line">&quot;海国之境-你有吗&quot;:&quot;03b3852ef5829a34bb7339bf46247ed953cbbf46.png&quot;,</span><br><span class="line">&quot;海国之境-我不听&quot;:&quot;5a078b201654d49584cec8b2824bf543d5dcc2fb.png&quot;,</span><br><span class="line">&quot;天秤座01-完美&quot;:&quot;40102381f4d5aa1f9a00496483aa1c9f1b30b249.png&quot;,</span><br><span class="line">&quot;天秤座01-奥利给&quot;:&quot;5a1a0244621e11e13e54caef2b65368a0bb2079b.png&quot;,</span><br><span class="line">&quot;天秤座01-打你&quot;:&quot;9356aaec074f3a029d62d85f5d81ed3270c220ff.png&quot;,</span><br><span class="line">&quot;天秤座01-还没复习&quot;:&quot;cae5a62c568e73925f31ba6583c418d1fbd91e89.png&quot;,</span><br><span class="line">&quot;天秤座01-纠结&quot;:&quot;f19b142fb0ac918955244119fb270d40ea647292.png&quot;,</span><br><span class="line">&quot;天秤座01-失落&quot;:&quot;c28f7b52eab7b5a51b3ec323b7306b1ed9800d17.png&quot;,</span><br><span class="line">&quot;天秤座01-叹气&quot;:&quot;e3431e96c0775099cd122730761c7ed58c6ae845.png&quot;,</span><br><span class="line">&quot;天秤座01-贴贴&quot;:&quot;162c3abde34ac490c4b96a05fa85435dae4c6c84.png&quot;,</span><br><span class="line">&quot;天秤座01-我都可以&quot;:&quot;7d6f8857d27ba4965aa3412b402099b224872b04.png&quot;,</span><br><span class="line">&quot;天秤座01-心动&quot;:&quot;c79663b61e7f1988d3b71bce82b23ea8a5e2023d.png&quot;,</span><br><span class="line">&quot;七濑胡桃-吧唧吧唧&quot;:&quot;f546bd678e03bd8e6c69cfdd261371f1d92b4af0.png&quot;,</span><br><span class="line">&quot;七濑胡桃-熬夜&quot;:&quot;6644424251c41faa839baea017b3fe0883403a5f.png&quot;,</span><br><span class="line">&quot;七濑胡桃-泪目&quot;:&quot;5db71ee743192636e00ee9e047871660bdf7024d.png&quot;,</span><br><span class="line">&quot;七濑胡桃-乖巧&quot;:&quot;cdab66521518433e51b45584ac91a9f62861d237.png&quot;,</span><br><span class="line">&quot;七濑胡桃-好饿&quot;:&quot;7b45cfb0165d6a00bd70d97c3c7b4c37255812d5.png&quot;,</span><br><span class="line">&quot;七濑胡桃-紧张&quot;:&quot;00e4a030c5ccb3bf037030c184c2e311ef2d5046.png&quot;,</span><br><span class="line">&quot;七濑胡桃-噗&quot;:&quot;561eeb8bb8c856f9aea90045325536485a976b54.png&quot;,</span><br><span class="line">&quot;七濑胡桃-生气&quot;:&quot;263a846ba5b0bc833b4a72a181cc6c458d1cf9e2.png&quot;,</span><br><span class="line">&quot;七濑胡桃-委屈&quot;:&quot;edcbaf329f7b871895676991383dcaaa0b4e6d29.png&quot;,</span><br><span class="line">&quot;七濑胡桃-我超可爱&quot;:&quot;3aa314c3ad7f34aa7ed51bf1db7e7f9d3f25183c.png&quot;,</span><br><span class="line">&quot;七濑胡桃-我来了！&quot;:&quot;bdc3d96e293d60de32697d24a104d6b6c9b367bf.png&quot;,</span><br><span class="line">&quot;七濑胡桃-有意思&quot;:&quot;e4a37733718d034ad7fcf10d1d4c3ec5e27df951.png&quot;,</span><br><span class="line">&quot;七濑胡桃-元气满满&quot;:&quot;fc0f26bbb665e517d7a7d56633a782277eeb6040.png&quot;,</span><br><span class="line">&quot;七濑胡桃-宅在家&quot;:&quot;459c64c353998240801306404cc14bfa50dadb4f.png&quot;,</span><br><span class="line">&quot;七濑胡桃-缜密分析&quot;:&quot;3df7be1c576b8f59399f4d6a8d60967e4a9aeb68.png&quot;,</span><br><span class="line">&quot;狂三-哒哒哒&quot;:&quot;2545a15ae77e75d5e29f2b9f64c333654b3680d6.png&quot;,</span><br><span class="line">&quot;狂三-气抖冷&quot;:&quot;2830d99ac322a108f2a64688a72f65b6380b2aef.png&quot;,</span><br><span class="line">&quot;狂三-害羞&quot;:&quot;2473a10aeacff20c0660a3224256993e53f3553f.png&quot;,</span><br><span class="line">&quot;狂三-生气了&quot;:&quot;36f66178396dc9e1922fe973edc144953a4c0172.png&quot;,</span><br><span class="line">&quot;狂三-点赞&quot;:&quot;47a315cbefcbf86f5214d19ce96248b8f608c91c.png&quot;,</span><br><span class="line">&quot;狂三-求抱抱&quot;:&quot;4467c3bf837fc74cdb5ebbf1bb13332bf4560b5b.png&quot;,</span><br><span class="line">&quot;狂三-委屈&quot;:&quot;13716f52195ba6192d98e260912520d558b4fa2e.png&quot;,</span><br><span class="line">&quot;狂三-星星眼&quot;:&quot;b9e223f90945941154da0dba0b56b371fbe5c4f7.png&quot;,</span><br><span class="line">&quot;狂三-疑问&quot;:&quot;815ebf15d5431077813e8f80829c3cf0fa19222a.png&quot;,</span><br><span class="line">&quot;狂三-自鲨&quot;:&quot;f6fb6b0d00bf6f7e29e95db125e471df076de83d.png&quot;,</span><br><span class="line">&quot;全职高手-点赞&quot;:&quot;7bb36cd11f1282e5ce817d7e99b9f2f356901f6a.png&quot;,</span><br><span class="line">&quot;全职高手-大佬&quot;:&quot;f5f3147df9bdf50619494d870bd59ab82ed5d4ff.png&quot;,</span><br><span class="line">&quot;全职高手-无语&quot;:&quot;347c7b42085c58c88829a75a9c852ed821046923.png&quot;,</span><br><span class="line">&quot;全职高手-怀疑&quot;:&quot;225670513bb35f9d2b4aacbcb365ce22d979bc2a.png&quot;,</span><br><span class="line">&quot;全职高手-痛哭&quot;:&quot;3814e9603da9d61a2d308477bf6c32b24b50e43c.png&quot;,</span><br><span class="line">&quot;全职高手-快乐&quot;:&quot;a31370b32188a88e8916c380996828e887fcc959.png&quot;,</span><br><span class="line">&quot;全职高手-疯狂输出&quot;:&quot;d87fa069579064d472a490b26fbd1db550e58f91.png&quot;,</span><br><span class="line">&quot;全职高手-看戏&quot;:&quot;1a0c0d1684b37e5f7fdbf3da62793166d3e18896.png&quot;,</span><br><span class="line">&quot;全职高手-摊手&quot;:&quot;a564f0cb8ec26d7445fc0b9c74ce92e52162a535.png&quot;,</span><br><span class="line">&quot;全职高手-偷看&quot;:&quot;53b7df19ff02dce2f4427a447fd3ce7593154a90.png&quot;,</span><br><span class="line">&quot;全职高手-投币&quot;:&quot;2d4680600bef7bae2e91b395113a7550078471dd.png&quot;,</span><br><span class="line">&quot;全职高手-危险凝视&quot;:&quot;ba0d20440cc6073ec04f9a05f0e11dbd660af31a.png&quot;,</span><br><span class="line">&quot;全职高手-盯&quot;:&quot;a4239d255a341ee20d2bc7dc57390e8bc7c4e200.png&quot;,</span><br><span class="line">&quot;全职高手-笑咪咪&quot;:&quot;1a9a1d4dbed7e16fd0a225405ab2af77c1929c1a.png&quot;,</span><br><span class="line">&quot;全职高手-自信&quot;:&quot;b13618dd8c6c26f47c2a14e3c92731e3144e3b93.png&quot;,</span><br><span class="line">&quot;一起看电竞-别浪&quot;:&quot;34c78804e4761dbadbd925e59e9a2073f6696c60.png&quot;,</span><br><span class="line">&quot;一起看电竞-冲冲冲&quot;:&quot;50f4bb75fea784b790cfd6f702b301060d6f9814.png&quot;,</span><br><span class="line">&quot;一起看电竞-别奶了&quot;:&quot;7f3888ce359c09519820699b80b7e99b78ac0d73.png&quot;,</span><br><span class="line">&quot;一起看电竞-救心丸&quot;:&quot;0032bf807a4098c5a51d3babcca80cd0987b6f2a.png&quot;,</span><br><span class="line">&quot;一起看电竞-起飞&quot;:&quot;c13b659a7647f4ab6eebf23a777d18a55c804ddd.png&quot;,</span><br><span class="line">&quot;一起看电竞-翻盘了&quot;:&quot;d5beef7d8cbf8408b95f869893dd322ad45bed2d.png&quot;,</span><br><span class="line">&quot;一起看电竞-这合理么&quot;:&quot;7a67c9d16e5301bd09ad96b033bb1b55e2f9386f.png&quot;,</span><br><span class="line">&quot;一起看电竞-工具人&quot;:&quot;2d29c5be387e446ffee2112e12e9b8b0c73511d0.png&quot;,</span><br><span class="line">&quot;一起看电竞-永远的神&quot;:&quot;9874ecb42767c1310ba90085bc949cebf9a9c743.png&quot;,</span><br><span class="line">&quot;一起看电竞-MVP&quot;:&quot;ca7ebc91582f55f79a4337fd0f396f0c1677f9eb.png&quot;,</span><br><span class="line">&quot;一起看电竞-上流&quot;:&quot;650d870adf0b2751ffcbbf0269d7d4c2120f161d.png&quot;,</span><br><span class="line">&quot;一起看电竞-别墅靠海&quot;:&quot;4897861e60af8f63b49b9b815291aa12b613e97a.png&quot;,</span><br><span class="line">&quot;一起看电竞-摇骰子&quot;:&quot;82adb7e3799363d466f2195ad4758c0e36ef291d.png&quot;,</span><br><span class="line">&quot;一起看电竞-彳亍&quot;:&quot;7642f9c3eeeed8a9e28a5fa982f8f9db52073bda.png&quot;,</span><br><span class="line">&quot;一起看电竞-稳住&quot;:&quot;033c1ed6ffc598759507d3361ae99bf70329e8a7.png&quot;,</span><br><span class="line">&quot;乐正龙牙3rd-打鼓&quot;:&quot;926d6ab8fa50d07124f3fc7cae2f7125b774ae37.png&quot;,</span><br><span class="line">&quot;乐正龙牙3rd-呆住&quot;:&quot;0db83dac949660934b990295e5d6f31112b72bec.png&quot;,</span><br><span class="line">&quot;乐正龙牙3rd-恶魔&quot;:&quot;c300190a1b629ada32edbc0fe44195b369e33150.png&quot;,</span><br><span class="line">&quot;乐正龙牙3rd-天使&quot;:&quot;984c69e1f7d4991631aeaf874d6fbadd7c316bdc.png&quot;,</span><br><span class="line">&quot;乐正龙牙3rd-记仇&quot;:&quot;23e9e4673f5374ba5b90639a069cc1fded51e6fb.png&quot;,</span><br><span class="line">&quot;乐正龙牙3rd-没问题&quot;:&quot;8e49d39ddfc90e74e4f8bba2102349aad9daeb31.png&quot;,</span><br><span class="line">&quot;乐正龙牙3rd-送花&quot;:&quot;b94ae783b4b99e25c70c51ab180d164504d4767f.png&quot;,</span><br><span class="line">&quot;乐正龙牙3rd-修仙&quot;:&quot;50a11ad494b3b45ccb6a5cefda2ba2920e3c42d2.png&quot;,</span><br><span class="line">&quot;乐正龙牙3rd-已阅&quot;:&quot;b10f57f170d986ac512f6ec0715f39a05b64f122.png&quot;,</span><br><span class="line">&quot;乐正龙牙3rd-将军&quot;:&quot;c664387e1026b527d275a52761beb166cb2beddf.png&quot;,</span><br><span class="line">&quot;宇宙机器人-萌&quot;:&quot;cf71f836b9e75e3ae05f39b2b9124007ab5ca7cc.png&quot;,</span><br><span class="line">&quot;宇宙机器人-AWSL&quot;:&quot;a456a86658c2d4654b8411c983776c5df88ff88f.png&quot;,</span><br><span class="line">&quot;宇宙机器人-佛&quot;:&quot;41d252382b1d6fc2b45f01285469fc757ac11a75.png&quot;,</span><br><span class="line">&quot;宇宙机器人-衰&quot;:&quot;22d5c0654aa65609683ce4ac5352bfb27af5e013.png&quot;,</span><br><span class="line">&quot;宇宙机器人-我可以&quot;:&quot;a8650d0f2632410621a5f3cfe0a909fd3a16eafa.png&quot;,</span><br><span class="line">&quot;宇宙机器人-凝视&quot;:&quot;0cfadc834d6206dfcf3412191f1d8a12b4e21c28.png&quot;,</span><br><span class="line">&quot;宇宙机器人-炸裂&quot;:&quot;8d94ccb211716e2b33ad6e341b5e95807374fe36.png&quot;,</span><br><span class="line">&quot;宇宙机器人-起飞&quot;:&quot;69a8bd062e7a13cea4161b87be6d0ce0a02b4247.png&quot;,</span><br><span class="line">&quot;宇宙机器人-前方高能&quot;:&quot;7106278224fb7c9650c2a94931220869851c74fb.png&quot;,</span><br><span class="line">&quot;宇宙机器人-真香&quot;:&quot;a3763fafd0e2cfc979d3d853de8e464bdf1a896a.png&quot;,</span><br><span class="line">&quot;宇宙机器人-奥利给&quot;:&quot;50eb4704b6e027a5388afc104efd7f72f8319cdd.png&quot;,</span><br><span class="line">&quot;宇宙机器人-摸鱼&quot;:&quot;5f7338fc855deb2bf57516308fc582e32a326f75.png&quot;,</span><br><span class="line">&quot;宇宙机器人-我好了&quot;:&quot;8cadb16986b427492d0cb44128919a4f77e0dc3b.png&quot;,</span><br><span class="line">&quot;宇宙机器人-好会啊&quot;:&quot;80809ebfd41eb0401bf11b180be239292fdc4849.png&quot;,</span><br><span class="line">&quot;宇宙机器人-嘴臭&quot;:&quot;117be66a6aa5aeff6a28e4cca3b870c41fd5b3d0.png&quot;,</span><br><span class="line">&quot;宇宙机器人-气死偶咧&quot;:&quot;aec7282a3d4789b7572b66eec6e63576fadc1ec2.png&quot;,</span><br><span class="line">&quot;宇宙机器人-Hmmm&quot;:&quot;20cd2d8f98cfdc2a551e32f7196aee996e54078a.png&quot;,</span><br><span class="line">&quot;宇宙机器人-爱了爱了&quot;:&quot;4b996577810363eed6df59a4a2d72196d8b65446.png&quot;,</span><br><span class="line">&quot;宇宙机器人-吹爆&quot;:&quot;07bac63ec7d21096c08de8329b3a114a148695df.png&quot;,</span><br><span class="line">&quot;宇宙机器人-快跑&quot;:&quot;06856b2d9030842e40ed25f617f3e3b7f6bc947c.png&quot;,</span><br><span class="line">&quot;登乐V计划-心动&quot;:&quot;2bf7e8afe9abf70966bec404e9d0d7104e8f50b2.png&quot;,</span><br><span class="line">&quot;登乐V计划-贴贴&quot;:&quot;f16638e3e7ffedbaccb3bb58c62d79dbb7b2c647.png&quot;,</span><br><span class="line">&quot;登乐V计划-期待&quot;:&quot;0e4cc785bb4e2d9c64a8f102e890540e2c90502b.png&quot;,</span><br><span class="line">&quot;登乐V计划-老箱推了&quot;:&quot;b1e49f5085729f8d460c0c0476c9203f598d46d7.png&quot;,</span><br><span class="line">&quot;登乐V计划-快上车&quot;:&quot;0aac49e9cd4244166b36c2b52990ec8cbb02a386.png&quot;,</span><br><span class="line">&quot;登乐V计划-工具人&quot;:&quot;55f62fd0e0073c86331a985fea951bc2a0fefbdc.png&quot;,</span><br><span class="line">&quot;登乐V计划-干杯&quot;:&quot;824de50f8047b16c133cf6cba683237a1c361390.png&quot;,</span><br><span class="line">&quot;登乐V计划-skr&quot;:&quot;1ca97da8e31e06ccc9405ede560d97acfb484855.png&quot;,</span><br><span class="line">&quot;登乐V计划-33唱歌&quot;:&quot;e63a1c62d3defca46776bbbf0d4777ad40af9e58.png&quot;,</span><br><span class="line">&quot;登乐V计划-22唱歌&quot;:&quot;6beda7da42650a3ca3cacda264c94ae295f656e5.png&quot;,</span><br><span class="line">&quot;芯觉-暗中观察&quot;:&quot;2470f502deb500ac9c509161f237663481fca643.png&quot;,</span><br><span class="line">&quot;芯觉-不！&quot;:&quot;8b174d336ad707c4a33dd8323951ed70933dd0bd.png&quot;,</span><br><span class="line">&quot;芯觉-发呆&quot;:&quot;dced0e100b970775a400b8603d75e12412bd82c6.png&quot;,</span><br><span class="line">&quot;芯觉-发射&quot;:&quot;9e36a7c05dc738ac1c96e723f41536c76618aab0.png&quot;,</span><br><span class="line">&quot;芯觉-冷&quot;:&quot;9f65464d448c404dc765ab3d0ea44dfad08c7a1c.png&quot;,</span><br><span class="line">&quot;芯觉-你不对劲&quot;:&quot;8987d30457bfc44da9a04330397a0431475d7bf3.png&quot;,</span><br><span class="line">&quot;芯觉-委屈&quot;:&quot;5c53e6d7e4b456e5d955a5840ae38862fb3e45aa.png&quot;,</span><br><span class="line">&quot;芯觉-无语&quot;:&quot;934d5d80e7304d9d295a5d598a09b5ce27db8243.png&quot;,</span><br><span class="line">&quot;芯觉-嫌弃&quot;:&quot;2ccea46cba5434825858765a53a024c19dfa772c.png&quot;,</span><br><span class="line">&quot;芯觉-中枪&quot;:&quot;bec3991880dc49913262beb0bccf264e0ac6c4a8.png&quot;,</span><br><span class="line">&quot;鹿乃-？？？&quot;:&quot;502817b928fde334b35425827064258a604579c4.png&quot;,</span><br><span class="line">&quot;鹿乃-awsl&quot;:&quot;ad8ae99242c30893ab71b1219c3d8f1e9040e5e7.png&quot;,</span><br><span class="line">&quot;鹿乃-DD斩&quot;:&quot;b679f56e9784a37eeef17fd7e8136e0aefe25414.png&quot;,</span><br><span class="line">&quot;鹿乃-OK&quot;:&quot;5cef9b3abccf0136eba60e8435dc0cc840aa346b.png&quot;,</span><br><span class="line">&quot;鹿乃-比心&quot;:&quot;cb89f937ccaeef13865e8db9d894da89c1c9d623.png&quot;,</span><br><span class="line">&quot;鹿乃-别在意&quot;:&quot;0890fe596a75f191c415f13b6ba1df1bc4476ce3.png&quot;,</span><br><span class="line">&quot;鹿乃-吃瓜&quot;:&quot;22a727ae7222945e39a7c0d8309040aa6cf7e52e.png&quot;,</span><br><span class="line">&quot;鹿乃-吃桃&quot;:&quot;193313c1722c67d0a96319f46c8fae2962b1ef87.png&quot;,</span><br><span class="line">&quot;鹿乃-打call&quot;:&quot;3152d83475c03d08a7862321a13ba1a85c65ee21.png&quot;,</span><br><span class="line">&quot;鹿乃-打扰了&quot;:&quot;7f99e8ee32fa081f183a25f7993fd7777aa69b4c.png&quot;,</span><br><span class="line">&quot;鹿乃-点赞&quot;:&quot;be3f3d478f961e50266b91bc32d59420a71667c0.png&quot;,</span><br><span class="line">&quot;鹿乃-对不起&quot;:&quot;009ee0707e1bea597a14e93e90a9dd010683128b.png&quot;,</span><br><span class="line">&quot;鹿乃-饿了&quot;:&quot;f09bee2dc540d1d375b4bd51ab885734945e1e09.png&quot;,</span><br><span class="line">&quot;鹿乃-哈哈&quot;:&quot;7e16431075f0656f9b86d211b6dd39a5d35aa5c7.png&quot;,</span><br><span class="line">&quot;鹿乃-好吃&quot;:&quot;976d781ff701e716aa6e16e443d07de77f1e9bf5.png&quot;,</span><br><span class="line">&quot;鹿乃-哼歌&quot;:&quot;b56e39de490efb6be652b138ee59d7767686b897.png&quot;,</span><br><span class="line">&quot;鹿乃-欢迎回来&quot;:&quot;0a735b7bcfcb59ed23b1166122e974b4def96ab5.png&quot;,</span><br><span class="line">&quot;鹿乃-加油&quot;:&quot;bcfaad00596cbb6164ff59a5587f6591c17b51b4.png&quot;,</span><br><span class="line">&quot;鹿乃-惊&quot;:&quot;a5b3c34716d67fde980a18519d8be773f16f8072.png&quot;,</span><br><span class="line">&quot;鹿乃-买买买&quot;:&quot;37fa6aeb13408b854bf13979b5a06918c30d5c02.png&quot;,</span><br><span class="line">&quot;鹿乃-奇怪的知识&quot;:&quot;38b18fa6d102b0d0ed430c4e16c60e224f34bf07.png&quot;,</span><br><span class="line">&quot;鹿乃-生气&quot;:&quot;a435d87d5d33ff16cb6c7c0e97f8de1348fec9a2.png&quot;,</span><br><span class="line">&quot;鹿乃-晚安&quot;:&quot;7e89ab8794d563a65446b9fcd1df6fe8a7cd3496.png&quot;,</span><br><span class="line">&quot;鹿乃-我回来了&quot;:&quot;c003a594bb224caae0e2ab29d99991cf4fedb8e7.png&quot;,</span><br><span class="line">&quot;鹿乃-喜欢&quot;:&quot;60b42d1be3c13dbb0403526508d3368dcad2766b.png&quot;,</span><br><span class="line">&quot;鹿乃-邪魅一笑&quot;:&quot;51e3c0440ded232e576b1b00e5cc3fb46944308f.png&quot;,</span><br><span class="line">&quot;鹿乃-谢谢&quot;:&quot;e22bab597ed1ca3dc6a1c7c88759f1531ce920a6.png&quot;,</span><br><span class="line">&quot;鹿乃-再见&quot;:&quot;257066047f20bb4df5cecdfaffde5c9928b5ede7.png&quot;,</span><br><span class="line">&quot;鹿乃-早安&quot;:&quot;f4687445d085cea242c917b9fd6a11d8e3e4a462.png&quot;,</span><br><span class="line">&quot;鹿乃-真的&quot;:&quot;41a79d3f85a3332f4d7197beee55ca14795a3b56.png&quot;,</span><br><span class="line">&quot;天蝎座-爱你&quot;:&quot;11987f5ffc7b7bfe2593a466d292bb20adbcc1b4.png&quot;,</span><br><span class="line">&quot;天蝎座-暗中观察&quot;:&quot;e54b6ef6746207108ffb27cdaef231d529ec202d.png&quot;,</span><br><span class="line">&quot;天蝎座-吃醋&quot;:&quot;2de6602ed6629c43862df0ae4e64b7b8e833b368.png&quot;,</span><br><span class="line">&quot;天蝎座-画圈圈&quot;:&quot;6bd823b120bd589d26499338884d76b8d68da8f7.png&quot;,</span><br><span class="line">&quot;天蝎座-机智&quot;:&quot;52336560d8f8e2cf1e0c1df7b0c668a1fe9a4e77.png&quot;,</span><br><span class="line">&quot;天蝎座-记仇&quot;:&quot;b531c6781b18c06343f5c1d4a51e055a2f9be102.png&quot;,</span><br><span class="line">&quot;天蝎座-就这？&quot;:&quot;bc155922b8b2789512ff227c9b816d785c16439d.png&quot;,</span><br><span class="line">&quot;天蝎座-掐你&quot;:&quot;5454ac521ce41aac98621e3ad6261381cd76b5d2.png&quot;,</span><br><span class="line">&quot;天蝎座-贴贴&quot;:&quot;21f79307f663bdb1ac7f596b3f5601c876d74f1d.png&quot;,</span><br><span class="line">&quot;天蝎座-邪魅一笑&quot;:&quot;fbc6efacf65718f3d482876a950e06920fa89d75.png&quot;,</span><br><span class="line">&quot;阿萨Aza-？？？&quot;:&quot;8c5e0d11eabc8b741cfb3cd0b1f82b1ec67dbce8.png&quot;,</span><br><span class="line">&quot;阿萨Aza-拜托&quot;:&quot;e3be6d9f087b5d17f5ebc5c339af062e827b875b.png&quot;,</span><br><span class="line">&quot;阿萨Aza-棒&quot;:&quot;e574e9c11742019fbe9630db2cdf4b509bcff11b.png&quot;,</span><br><span class="line">&quot;阿萨Aza-喝牛奶&quot;:&quot;48b11470a28c3eacf75b67175a494443bf95c7e5.png&quot;,</span><br><span class="line">&quot;阿萨Aza-警觉&quot;:&quot;b8ba5f4fd113f414b53b06c4e0c0889b2ce25205.png&quot;,</span><br><span class="line">&quot;阿萨Aza-哭哭&quot;:&quot;d6041cd3e4113febe96de42a7813fea573e626ba.png&quot;,</span><br><span class="line">&quot;阿萨Aza-生气&quot;:&quot;c9586a7e6bc9a550055d659f3a279e67d01749e8.png&quot;,</span><br><span class="line">&quot;阿萨Aza-危&quot;:&quot;00544645d1410f7fc0be5a70d6e97a49cb0862a6.png&quot;,</span><br><span class="line">&quot;阿萨Aza-嘻嘻&quot;:&quot;53cb8f56edf2f89af6bf231ea72d9274eeb527c6.png&quot;,</span><br><span class="line">&quot;阿萨Aza-咋了咋了&quot;:&quot;7c63a7ffa02aa4dc318aba69122b3f1936f00a53.png&quot;,</span><br><span class="line">&quot;天官赐福-害羞&quot;:&quot;6791a36b7c9128067871b5835fc9da7021a09862.png&quot;,</span><br><span class="line">&quot;天官赐福-彩虹屁&quot;:&quot;0c5135e517e6b1135ce8a2d63edca5a911030834.png&quot;,</span><br><span class="line">&quot;天官赐福-钞能力&quot;:&quot;692da3c126ea920681ea80997c6c83e3573e68e6.png&quot;,</span><br><span class="line">&quot;天官赐福-贫穷&quot;:&quot;e13dd84f5c657d8ee2cc506d1d9374e79152c2b2.png&quot;,</span><br><span class="line">&quot;天官赐福-哭&quot;:&quot;68b122e3acbb0aa639755f9c964b90955ae4a982.png&quot;,</span><br><span class="line">&quot;天官赐福-溜了&quot;:&quot;ef88825554eb450ee963607a0c77cda0ddbd2205.png&quot;,</span><br><span class="line">&quot;天官赐福-？？？&quot;:&quot;0e321e0fc2c57066ff1273f1ec535129874032ed.png&quot;,</span><br><span class="line">&quot;天官赐福-满脸高兴&quot;:&quot;3304d0fb2675936d32b819fd17c92e5ac1a9d724.png&quot;,</span><br><span class="line">&quot;天官赐福-请慢用&quot;:&quot;982df9580438be376dced855fe9de5832bce6582.png&quot;,</span><br><span class="line">&quot;天官赐福-喜欢&quot;:&quot;b14b59d86f20ed2e6db45303bf09cd0a9b575bbf.png&quot;,</span><br><span class="line">&quot;天官赐福-突然出现&quot;:&quot;152d6a344a9eb5263d70c20c4f4a5633485eccdf.png&quot;,</span><br><span class="line">&quot;天官赐福-点赞&quot;:&quot;239f1db3eea7e853837aae78d6c21836f2dc3b48.png&quot;,</span><br><span class="line">&quot;天官赐福-尴尬&quot;:&quot;8b56560cbdd3368c7c4adb565bfb398c06931d83.png&quot;,</span><br><span class="line">&quot;天官赐福-机智如我&quot;:&quot;d7f23ad918e1c903f0d79fd904dde3682494d56e.jpg&quot;,</span><br><span class="line">&quot;天官赐福-静静看着你&quot;:&quot;ba48d45c5c2897f583f38ac92e3c14d623821f44.png&quot;,</span><br><span class="line">&quot;天官赐福-看星星&quot;:&quot;f1a852efa34954798cbcbad50da9aa01872ed38e.png&quot;,</span><br><span class="line">&quot;天官赐福-我裂开了&quot;:&quot;190bf5ca7c7d791b35903e8ffcbdbb8075f0f334.png&quot;,</span><br><span class="line">&quot;天官赐福-可怜兮兮&quot;:&quot;8ab881df69d3422c02ccb5ab3f7445b8250f4081.png&quot;,</span><br><span class="line">&quot;天官赐福-起床啦&quot;:&quot;0777dcc169c52ee898d2c1a3635a3ee44baa4d47.png&quot;,</span><br><span class="line">&quot;说唱新世代-蹭吃蹭喝&quot;:&quot;1078a20d43798ed931dca7480065f491d62742c5.png&quot;,</span><br><span class="line">&quot;说唱新世代-变身&quot;:&quot;21e75503755f35683375e984751daafb4ac2950b.png&quot;,</span><br><span class="line">&quot;说唱新世代-加油&quot;:&quot;eb8cb5a902cdc7902c5786e2724a921618e484f2.png&quot;,</span><br><span class="line">&quot;说唱新世代-讲文明&quot;:&quot;bf9c91ed9b7a1d1af969bf7ef4537adb8d593f18.png&quot;,</span><br><span class="line">&quot;说唱新世代-痛苦面具&quot;:&quot;b37c8cfd6bfd926952ea6b06654c4f9bade91404.png&quot;,</span><br><span class="line">&quot;说唱新世代-脚艺人&quot;:&quot;dcaa7bb9521b45da2360ea812656a5d6032795fe.png&quot;,</span><br><span class="line">&quot;说唱新世代-开门&quot;:&quot;630630cd1eb58e548a870a4704bf1b06686d3f38.png&quot;,</span><br><span class="line">&quot;说唱新世代-真漂亮&quot;:&quot;90e624e92c716589075ddf193d95cbcd1dbb8e6c.png&quot;,</span><br><span class="line">&quot;说唱新世代-买买买&quot;:&quot;6a292dad29021751cac53f020db43237df37014b.png&quot;,</span><br><span class="line">&quot;说唱新世代-贞不戳&quot;:&quot;8e137cd0437ef68ed4f50c2b2623c055833d5f53.png&quot;,</span><br><span class="line">&quot;说唱新世代-算一下&quot;:&quot;80b773f42045389416bf3b741e665218bd50802b.png&quot;,</span><br><span class="line">&quot;说唱新世代-我想画&quot;:&quot;9464cbe1b18fafdaa4d52c599808206786a6a55d.png&quot;,</span><br><span class="line">&quot;说唱新世代-无语&quot;:&quot;33a180ef43a18def7e495ec3626f97b000cc3e9e.png&quot;,</span><br><span class="line">&quot;说唱新世代-小太阳&quot;:&quot;a2bdcfe2fb16590d0da346ea84ed8118f1bf8c20.png&quot;,</span><br><span class="line">&quot;说唱新世代-主见&quot;:&quot;8dcf98ed826cc22057b975c1c481f92767dde1de.png&quot;,</span><br><span class="line">&quot;说唱新世代-害羞&quot;:&quot;3a0e2f26cdf320d22b17cefec662d37c2d990772.png&quot;,</span><br><span class="line">&quot;说唱新世代-夸张&quot;:&quot;e9eae3eb9e6b0bb848ef1f8d5674d0f124b2a320.png&quot;,</span><br><span class="line">&quot;说唱新世代-明天吧&quot;:&quot;8a651f42f28b9054a470bd0ecece34e739466c15.png&quot;,</span><br><span class="line">&quot;说唱新世代-说唱叫父&quot;:&quot;65d948a7a576cb056ecf83d651ca406e32275df1.png&quot;,</span><br><span class="line">&quot;说唱新世代-舞王&quot;:&quot;bcdc2d0f0c6c48a846b15489ca448970e74e1400.png&quot;,</span><br><span class="line">&quot;女仆醒-摸了&quot;:&quot;79ecb3bacaa92dcce54d745d6332777cae264bc1.png&quot;,</span><br><span class="line">&quot;女仆醒-吃瓜&quot;:&quot;739c393ec0312e0e655cbe7161b5dc26e2cc07ef.png&quot;,</span><br><span class="line">&quot;女仆醒-咕了&quot;:&quot;41ac098974998742755523227b274d7b13a310f4.png&quot;,</span><br><span class="line">&quot;女仆醒-喝茶&quot;:&quot;200f651f545024d21eefc9bac2e9f59e67c406c3.png&quot;,</span><br><span class="line">&quot;女仆醒-假发&quot;:&quot;9461cf154de7f3bfcfe61bd85aebe7e84272cdef.png&quot;,</span><br><span class="line">&quot;女仆醒-惊讶&quot;:&quot;e9b0f737958dc893940b0ba2c192a7ef1cb005ef.png&quot;,</span><br><span class="line">&quot;女仆醒-彩虹&quot;:&quot;7e264e6f0c7b04c5047f44c6fea7ec018999081f.png&quot;,</span><br><span class="line">&quot;女仆醒-威胁&quot;:&quot;fdc25454d0fcc0c53670c1f92b0b3fe7062ae99b.png&quot;,</span><br><span class="line">&quot;女仆醒-醒醒&quot;:&quot;f2a0ab6d19b53ac5a67a1a79dcdfb6f2255cecc3.png&quot;,</span><br><span class="line">&quot;女仆醒-流鼻血&quot;:&quot;a1ce24457aeb288545821b39053ece6520f84c4a.png&quot;,</span><br><span class="line">&quot;女仆醒-kimo&quot;:&quot;ba71e5e0c3b28e89069899aa7049c7e8e950444e.png&quot;,</span><br><span class="line">&quot;女仆醒-哎嘿嘿&quot;:&quot;1034944853250dedc69a37eeac424cbb9b662382.png&quot;,</span><br><span class="line">&quot;女仆醒-暗中观察&quot;:&quot;a978afd4a7071e90e348210ec4d80a073cde3ff8.png&quot;,</span><br><span class="line">&quot;女仆醒-吃柠檬&quot;:&quot;fef26aa448b69112ef377ac3718d69bb8727847b.png&quot;,</span><br><span class="line">&quot;女仆醒-画稿人&quot;:&quot;49d68463ad88a09a47775d6d4964aa439a27cfad.png&quot;,</span><br><span class="line">&quot;女仆醒-开心&quot;:&quot;b44bcf3c4a3ee5000d1caf8d02c558103f5cd2a2.png&quot;,</span><br><span class="line">&quot;女仆醒-贴贴&quot;:&quot;bb2d03be7028d214f22ad98f29ba71ae12ad4e02.png&quot;,</span><br><span class="line">&quot;女仆醒-想桃吃&quot;:&quot;2fe00745010f3e7f2eb5def7b13652b0298b34a6.png&quot;,</span><br><span class="line">&quot;女仆醒-心痛&quot;:&quot;0e5b7a99d177044b3c34606b2dc7b270d311df81.png&quot;,</span><br><span class="line">&quot;女仆醒-？？？&quot;:&quot;bb0258b7a519404c98e1fd63783cc67538348ac5.png&quot;,</span><br><span class="line">&quot;花园Serena-？？？&quot;:&quot;42f7ab2a562d000929979976d30669bec042662f.png&quot;,</span><br><span class="line">&quot;花园Serena-安详去世&quot;:&quot;cdf595646132b98dcf1d230d351b2738d68f49c3.png&quot;,</span><br><span class="line">&quot;花园Serena-mua&quot;:&quot;20319d3948da83f666a643b2c8103e6da0e36721.png&quot;,</span><br><span class="line">&quot;花园Serena-啊！&quot;:&quot;a2e620950d577a4bae7f52f2143cf23aaa033f9d.png&quot;,</span><br><span class="line">&quot;花园Serena-唉&quot;:&quot;2d046cbbabd4fc39c01cfb268adf4b56fe69d276.png&quot;,</span><br><span class="line">&quot;花园Serena-到点了&quot;:&quot;af2f6c0dd1155f4aefb610cc6d09c135df9e6752.png&quot;,</span><br><span class="line">&quot;花园Serena-恭喜&quot;:&quot;c1d8361755bb135d24b3b4680fe6ba03c086b395.png&quot;,</span><br><span class="line">&quot;花园Serena-画好了&quot;:&quot;07db01e9df3376e659e8e80915dbe469f63939ff.png&quot;,</span><br><span class="line">&quot;花园Serena-哭哭&quot;:&quot;c7e1684e94ca8a1e7dd770df427ce7aa3d106f5b.png&quot;,</span><br><span class="line">&quot;花园Serena-猫菜瘾大&quot;:&quot;b7cc65d17b93ebb50b9a218d8a05dd2a63bccabc.png&quot;,</span><br><span class="line">&quot;花园Serena-猫猫祟祟&quot;:&quot;3fc4273a3cb4b189b473f0e1db51d7c064ae19c3.png&quot;,</span><br><span class="line">&quot;花园Serena-喵&quot;:&quot;4159859e6c9c2e0476299454b6015c2659149e3c.png&quot;,</span><br><span class="line">&quot;花园Serena-神奇按钮&quot;:&quot;d9a1f82dac9133cf7b569c5bcb6fb09595b9f4fa.png&quot;,</span><br><span class="line">&quot;花园Serena-睡&quot;:&quot;ae8ad8fd2a8d14e53938ba7dc7ca22681143dc09.png&quot;,</span><br><span class="line">&quot;花园Serena-头脑发热&quot;:&quot;4c18c565ff57a7eb8f3e43a742653ee5d5a514c2.png&quot;,</span><br><span class="line">&quot;花鸟卷-别拦我&quot;:&quot;67f027831ae9952ca9871b66ccab0244178d61be.png&quot;,</span><br><span class="line">&quot;花鸟卷-冲&quot;:&quot;09564fd49c643c498d6e84457a1c2ce9bfed63a9.png&quot;,</span><br><span class="line">&quot;花鸟卷-记仇&quot;:&quot;ba365e8474f94f963a73c85e3f9962a36563a792.png&quot;,</span><br><span class="line">&quot;花鸟卷-夸我&quot;:&quot;54fc25491cfb005a6bd33ca7d282f7b27da2a0c1.png&quot;,</span><br><span class="line">&quot;花鸟卷-美眼看&quot;:&quot;0e989f6227acad9e60023d2a0d05128a61d7d8d6.png&quot;,</span><br><span class="line">&quot;花鸟卷-你行你画&quot;:&quot;de7d595e8f790539b0f2115e15ce9386fa26b64a.png&quot;,</span><br><span class="line">&quot;花鸟卷-晚安&quot;:&quot;b8a930fa374b3b72e9a22787639db700a76c08e1.png&quot;,</span><br><span class="line">&quot;花鸟卷-我保护你&quot;:&quot;68ce026d13f3d70605191f01bc7d51d9c3b09780.png&quot;,</span><br><span class="line">&quot;花鸟卷-我在&quot;:&quot;e73ec8135bf6389bc38eeda7f3b019476616f50e.png&quot;,</span><br><span class="line">&quot;花鸟卷-要吗&quot;:&quot;84698484bb737a6f934889a36c073b0eade871f6.png&quot;,</span><br><span class="line">&quot;原神-小事一桩&quot;:&quot;c52cddcb4d454af38d339c033c4a06160e6ba789.png&quot;,</span><br><span class="line">&quot;原神-唔&quot;:&quot;f00164e1fdb73d4aa84b2741d343d10a89a8a2ed.png&quot;,</span><br><span class="line">&quot;原神-躺平&quot;:&quot;7067e7e2b589e7156be66901be9a73834ecdc25c.png&quot;,</span><br><span class="line">&quot;原神-哦&quot;:&quot;4b8b6f0e451c600abf2d83560125d03cfa97fe28.png&quot;,</span><br><span class="line">&quot;原神-哭哭&quot;:&quot;d800294a99034af28160bc6e98e7a59c55e60bc8.png&quot;,</span><br><span class="line">&quot;原神-救救我&quot;:&quot;49867dd30eb6a1699b9f64ae5316137c96d6280f.png&quot;,</span><br><span class="line">&quot;原神-警觉&quot;:&quot;4d03eb99263d1d85c5c820ad046b8a9549f246a9.png&quot;,</span><br><span class="line">&quot;原神-交给我吧&quot;:&quot;b09408f0a92ca5367e0ccffeb3389c5f19369817.png&quot;,</span><br><span class="line">&quot;原神-哼哼&quot;:&quot;62d09fa482842dabbd4a51176abc0ec20a64a359.png&quot;,</span><br><span class="line">&quot;原神-给我走开&quot;:&quot;c0a9f2bea10fdf763b4fbe3874ee254d61916711.png&quot;,</span><br><span class="line">&quot;原神-鸽子&quot;:&quot;d03a8f9f490eb007aae2d826f9143e3a29a3be5a.png&quot;,</span><br><span class="line">&quot;原神-干杯&quot;:&quot;966f0b307bf4d07e81162dc32bf1e71c83bf997a.png&quot;,</span><br><span class="line">&quot;原神-该吃饭了&quot;:&quot;34fb6a22facd0f7d6d4a4e1be50e96f120ae7054.png&quot;,</span><br><span class="line">&quot;原神-出货吧&quot;:&quot;a087fb84524b6ffda6fa0385b09065c472432cd7.png&quot;,</span><br><span class="line">&quot;原神-吃惊&quot;:&quot;d8d07498a567ea109a8fc4b58ffccdc33643cd99.png&quot;,</span><br><span class="line">&quot;原神-不要啊&quot;:&quot;8ea92be976beb8126adc7cabc2aa7f2b02b9bee2.png&quot;,</span><br><span class="line">&quot;原神-拜托&quot;:&quot;2f2817b84caf9d81fdce171d18a3f99983f1ec64.png&quot;,</span><br><span class="line">&quot;原神-zzZZ&quot;:&quot;3c9d996ac0ed9dd8eaefbd00e6f90a0f21656b3f.png&quot;,</span><br><span class="line">&quot;原神-good job&quot;:&quot;dd7666d93cd8f78c58ce5975133582a107b8d286.png&quot;,</span><br><span class="line">&quot;原神-1摩拉&quot;:&quot;c77cafc89695d148ccda4d6965698d9ae6a6802d.png&quot;,</span><br><span class="line">&quot;原神-OK&quot;:&quot;cd9a2b4c2972dfcab81964f37a652b38fe88d0e7.png&quot;,</span><br><span class="line">&quot;原神-暗中观察&quot;:&quot;2532af22d65cf83f0630118c018cd08796558405.png&quot;,</span><br><span class="line">&quot;原神-比心&quot;:&quot;8dbfe314096199a65360df01ccf06e06073b3869.png&quot;,</span><br><span class="line">&quot;原神-震撼&quot;:&quot;2fbf21300ca4ed47f763698364458fb8dad0f755.png&quot;,</span><br><span class="line">&quot;原神-倒&quot;:&quot;d7b114b8d812ec97de10626cb73daaac98000544.png&quot;,</span><br><span class="line">&quot;原神-点赞&quot;:&quot;091572b59ea3251288b254abbe88a0f3c20cdffe.png&quot;,</span><br><span class="line">&quot;原神-鼓掌&quot;:&quot;c8f852c86219833aae92e739c8b68857f5269aa7.png&quot;,</span><br><span class="line">&quot;原神-乖巧&quot;:&quot;53a51820cfe3ee3918cecffd5515719c97f2dcbf.png&quot;,</span><br><span class="line">&quot;原神-得意&quot;:&quot;05fbec74a04c03cbf6c5af702c7436a7a2e9143d.png&quot;,</span><br><span class="line">&quot;原神-冷漠&quot;:&quot;8c3c8ff85d18d7e839c5247526ce15c60bceddc0.png&quot;,</span><br><span class="line">&quot;原神-期待&quot;:&quot;650cfaaaef9b9ec06b8fd6c156bfe395879c60be.png&quot;,</span><br><span class="line">&quot;原神-撒花&quot;:&quot;046e0fa34668c4174617e6ba67744ce16100fe47.png&quot;,</span><br><span class="line">&quot;原神-晚安&quot;:&quot;5f25c60f015ed45f82b3276f93a819dfac6b61f8.png&quot;,</span><br><span class="line">&quot;原神-委屈&quot;:&quot;7db56d34892314ac9ac6eedf4115bc2362bf1c4d.png&quot;,</span><br><span class="line">&quot;原神-疑问&quot;:&quot;9a3ed71cb7779710b072069e050d70096adba232.png&quot;,</span><br><span class="line">&quot;原神-有主意了&quot;:&quot;08e473ea5ad8a1a40e51b7446d2e4ade1e5f05eb.png&quot;,</span><br><span class="line">&quot;Kizuna AI -比心&quot;:&quot;a0d2674d85856be7a05865f6bc3638cf80fab7ac.png&quot;,</span><br><span class="line">&quot;Kizuna AI -哭哭&quot;:&quot;bfe2e784cd8c133497d4edd88cabc419d93e870a.png&quot;,</span><br><span class="line">&quot;Kizuna AI -嘤嘤嘤&quot;:&quot;57353a24a5bbe9af87117c4dfd9d7b758f20426e.png&quot;,</span><br><span class="line">&quot;Kizuna AI -无语&quot;:&quot;c3580dc39704d6cdfee4eaa879ea12424ece108c.png&quot;,</span><br><span class="line">&quot;Kizuna AI -震惊&quot;:&quot;75e870fa778be2f7e268d65426e0a79071fe905f.png&quot;,</span><br><span class="line">&quot;Kizuna AI -得意脸&quot;:&quot;188543c35f368824b09d7f57371db8f690bc3de9.png&quot;,</span><br><span class="line">&quot;Kizuna AI -OK&quot;:&quot;cedeb4f9e41c76f86945913162491af9028f6d40.png&quot;,</span><br><span class="line">&quot;Kizuna AI -嗨多摩&quot;:&quot;9f07e509af059f498203fd4a2183cabe3aefc0fa.png&quot;,</span><br><span class="line">&quot;Kizuna AI -花q&quot;:&quot;1d49d4ef2541e1db06a6aa78a098d5ca73191ed3.png&quot;,</span><br><span class="line">&quot;Kizuna AI -怀疑&quot;:&quot;72a193267f677545a8e1374324280ff71b5b25ad.png&quot;,</span><br><span class="line">&quot;Kizuna AI -惊讶&quot;:&quot;a8e14af6d52e668a59be38c2fc4450d47d24e80d.png&quot;,</span><br><span class="line">&quot;Kizuna AI -拿第一&quot;:&quot;8a2187235ec11065b5446dcfe49ef9db1a629000.png&quot;,</span><br><span class="line">&quot;Kizuna AI -天才天才&quot;:&quot;10cdd9af63be0014d62e596c4534e3166dee24de.png&quot;,</span><br><span class="line">&quot;Kizuna AI -摇晃悠悠&quot;:&quot;658bb1872ac8e3d7d22323f1eeff8e3591b9e308.png&quot;,</span><br><span class="line">&quot;Kizuna AI -原来如此&quot;:&quot;e7d6d59e4ce5a73302898b8d694658bd2cfb6db9.png&quot;,</span><br><span class="line">&quot;射手座-好家伙&quot;:&quot;502ca4fb456486d9584d23959a9c381b4246422d.png&quot;,</span><br><span class="line">&quot;射手座-浪起来！&quot;:&quot;6339c7ff60c31cdb42af96e94552c790a03401f6.png&quot;,</span><br><span class="line">&quot;射手座-乐观&quot;:&quot;1c0a87af0351c1ec4b9bdc884795b467320e2b15.png&quot;,</span><br><span class="line">&quot;射手座-撩你&quot;:&quot;b99cc10e1e9be92f25079adc861cf9ba27b01852.png&quot;,</span><br><span class="line">&quot;射手座-认识一下&quot;:&quot;b63cc2582b42d4ae77c8316f4cb8473882582983.png&quot;,</span><br><span class="line">&quot;射手座-随便&quot;:&quot;5a77ddb68e4b6551b1a22fb2d5b02be7f757f38c.png&quot;,</span><br><span class="line">&quot;射手座-贴贴&quot;:&quot;1cd18280f2e54d7383178795e90ffc3b929c5ea1.png&quot;,</span><br><span class="line">&quot;射手座-突然消失&quot;:&quot;af955884bb59435feca2888526bb1bd0b308ad38.png&quot;,</span><br><span class="line">&quot;射手座-真麻烦&quot;:&quot;a5752f6e0d1c4967c9634e87ff12fcea1f33f558.png&quot;,</span><br><span class="line">&quot;射手座-自由万岁！&quot;:&quot;f04543bb7fd70351d152dfde8a9fd39d69c047bf.png&quot;,</span><br><span class="line">&quot;沙茶兔-拜拜&quot;:&quot;9bdb00614d236f577ca180c828e75c90e9b1736d.png&quot;,</span><br><span class="line">&quot;沙茶兔-吃瓜&quot;:&quot;fc4bdf038e25d9a8aa2ade75725acc51354f8b38.png&quot;,</span><br><span class="line">&quot;沙茶兔-得意&quot;:&quot;29d78fd0107bcdf933020dc269a920954beb3210.png&quot;,</span><br><span class="line">&quot;沙茶兔-哭了&quot;:&quot;abf486101d99fbb29b353897fe923a5b482df55d.png&quot;,</span><br><span class="line">&quot;沙茶兔-冷漠&quot;:&quot;e3f6fa28d9d59b2099f2cbe954cd3ca10ea04e26.png&quot;,</span><br><span class="line">&quot;沙茶兔-清醒点&quot;:&quot;260dff7bb3bc29976e881519931c55399825eb3e.png&quot;,</span><br><span class="line">&quot;沙茶兔-请说&quot;:&quot;2540c69bfe560e58849d2a833898136a354f5c07.png&quot;,</span><br><span class="line">&quot;沙茶兔-问号&quot;:&quot;1e60d0e96ce597eacef413249ee9d30c81eec7a9.png&quot;,</span><br><span class="line">&quot;沙茶兔-嫌弃&quot;:&quot;ee3c6ad032c595269eb67c93fd1f202566f4528f.png&quot;,</span><br><span class="line">&quot;沙茶兔-在吗&quot;:&quot;8b1307f8856fd5118562bed9a1174e264258fada.png&quot;,</span><br><span class="line">&quot;奥利猫-6&quot;:&quot;7df413481d43fb676a06831b1c7dfa261f46f462.png&quot;,</span><br><span class="line">&quot;奥利猫-打招呼&quot;:&quot;5a40c411acd13fb366cf4846a30368223fcf16ab.png&quot;,</span><br><span class="line">&quot;奥利猫-可爱&quot;:&quot;3dd045b890b1bd207e79464fcf80b6791b15aa20.png&quot;,</span><br><span class="line">&quot;奥利猫-哭哭&quot;:&quot;6fe8a161f1dcf7040a9d0113c77b2f596ec88faa.png&quot;,</span><br><span class="line">&quot;奥利猫-灭火右&quot;:&quot;abe4ded92d1d5f55549a5275f5579fe21c0e064f.png&quot;,</span><br><span class="line">&quot;奥利猫-伸手&quot;:&quot;36d64149f5816823e6b3c0d79cd579addbc69da2.png&quot;,</span><br><span class="line">&quot;奥利猫-伸爪子&quot;:&quot;dcb0e09c950771116911c9e8cfc9b2f7dcde437e.png&quot;,</span><br><span class="line">&quot;奥利猫-生气&quot;:&quot;65fc33c5fb15340a8c26972a8ebf9905465e31d3.png&quot;,</span><br><span class="line">&quot;奥利猫-享受&quot;:&quot;46f251c8e0b1e36055e0b0e7526020c1804528b7.png&quot;,</span><br><span class="line">&quot;奥利猫-疑问&quot;:&quot;7d8cb2427a9a041b354fdac28b17a969f790b34b.png&quot;,</span><br><span class="line">&quot;抹茶狗-汗颜&quot;:&quot;396437ab98bfea876aadefa30d5d85cc401ad2a7.png&quot;,</span><br><span class="line">&quot;抹茶狗-臭美&quot;:&quot;9f2ae599b0d7a8b492d756162e89fcca1e78aa19.png&quot;,</span><br><span class="line">&quot;抹茶狗-大笑&quot;:&quot;0f64e779f4c65d2040dce209eec8389f9a937b0d.png&quot;,</span><br><span class="line">&quot;抹茶狗-愤怒&quot;:&quot;62f893fb595b0e37333186d2b45a0a90e3de210b.png&quot;,</span><br><span class="line">&quot;抹茶狗-生病&quot;:&quot;092e1f0666e2014a91465587ba55047e01f12f5e.png&quot;,</span><br><span class="line">&quot;抹茶狗-想哭&quot;:&quot;37536cb270d5c10f367919f044869f42b4e1b880.png&quot;,</span><br><span class="line">&quot;抹茶狗-有了&quot;:&quot;7d4d4421d612828b040f87ead10d658c7671069c.png&quot;,</span><br><span class="line">&quot;抹茶狗-棒棒&quot;:&quot;c94bf44066d4a95d91807c66555c9504490fc614.png&quot;,</span><br><span class="line">&quot;抹茶狗-吃惊&quot;:&quot;c2e5ae45fb79f2e31a6726614e77d4fbe288c41f.png&quot;,</span><br><span class="line">&quot;抹茶狗-无语&quot;:&quot;21a09023f3da6ab89fd70a1cfcbf7ca607a7ed24.png&quot;,</span><br><span class="line">&quot;小红眼-生气&quot;:&quot;1f80c6475ccf88db4067a810a6628fd7e5130f33.png&quot;,</span><br><span class="line">&quot;小红眼-鼻血&quot;:&quot;06a44b7066545a810c78532a30922ef8dd908a8e.png&quot;,</span><br><span class="line">&quot;小红眼-嘲笑&quot;:&quot;d0c17841289b2f677ca7e471117c4c916979d012.png&quot;,</span><br><span class="line">&quot;小红眼-吃瓜&quot;:&quot;b0edc03778f4567b2d5935c6bfae20646bc94004.png&quot;,</span><br><span class="line">&quot;小红眼-吃惊&quot;:&quot;b95fee7b5209ede9bd8ef41e36d40e6f644320ae.png&quot;,</span><br><span class="line">&quot;小红眼-大哭&quot;:&quot;341f653b076c018b548c3b97ad12c265752bbac0.png&quot;,</span><br><span class="line">&quot;小红眼-愤怒&quot;:&quot;3853dcc1c22654721571937e67a80d1757a5da79.png&quot;,</span><br><span class="line">&quot;小红眼-嫌弃&quot;:&quot;5a2103cd6d4e0809ecc9bce83d2d3984ff7f10f6.png&quot;,</span><br><span class="line">&quot;小红眼-享受&quot;:&quot;31d726ba7c13b0829ef48e3eb73e9eab2ba8f36a.png&quot;,</span><br><span class="line">&quot;小红眼-点赞&quot;:&quot;d2bec7c1472e2531138a5ab1bcf0eeb009da9a7a.png&quot;,</span><br><span class="line">&quot;欧皇-666&quot;:&quot;2b4e4d0fe967e1c00d12c24d7faff9bdff283a6f.png&quot;,</span><br><span class="line">&quot;欧皇-lucky&quot;:&quot;7f4003b7f5431d3c5983a4a56588e361ab635482.png&quot;,</span><br><span class="line">&quot;欧皇-不愧是我&quot;:&quot;54b94b16000c670d90e35e7b0b4c50c6478669ed.png&quot;,</span><br><span class="line">&quot;欧皇-大佬&quot;:&quot;65c8aed097616cd6216b782aa800348497f84fc4.png&quot;,</span><br><span class="line">&quot;欧皇-好家伙&quot;:&quot;6fcf398f232d1349fe2e7f7a98bf28fdaa41e9a3.png&quot;,</span><br><span class="line">&quot;欧皇-欧泡时间&quot;:&quot;7ee1c45ef04d18f66e5effa8114813b931eaa6bf.png&quot;,</span><br><span class="line">&quot;欧皇-欧气喷雾&quot;:&quot;00fe2ec1852d5ce9c0a8e9658c3dcaa5c154b914.png&quot;,</span><br><span class="line">&quot;欧皇-脱非入欧&quot;:&quot;f4ebc2b6f10c537ff5b120cc43282f8af991db08.png&quot;,</span><br><span class="line">&quot;欧皇-我可以&quot;:&quot;8ffc119aeb81e6db5b840c4d80d7ee602fe7d6f3.png&quot;,</span><br><span class="line">&quot;欧皇-嚣张&quot;:&quot;cec0955cdbd7906b15557ecf96deed47d299899b.png&quot;,</span><br><span class="line">&quot;黑潮之上-心心&quot;:&quot;77ffbebec09506b056ccbb87cfb4d0ccf2959283.png&quot;,</span><br><span class="line">&quot;黑潮之上-不过如此&quot;:&quot;31bb30640ca19955b8757284973620923feae816.png&quot;,</span><br><span class="line">&quot;黑潮之上-对不起&quot;:&quot;5929a3b0a9202c151725d8884d8509b59ea0a69a.png&quot;,</span><br><span class="line">&quot;黑潮之上-晚安&quot;:&quot;7475ce5c88ddcf79d2874c5ece514c22f7fa9c93.png&quot;,</span><br><span class="line">&quot;黑潮之上-OK&quot;:&quot;41c381748e5160b864846ed5c9e5ae10539bb130.png&quot;,</span><br><span class="line">&quot;黑潮之上-哈哈哈&quot;:&quot;7f1969b7e2eabdc0c39fb9e9f8fe15c4f5d6c498.png&quot;,</span><br><span class="line">&quot;黑潮之上-摸摸头&quot;:&quot;e27b74f7b6cc5082d6056273fd96328716c433ea.png&quot;,</span><br><span class="line">&quot;黑潮之上-惊讶&quot;:&quot;aeb841367e5773a402d28d79fca8c6df4dd093a2.png&quot;,</span><br><span class="line">&quot;黑潮之上-暗中观察&quot;:&quot;518802e212e26fe961823a01a6e52bf1fc1caee0.png&quot;,</span><br><span class="line">&quot;黑潮之上-突然出现&quot;:&quot;9f5be557e4e169f3e554926bfd0f1a19e6d0abd6.png&quot;,</span><br><span class="line">&quot;黑潮之上-精神小火&quot;:&quot;8e4903fc37c4320ecdf92a07bd3fa86b1a63ee10.png&quot;,</span><br><span class="line">&quot;黑潮之上-累了&quot;:&quot;59076018e8d9b80dd52c9bc10c99653cf8a66df9.png&quot;,</span><br><span class="line">&quot;黑潮之上-记小本本&quot;:&quot;7e3543f20dc8529dd1241a0666cd14dfda0f1afd.png&quot;,</span><br><span class="line">&quot;黑潮之上-乖巧&quot;:&quot;ed4cbe4e0d15a0ee956e73df210c99322b8cae26.png&quot;,</span><br><span class="line">&quot;黑潮之上-无语&quot;:&quot;c473f4a894db1ad81895f69e4c32b542ef137270.png&quot;,</span><br><span class="line">&quot;黑潮之上-什么&quot;:&quot;11ba0df6032daac7b2cb7b93fd72c3106792df3a.png&quot;,</span><br><span class="line">&quot;最强蜗牛-闭嘴&quot;:&quot;060eadd5aa7beb9638e3515f0291530a32711e1b.png&quot;,</span><br><span class="line">&quot;最强蜗牛-吃&quot;:&quot;41731ce4d8f39e6221ba71d63cfeaa2e07d0a396.png&quot;,</span><br><span class="line">&quot;最强蜗牛-喝饮料&quot;:&quot;6e23c4a73a97a72e714a31641dabfa703c61f433.png&quot;,</span><br><span class="line">&quot;最强蜗牛-奸笑&quot;:&quot;c5581bd53d973347e43a6a14129d99d48aede09d.png&quot;,</span><br><span class="line">&quot;最强蜗牛-哭笑&quot;:&quot;93b0a9c9d5ebaf6ac2e5ab336c78355e4e72e360.png&quot;,</span><br><span class="line">&quot;最强蜗牛-怒骂&quot;:&quot;0d13ead21b7b620b61d1a4e350bd7cf1909dcbb6.png&quot;,</span><br><span class="line">&quot;最强蜗牛-丧&quot;:&quot;aeccdcf4569166306778d4a2f66d75a5543c09e2.png&quot;,</span><br><span class="line">&quot;最强蜗牛-睡&quot;:&quot;f7a06116048283a9a4dd6dea944879e93dcbbd22.png&quot;,</span><br><span class="line">&quot;最强蜗牛-调皮&quot;:&quot;2370934c51ea23d8318d4ed71d13bbfb4c6eecc4.png&quot;,</span><br><span class="line">&quot;最强蜗牛-笑&quot;:&quot;5391aa81bc16e162ec5e8d749c975ab5dd2b6f56.png&quot;,</span><br><span class="line">&quot;小沪蝶-比心&quot;:&quot;5a16f5540e7689914769345fe95a3b17fc8fd748.png&quot;,</span><br><span class="line">&quot;小沪蝶-点赞&quot;:&quot;fcd6425244942f265f9190420cc9cd40fa821f60.png&quot;,</span><br><span class="line">&quot;小沪蝶-好棒&quot;:&quot;975835323f0384e2b107719baf0e583c18f181b1.png&quot;,</span><br><span class="line">&quot;小沪蝶-好的&quot;:&quot;8b2c41561bb8ace1a20da206c55af1fe623680de.png&quot;,</span><br><span class="line">&quot;小沪蝶-加油&quot;:&quot;b046e5911431e4c4723c78f225b6f6f9fe17e819.png&quot;,</span><br><span class="line">&quot;小沪蝶-厉害了&quot;:&quot;8afd20ee2531542fa54e8a48bddd64b03a45cb77.png&quot;,</span><br><span class="line">&quot;小沪蝶-嗯嗯&quot;:&quot;fae1abee9dae4f8c215efb2603ee8ec670b4ea10.png&quot;,</span><br><span class="line">&quot;小沪蝶-你好&quot;:&quot;efce8d8f76cba627f1a62f992545e09eb6577d94.png&quot;,</span><br><span class="line">&quot;小沪蝶-收到&quot;:&quot;3f0de1eec7383d9c97f40d8a0dff5b4fd6416ea8.png&quot;,</span><br><span class="line">&quot;小沪蝶-挑战成功&quot;:&quot;650ce33fcd1d3c62dbee258557671b088a46bb70.png&quot;,</span><br><span class="line">&quot;小沪蝶-谢谢&quot;:&quot;1d54ebf5d1389f5d30f12ab5a582b51f307590d1.png&quot;,</span><br><span class="line">&quot;小沪蝶-辛苦啦&quot;:&quot;433cd08c11880b60f14dd0073913f1ceab248a0e.png&quot;,</span><br><span class="line">&quot;小沪蝶-奋斗&quot;:&quot;f8a54c34f12c84a47d2dbb744ca3d27e679be03f.png&quot;,</span><br><span class="line">&quot;小沪蝶-学霸&quot;:&quot;162c99b1f03609ced15b17b85cc919a263becdce.png&quot;,</span><br><span class="line">&quot;小沪蝶-学在上海&quot;:&quot;3434177ecf83b6c0e54c635a2f1afe3d20a6195e.png&quot;,</span><br><span class="line">&quot;小沪蝶-一起学习呀&quot;:&quot;5aaf75d138731143b506b13f690222548866a5c5.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-阿妹胫骨&quot;:&quot;ca16adee6f07b561d822b0e134d2dd5a84970c3d.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-冲鸭&quot;:&quot;7f247fa46675415aca73900ec4e634b1a371a6d1.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-打call&quot;:&quot;be3d931c91ba672e35684192c70e1c14654cfd44.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-点点点&quot;:&quot;7d06264d6c741a09f9b51c77d43ecd9bbe402365.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-点头&quot;:&quot;359307a0ca4e50385c442fc0a05e7e6a6ea01518.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-盯&quot;:&quot;0e0cc456607b76fe9530c0133524c106183c2fa8.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-躲墙角&quot;:&quot;3eb55454598c895d2afb6f6f6e15123b114ea9c6.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-躲闪&quot;:&quot;68e58f425d72584ed380519855608d3d1c01db99.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-鼓气&quot;:&quot;6c7a50709a1f619de81675036cadf8df7436f41e.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-神父之光&quot;:&quot;953220c8018f44d4270c7ca398b740cfa08cf98b.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-叹气&quot;:&quot;6bfee10a207f2b09d0d1e29e9d10b56fb65d0837.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-危&quot;:&quot;53a6f102119229d692853c89ed4d6f487d31b7eb.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-问号&quot;:&quot;456ed5a7c6255857db0e2e33c288dc4e284bfee3.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-想鱼&quot;:&quot;0beb9c9fae423019eac66f6a4ad030ec55d1f3f4.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-兴奋&quot;:&quot;7fc9b3c170f313e70b7c4f15ef3a3cf44de589d6.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-幸福&quot;:&quot;d69a6b712660b17299f24571ca274258fc308e41.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-震惊&quot;:&quot;fa511da200fac2752a139d46f0ddc775ef0a2e31.png&quot;,</span><br><span class="line">&quot;新月冰冰-awsl&quot;:&quot;324e2e3b18af6dbabbe445b02b85c3cec48e43bc.png&quot;,</span><br><span class="line">&quot;新月冰冰-呆suki&quot;:&quot;5bb4dd5d3f0d069e0cb78bbfff80f1788d6011ba.png&quot;,</span><br><span class="line">&quot;新月冰冰-干杯&quot;:&quot;f7038566ae57f8259f761256d2ef03744e808bb8.png&quot;,</span><br><span class="line">&quot;新月冰冰-喝茶&quot;:&quot;f7150cb7185abd37906f2bfc9607702100632b32.png&quot;,</span><br><span class="line">&quot;新月冰冰-嚯奶茶&quot;:&quot;ec842dd0a2babcc9b391fef5a88c18b8e1e3ad19.png&quot;,</span><br><span class="line">&quot;新月冰冰-忙忙忙&quot;:&quot;068db38dcced6622113b67603461dd996c89c656.png&quot;,</span><br><span class="line">&quot;新月冰冰-冒冷汗&quot;:&quot;abb9e449b57da2e79454232533f89ae5ee9179f2.png&quot;,</span><br><span class="line">&quot;新月冰冰-生气&quot;:&quot;948234df49f83597951cc8cc1a94f9d7d7150608.png&quot;,</span><br><span class="line">&quot;新月冰冰-送牛肉酱&quot;:&quot;1ec17f690a917100b2718085d4d594fc3497dd9f.png&quot;,</span><br><span class="line">&quot;新月冰冰-叹气&quot;:&quot;dce26800be487be2d3c2458ca5e947526a0a70f4.png&quot;,</span><br><span class="line">&quot;新月冰冰-探头&quot;:&quot;28e1ed3aba231c9dd26bfaa327578e19d0c7cb41.png&quot;,</span><br><span class="line">&quot;新月冰冰-汪汪碎冰冰&quot;:&quot;bcd3645522f0886bbf0199f068fca98c523ad2fe.png&quot;,</span><br><span class="line">&quot;新月冰冰-我吃柠檬&quot;:&quot;a1adad7ef9c4eebbebd21713f7c389653d45eef3.png&quot;,</span><br><span class="line">&quot;新月冰冰-疑惑&quot;:&quot;3644f4e55723c6793ea5a926cda9c2ffccb77793.png&quot;,</span><br><span class="line">&quot;新月冰冰-醉了&quot;:&quot;f51ca4292f685b63ccbcf022c37da962908d124b.png&quot;,</span><br><span class="line">&quot;暗影国度-成功入水&quot;:&quot;5141c6a96b27c61dea5342ea224f0c349a1fc85f.png&quot;,</span><br><span class="line">&quot;暗影国度-小问号&quot;:&quot;cbb17741d7ffe7cfb345e530dea0b4fc430e123c.png&quot;,</span><br><span class="line">&quot;暗影国度-冲锋&quot;:&quot;8c317fde72ebce786c561cc07257afc252da44de.png&quot;,</span><br><span class="line">&quot;暗影国度-毫无意义&quot;:&quot;3e31bfa724531458405f5dad8bfd5130b7e3572a.png&quot;,</span><br><span class="line">&quot;暗影国度-黑手远离&quot;:&quot;211c113d231b621e6e89a1bc8786b0615d0cdf58.png&quot;,</span><br><span class="line">&quot;暗影国度-five&quot;:&quot;e112d001d1e3fee9f4ec2f29fc27e2fcf3dba465.png&quot;,</span><br><span class="line">&quot;暗影国度-lzxx&quot;:&quot;d3bfba721b8204652b0f83d094be3d29a26c3fbe.png&quot;,</span><br><span class="line">&quot;暗影国度-火车王&quot;:&quot;a724f02a61dde5e1cb1853319994eabdeb49115f.png&quot;,</span><br><span class="line">&quot;暗影国度-就打德&quot;:&quot;e94a166ad04da5caff51ce54a9ba2c979c0caf3f.png&quot;,</span><br><span class="line">&quot;暗影国度-天呐&quot;:&quot;47d9e53ca92241d4f26792ac2df306cea3be3834.png&quot;,</span><br><span class="line">&quot;暗影国度-无所畏惧&quot;:&quot;41735bef2025d702ed32a1e5260db325d3588f39.png&quot;,</span><br><span class="line">&quot;暗影国度-下次我请&quot;:&quot;7c1a12d0338a36212885b4f946bc921b66448e66.png&quot;,</span><br><span class="line">&quot;暗影国度-为了部落&quot;:&quot;2006ccf330b82382c79720b3f23de3689d0ec6a4.png&quot;,</span><br><span class="line">&quot;暗影国度-为了联盟&quot;:&quot;006d6844290d977fb7faead995ff839349b94f6f.png&quot;,</span><br><span class="line">&quot;暗影国度-自寻死路&quot;:&quot;a5423a7c622dc8e34d0181513db2b21fd2871959.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-lo~ve！&quot;:&quot;745ccaf7e5e6fecfe5cde339d09534b8ee1a4e38.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-暗中观察&quot;:&quot;6f2a8959125224d8f10fbf1ff202f67d61b7eb86.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-盯——&quot;:&quot;c64a841a6b4d4624b1c124f1cd79a75b1b460ea8.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-加油&quot;:&quot;cf4705a2636eceac23de755e53dc62b5ee4c9632.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-开心&quot;:&quot;067becba350ff2ab83140dbb35127666af5a5e1b.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-困扰&quot;:&quot;cb4dfa08068a56a22545c177513dde59ba96ec3b.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-泪目&quot;:&quot;d9b12aae06a1a963bf7d33ef150de384e09b3fc0.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-三连&quot;:&quot;f684cc86ff8b36db058149e71c716929092caaf4.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-投币&quot;:&quot;5c0ac35985fce6126dff3cb89bf57a7b7713a462.png&quot;,</span><br><span class="line">&quot;偶像梦幻祭2-疑惑&quot;:&quot;534c26541e66669d00446e401ff3e7ea87d31da4.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-拜托你啦&quot;:&quot;3b97066b33ca649d2a5f38c589870c99fbd347e0.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-不过如此&quot;:&quot;c13c4a0583c0608f5c5917b549353333f912b357.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-不是吧&quot;:&quot;182c7329d45653e511ab328def8fd1b68e548c3d.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-不听不听&quot;:&quot;a933fef92d89cace07e3ab1f8908f3d9ee6ccde2.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-好厉害&quot;:&quot;04c3b75716f8c6fe70c92d3a61799d2f569159da.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-嘿嘿&quot;:&quot;5f2271b22ade6eaa711a6baa4a961ef882c31b70.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-加油&quot;:&quot;778c2877aec5e2f4ec55f6de8cd370c385f87af9.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-可爱&quot;:&quot;fda18e155e297862f04ab8a9e297db158290e43c.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-快截图&quot;:&quot;615b5e6b98b7a959f0f619253c81c0f4741180de.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-流鼻血&quot;:&quot;555f0fb60b37325a4fb5d89a70abb1b8a83cf32a.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-生气&quot;:&quot;ab8aa476460ee4e03ba259bd0b985e69535ad566.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-哇&quot;:&quot;ddfe81f95c001facd3e4222463c3592100c45a99.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-谢谢&quot;:&quot;cafafff93e24ce9be4126f94d3089afcb9df45d0.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-修正你&quot;:&quot;89072221a754c9a75e45cb030593f569148700fd.png&quot;,</span><br><span class="line">&quot;总之就是非常可爱-震惊&quot;:&quot;289a1ea69a4abdbf105ae232c5bf87b8adc0e28d.png&quot;,</span><br><span class="line">&quot;徵羽摩柯-催更&quot;:&quot;155c97960fee655f30805a6b9ff3d4f581432cb8.png&quot;,</span><br><span class="line">&quot;徵羽摩柯-灵光一闪&quot;:&quot;d65225a8d575ff81789d6167f8d73d3ab456e697.png&quot;,</span><br><span class="line">&quot;徵羽摩柯-乱哭&quot;:&quot;4faf9cf990d20e6490c908a6a104cc5be180c172.png&quot;,</span><br><span class="line">&quot;徵羽摩柯-拍照&quot;:&quot;56b335436a404ab49719447340018c4787f6cac9.png&quot;,</span><br><span class="line">&quot;徵羽摩柯-知识增加&quot;:&quot;5dd533ecc6ca4783fa200403dd65071b6ed7af4d.png&quot;,</span><br><span class="line">&quot;徵羽摩柯-一点点&quot;:&quot;13f1c0cd26d0bf06354b9cf57a179b3c66c20e78.png&quot;,</span><br><span class="line">&quot;徵羽摩柯-思考&quot;:&quot;268d0ff8033efd93b6b740fed2776e1807d30f61.png&quot;,</span><br><span class="line">&quot;徵羽摩柯-召唤好运&quot;:&quot;c02d1c046da7bcca815b6672a49bd6a361f539e8.png&quot;,</span><br><span class="line">&quot;徵羽摩柯-中二病&quot;:&quot;d1256fe3d6eee91d520a8b1bf68663c0a07bf709.png&quot;,</span><br><span class="line">&quot;徵羽摩柯-装傻&quot;:&quot;f0c7d1c16fa5bfb611bf843a61176617084e1625.png&quot;,</span><br><span class="line">&quot;拾忆长安-仔细阅读&quot;:&quot;e560522237da2f4aa299f72b7c1a03c549d234f7.png&quot;,</span><br><span class="line">&quot;拾忆长安-大哥&quot;:&quot;169adf52dc75a626ae05547020264479c8265c2d.png&quot;,</span><br><span class="line">&quot;拾忆长安-大唐颜艺王&quot;:&quot;0d80a5eee83132c42c05f2360607b29973c0e720.png&quot;,</span><br><span class="line">&quot;拾忆长安-绞面&quot;:&quot;2b72487d16baf5e9adcdbe45602aef392fb0bfd6.png&quot;,</span><br><span class="line">&quot;拾忆长安-九嫂威武&quot;:&quot;d821295ead3137f4b011a3c88fbafb55c9bbd570.png&quot;,</span><br><span class="line">&quot;拾忆长安-女单书&quot;:&quot;8be1b86addc49ae6ddc8f051f18015f0ca96eb35.png&quot;,</span><br><span class="line">&quot;拾忆长安-三箭齐发&quot;:&quot;dd276c3e07e2eb679ac01ba472164edba7ae72be.png&quot;,</span><br><span class="line">&quot;拾忆长安-圣人&quot;:&quot;ff715653ec509ba6895b4e06f9f599dbfc3ffe00.png&quot;,</span><br><span class="line">&quot;拾忆长安-不要啊&quot;:&quot;dca9d49781d1445be0940ee0dd5ce1465a2ac6c4.png&quot;,</span><br><span class="line">&quot;拾忆长安-夕阳下奔跑&quot;:&quot;427e16ce77bd923289e730131527b8df8594ea44.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-prpr&quot;:&quot;1b99b66cc42e287bc2bbbe423b04c9fe79631079.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-搬大米&quot;:&quot;005e23e6d658d6e1afa8ab41aa8c214211703346.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-不要停&quot;:&quot;3f2d05bc2f380e5eed9b197f4708259e73b7098f.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-好寂寞&quot;:&quot;381dbb913ffc6d9b9478f1f2329cc89ae4c2ea3b.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-好耶&quot;:&quot;58f883162ce7421ed691f8e3e4abcc59f8e57548.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-结婚&quot;:&quot;a0b76cb0f0c0261387b1e45069cccd93e974c2b5.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-困惑&quot;:&quot;210e24ffe9dcead1d8c1e2f0b3fb601f362f1fc5.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-老婆&quot;:&quot;b590eea28d4c2b18072703c68582bae6be48fcf6.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-眠眠&quot;:&quot;cfe9afd273465f7189ff770232cde7c41b987a6b.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-亲亲&quot;:&quot;334855ed194bf418d06ae114c5da19a343887518.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-生气&quot;:&quot;eca7c5dcc7ec5fa1f84bc6d1429644dc085e90d0.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-喜欢&quot;:&quot;a097795342f515180a6e81e1a0de9ac1c2aa59e6.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-想中奖&quot;:&quot;2397f6749f7acbf6a8854b02ba1ff2cd34eef391.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-星星眼&quot;:&quot;534941c7fd550d3db6b356762e7548a750efa79f.png&quot;,</span><br><span class="line">&quot;绯赤艾莉欧-应援&quot;:&quot;7c50c6930e7ff51e5dd0ba4c318a3fc249826529.png&quot;,</span><br><span class="line">&quot;雪未来-太棒了&quot;:&quot;d03c1d062bb4f346c1041ca60bc763d404ddbd56.png&quot;,</span><br><span class="line">&quot;雪未来-摸头&quot;:&quot;c7389d48b89699ecfeec373f90c8c26ea6d3496b.png&quot;,</span><br><span class="line">&quot;雪未来-击掌&quot;:&quot;bd257c4ce22fca6a810c74873e90b343ddcead68.png&quot;,</span><br><span class="line">&quot;雪未来-等一等&quot;:&quot;16e50092a82375171513018f372ed72377fcd979.png&quot;,</span><br><span class="line">&quot;雪未来-忽然出现&quot;:&quot;02ba37478cdb287f40b2a328c5755873937cc417.png&quot;,</span><br><span class="line">&quot;雪未来-喝奶茶&quot;:&quot;7847100be4de8cb3bf25825af165bed4f0668084.png&quot;,</span><br><span class="line">&quot;雪未来-冲呀&quot;:&quot;d5a14055c8b4b457d7d815c79e7e4180299b375d.png&quot;,</span><br><span class="line">&quot;雪未来-下雪了&quot;:&quot;12d2ef42e75d2806bb8a071476e825c58e797f1a.png&quot;,</span><br><span class="line">&quot;雪未来-堆雪人&quot;:&quot;b2ee932586ee69f1a5ba69676f5fd345b4cd069a.png&quot;,</span><br><span class="line">&quot;雪未来-赖床&quot;:&quot;239d2acb5dc2b96ec98af1ba1a81f49c8b211cd4.png&quot;,</span><br><span class="line">&quot;雪未来-忍住不笑&quot;:&quot;852cc4cc73caa982b07bcbe48683d20be6c8df61.png&quot;,</span><br><span class="line">&quot;雪未来-打气&quot;:&quot;1eafe084dccb3c8afff05b21d302e40e06dd07dd.png&quot;,</span><br><span class="line">&quot;雪未来-叹气&quot;:&quot;a515cd6aa54093c1ccb364f22360620e2d5d76cb.png&quot;,</span><br><span class="line">&quot;雪未来-给你惊喜&quot;:&quot;0b552c42157aef2002f8e9c05b06939ac3226127.png&quot;,</span><br><span class="line">&quot;雪未来-生气&quot;:&quot;27e30065621ff3c981102b60865872d1be40fcd7.png&quot;,</span><br><span class="line">&quot;雪未来-早安&quot;:&quot;7d941da6f69bf256b71b2f4c813c9e15bc6f89fa.png&quot;,</span><br><span class="line">&quot;雪未来-挠头&quot;:&quot;6c5f3b58a568185b9844e902c632ee5cf362170d.png&quot;,</span><br><span class="line">&quot;雪未来-嘿嘿&quot;:&quot;7bee0f7af3eef454f9107e883b1c5988fada42a5.png&quot;,</span><br><span class="line">&quot;雪未来-唱歌&quot;:&quot;1ac8692986fc4e3d271fa14289f99d5d11dee54d.png&quot;,</span><br><span class="line">&quot;雪未来-泪目&quot;:&quot;7d721758533a060933d6cef176012bf15f0fba81.png&quot;,</span><br><span class="line">&quot;摩羯座-?&quot;:&quot;494dc137e39eea0d9e5610b96edaf65a0b1196b5.png&quot;,</span><br><span class="line">&quot;摩羯座-爱你&quot;:&quot;86bf7b1cb5bb5b991411c0177458388cb06c613f.png&quot;,</span><br><span class="line">&quot;摩羯座-戳一下&quot;:&quot;c5a79cba5ec225522e9391e3e6b038cc4c154a4d.png&quot;,</span><br><span class="line">&quot;摩羯座-没办法&quot;:&quot;a784d8db85da13c936d66e62304354978dce069b.png&quot;,</span><br><span class="line">&quot;摩羯座-生气&quot;:&quot;c4a7b2c81f01f599aa5bd92bf891faa806b24573.png&quot;,</span><br><span class="line">&quot;摩羯座-叹气&quot;:&quot;ed0da075ae7eea9111407865ab415d3c40e2d941.png&quot;,</span><br><span class="line">&quot;摩羯座-贴贴&quot;:&quot;df2478cb87ec7a3cfbb3b0d6688cc15dd4877886.png&quot;,</span><br><span class="line">&quot;摩羯座-我爱工作&quot;:&quot;b88ecdbc2b63a2624fd9086c70771786e97d8eeb.png&quot;,</span><br><span class="line">&quot;摩羯座-呜哇&quot;:&quot;656f5cd405801f198f0a8f8f945f4b550e9d0d31.png&quot;,</span><br><span class="line">&quot;摩羯座-无语&quot;:&quot;88879e8ccb27fb5bc6682b896f916f54169f3177.png&quot;,</span><br><span class="line">&quot;战双-哭哭&quot;:&quot;2c6503fa5768a206cb04223261c3640a13c1d578.png&quot;,</span><br><span class="line">&quot;战双-贴贴&quot;:&quot;6cd0dee341ea6b5366556406a42fdb9a021c20a8.png&quot;,</span><br><span class="line">&quot;战双-闪亮&quot;:&quot;c9c4214fa4610d0ccd58ce979087ed89bb38c752.png&quot;,</span><br><span class="line">&quot;战双-柠檬精&quot;:&quot;fc059b8b691910d6d1d0e776faaca03bf2e7f01a.png&quot;,</span><br><span class="line">&quot;战双-升天&quot;:&quot;9804adcf0a6016965567291ca4275a302f2b2d09.png&quot;,</span><br><span class="line">&quot;战双-干杯&quot;:&quot;a429c0f83a8929921867edcab62e7d47bd2d3352.png&quot;,</span><br><span class="line">&quot;战双-饿饿&quot;:&quot;0397d171d929b3012a95fde77b2e9ba5c0882049.png&quot;,</span><br><span class="line">&quot;战双-点赞&quot;:&quot;cf28bd56d58acf7a61ad6848b966796fc3a875b9.png&quot;,</span><br><span class="line">&quot;战双-打call&quot;:&quot;147eb435e18d211de9cced01acbfcc44928a1b21.png&quot;,</span><br><span class="line">&quot;战双-吃瓜&quot;:&quot;2bbef5c306b1b73cb9c4f8a95e4be355a33d7eb1.png&quot;,</span><br><span class="line">&quot;2233塔罗牌-？？？&quot;:&quot;cd9e2f8f66d2815a3263a1e7044e9ffccf4892f0.png&quot;,</span><br><span class="line">&quot;2233塔罗牌-666&quot;:&quot;702909450c6a6cc6415afba2be945964ac4a2b98.png&quot;,</span><br><span class="line">&quot;2233塔罗牌-AWSL&quot;:&quot;fe02bd118c526c9edbe239f622ffe3da285574c2.png&quot;,</span><br><span class="line">&quot;2233塔罗牌-奥利给&quot;:&quot;195e4d4f78b852ecb8b653b2b45b6cc909a8d636.png&quot;,</span><br><span class="line">&quot;2233塔罗牌-比心心&quot;:&quot;c6861cbae570ffc667b94dd614396e5fb969e51f.png&quot;,</span><br><span class="line">&quot;2233塔罗牌-不愧是我&quot;:&quot;951793068ac46241d45f8fd195e7ae5560b86512.png&quot;,</span><br><span class="line">&quot;2233塔罗牌-不约&quot;:&quot;292a4f96bcac50691a80b137fe24959258814296.png&quot;,</span><br><span class="line">&quot;2233塔罗牌-撒花&quot;:&quot;0d301be888e87aed6cc8e6548fbc74a23421dedc.png&quot;,</span><br><span class="line">&quot;2233塔罗牌-我觉得星&quot;:&quot;1aa7391b61aa7be88644db2672cd4603559f1469.png&quot;,</span><br><span class="line">&quot;2233塔罗牌-下次一定&quot;:&quot;294690ac14a2adc6ee50b138229aa5c53636e46f.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-Lucky&quot;:&quot;bbeb9d231773a168397697072a11373893d7c01a.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-比心&quot;:&quot;55bdcf04316ed0d805a15131b57b35b6cbd0d887.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-冲鸭&quot;:&quot;659efad4a6aa25ed6a98efe611564c26f497f436.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-好康&quot;:&quot;730e0d30a6556f433fa317f8468ce7229e4c7872.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-锦鲤&quot;:&quot;35ab588061c32f07743b07f1ac3f62a16f34438c.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-溜了溜了&quot;:&quot;152d7bd6d4096ebb89974d591b9c305b29a89166.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-萌妹初醒&quot;:&quot;3159931d9afa243c6cf5939753e3c82acb69a554.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-摸摸&quot;:&quot;6b4f86c6a21265addc8bc3fb511e5569af454237.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-起飞&quot;:&quot;4a7550236996e1cb329974c58b751ac462007338.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-爷青回&quot;:&quot;d1202872850a335b357e702adaf3d2a79db72e13.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-转运&quot;:&quot;2513203daab74688cea2c9a595e051f53fbcaa94.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-崇拜&quot;:&quot;55c633884ca8405aade71d05fbaa687ab6fedd4a.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-饿了&quot;:&quot;5455abac01a22978b20ec0b365c214a872a0fd14.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-欢迎&quot;:&quot;ec1dd6e3c004a40ac809347a02728624339cd435.png&quot;,</span><br><span class="line">&quot;洛天依·夜航星-新年快乐&quot;:&quot;80d5195ee966465f5f338db26f2faba51afcd217.png&quot;, </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="在-valine-输入界面增加背景图"><a href="#在-valine-输入界面增加背景图" class="headerlink" title="在 valine 输入界面增加背景图"></a>在 valine 输入界面增加背景图</h3><p>建议大家在找图的时候最好找白色背景或者透明背景的，不然看起来很难看。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/1595912900562.jpg" alt="github--lena"></p><ol><li>使用方法如下，将 CSS 加到你的博客样式文件中. 我是在<code>Butterfly/source/css/veditor.css</code>目录下<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#veditor &#123;</span><br><span class="line">background-image: url(https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;drew233&#x2F;cdn&#x2F;20200409110727.webp);</span><br><span class="line">background-size: contain;</span><br><span class="line">background-repeat: no-repeat;</span><br><span class="line">background-position: right;</span><br><span class="line">background-color: rgba(255, 255, 255, 0);</span><br><span class="line">resize: vertical</span><br><span class="line">&#125;</span><br><span class="line">#veditor:focus&#123;</span><br><span class="line">background-position-y: 200px;</span><br><span class="line">transition: all 0.2s ease-in-out 0s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><code>Butterfly/source/js/valine.js</code> 添加以下代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;可以与 valine 的配置 js 文件放一起，或放置到公共 js 文件中</span><br><span class="line">$(&quot;#veditor&quot;).focus(function()&#123;$(this).css(&quot;background-image&quot;,&quot;none&quot;);&#125;);</span><br><span class="line">$(&quot;#veditor&quot;).blur(function()&#123;</span><br><span class="line">      $(this).css(&quot;background-image&quot;,&quot;url(https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;drew233&#x2F;cdn&#x2F;20200409110727.webp)&quot;);</span><br><span class="line">   &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li><li>引用方式在<code>Butterfly/_config.yml</code>中<code>inject</code>添加<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">   head:</span><br><span class="line">     - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;&#x2F;css&#x2F;veditor.css&quot;&gt;</span><br><span class="line">   bottom:</span><br><span class="line">     - &lt;script src&#x3D;&quot;&#x2F;js&#x2F;veditor.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure></li></ol><h2>valine 评论添加博主等标签</h2><p>下载<a href="https://github.com/HCLonely/hexo-demo/edit/master/themes/Butterfly/layout/includes/comments/valine.pug">valine.pug</a>文件，替换<code>themes/Butterfly/layout/includes/comments/valine.pug</code><br>编辑<code>butterfly.yml</code>文件，找到<code>valine</code>配置，添加以下配置项:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">master: # md5加密后的博主邮箱,自行对自己的邮箱进行加密填写</span><br><span class="line">    - 968c57dece36dc7de97013dd71a84773</span><br><span class="line">  friends: # md5加密后的小伙伴邮箱，自行对小伙伴邮箱加密填写</span><br><span class="line">    - f6572f1e203dd79b7545ff297b037d74</span><br><span class="line">    - a0adabb31677df92a2405fb18a02ee4d</span><br><span class="line">  metaPlaceholder: # 输入框的背景文字</span><br><span class="line">    nick: 昵称&#x2F;QQ号</span><br><span class="line">    mail: 邮箱(必填)</span><br><span class="line">    link: 网址(https:&#x2F;&#x2F;)</span><br><span class="line">  tagMeta: &#39;博主,小伙伴,访客&#39; # 标签要显示的文字,默认&#39;博主,小伙伴,访客&#39;</span><br><span class="line">  verify: true # 评论时是否需要验证，需jQuery支持</span><br></pre></td></tr></table></figure><p>编辑<code>butterfly.yml</code>文件，将<code>CDN</code>中的<code>valine</code>链接引用改为<code>https://cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js</code></p><p>改完之后<code>hexo clean</code>一下，不然不会生效</p><h3 id="最后完整配置如下"><a href="#最后完整配置如下" class="headerlink" title="最后完整配置如下"></a>最后完整配置如下</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">valine:</span><br><span class="line">   enable: true # if you want use valine,please set this value is true</span><br><span class="line">   appId: sdIB--PW4---s8Esu----Va # leancloud application app id</span><br><span class="line">   appKey: Yj--HV----Hw0k6D---Eiv2O # leancloud application app key</span><br><span class="line">   pageSize: 10 # comment list page size</span><br><span class="line">   avatar: monsterid # gravatar style https:&#x2F;&#x2F;valine.js.org&#x2F;#&#x2F;avatar</span><br><span class="line">   lang: zh-CN # i18n: zh-CN&#x2F;zh-TW&#x2F;en&#x2F;ja</span><br><span class="line">   placeholder: 在07:00 AM至11:59 PM之间,填写邮箱地址可及时收到邮件回复提醒 # valine comment input placeholder(like: Please leave your footprints )</span><br><span class="line">   guest_info: nick,mail,link #valine comment header info (nick&#x2F;mail&#x2F;link)</span><br><span class="line">   recordIP: true # Record reviewer IP</span><br><span class="line">   serverURLs: # This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)</span><br><span class="line">   bg: # valine background</span><br><span class="line">   emojiCDN: https:&#x2F;&#x2F;i0.hdslb.com&#x2F;bfs&#x2F;emote&#x2F; # emoji CDN</span><br><span class="line">   enableQQ: true # enable the Nickname box to automatically get QQ Nickname and QQ Avatar</span><br><span class="line">   requiredFields: mail # required fields (nick&#x2F;mail)</span><br><span class="line">   count: true # dispaly comment count in top_img</span><br><span class="line">   master: # md5加密后的博主邮箱</span><br><span class="line">     - 968c57dece36dc7de97013dd71a84773</span><br><span class="line">   friends: # md5加密后的小伙伴邮箱</span><br><span class="line">     - f6572f1e203dd79b7545ff297b037d74</span><br><span class="line">   metaPlaceholder: # 输入框的背景文字</span><br><span class="line">     nick: 昵称&#x2F;QQ号</span><br><span class="line">     mail: 邮箱(必填)</span><br><span class="line">     link: 网址(https:&#x2F;&#x2F;)</span><br><span class="line">   tagMeta: &#39;博主,小伙伴,访客&#39; # 标签要显示的文字,默认&#39;博主,小伙伴,访客&#39;</span><br><span class="line">   verify: true # 评论时是否需要验证，需jQuery支持</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> valine </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo导航目录点击自动跳转</title>
      <link href="p/a564d3b/"/>
      <url>p/a564d3b/</url>
      
        <content type="html"><![CDATA[<p>建立page：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page &#39;navi&#39;</span><br></pre></td></tr></table></figure><p>在<code>navi</code>下的<code>index.md</code>中加入如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;0;url&#x3D;https:&#x2F;&#x2F;navi.imszz.com&#x2F;&quot;&gt;</span><br><span class="line">&lt;&#x2F;head&gt;</span><br></pre></td></tr></table></figure><p>or</p><p>单页显示</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  Home: &#x2F; || fas fa-home</span><br><span class="line">  导航: https:&#x2F;&#x2F;navi.imszz.com&#x2F; || fas fa-paper-plane</span><br><span class="line">  文章||fas fa-list:</span><br><span class="line">    - 时间轴 || &#x2F;archives&#x2F; || fas fa-archive</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo哔哩哔哩番剧页面插件</title>
      <link href="p/8422e92e/"/>
      <url>p/8422e92e/</url>
      
        <content type="html"><![CDATA[<h3 id="Hexo哔哩哔哩番剧页面插件"><a href="#Hexo哔哩哔哩番剧页面插件" class="headerlink" title="Hexo哔哩哔哩番剧页面插件"></a>Hexo哔哩哔哩番剧页面插件</h3><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-bilibili-bangumi --save</span><br></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>将下面的配置写入站点的配置文件<code>_config.yml</code>里(不是主题的配置文件).</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">bangumi:</span><br><span class="line">  enable: true</span><br><span class="line">  path:</span><br><span class="line">  vmid:</span><br><span class="line">  title: &#39;追番列表&#39;</span><br><span class="line">  quote: &#39;生命不息，追番不止！&#39;</span><br><span class="line">  show: 1</span><br><span class="line">  loading:</span><br><span class="line">  metaColor:</span><br><span class="line">  color:</span><br><span class="line">  webp:</span><br></pre></td></tr></table></figure><ul><li>enable: 是否启用</li><li>path: 番剧页面路径，默认bangumis/index.html</li><li>vmid: 哔哩哔哩番剧页面的vmid(uid)</li><li>title: 该页面的标题</li><li>quote: 写在页面开头的一段话,支持 html 语法</li><li>show: 初始显示页面：0: 想看,1: 在看,2: 看过，默认为1</li><li>loading: 图片加载完成前的 loading 图片</li><li>metaColor: meta 部分(简介上方)字体颜色</li><li>color: 简介字体颜色</li><li>webp: 番剧封面使用webp格式(此格式在safari浏览器下不显示，但是图片大小可以缩小 100 倍左右), 默认true</li></ul><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>在<code>hexo generate</code>或<code>hexo deploy</code>之前使用<code>hexo bangumi -u</code>命令更新番剧数据！<br>删除数据命令:<code>hexo bangumi -d</code></p><h3 id="获取-uid"><a href="#获取-uid" class="headerlink" title="获取 uid"></a>获取 uid</h3><p>登录哔哩哔哩后前往<code>https://space.bilibili.com/</code> 页面，网址最后的一串数字就是<code>uid</code></p><p><strong>前提需要把番剧公开所有人可见</strong></p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> bilibili </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-qiniu-sync使用七牛为Hexo存储图片等资源</title>
      <link href="p/d9a940f3/"/>
      <url>p/d9a940f3/</url>
      
        <content type="html"><![CDATA[<h3 id="七牛存储设置"><a href="#七牛存储设置" class="headerlink" title="七牛存储设置"></a>七牛存储设置</h3><p>1.申请七牛账户<br>2.创建存储空间（七牛叫作”Bucket“），注意添加的空间为”对象存储“，访问控制选择”公开空间“：<br>3.点击页面右上角头像→进入”密钥管理“→复制当前使用中的<code>AK</code>和<code>SK</code>，待会设置插件时会用到</p><h3 id="设置-hexo-qiniu-sync-插件"><a href="#设置-hexo-qiniu-sync-插件" class="headerlink" title="设置 hexo-qiniu-sync 插件"></a>设置 hexo-qiniu-sync 插件</h3><p>1.安装插件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-qiniu-sync --save</span><br></pre></td></tr></table></figure><p>2.添加插件配置信息到站点<code>hexo</code>根配置文件 <code>_config.yml</code> ：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">qiniu:</span><br><span class="line">   offline: false</span><br><span class="line">   sync: true</span><br><span class="line">   bucket: #七牛空间名称 </span><br><span class="line">   access_key: #密钥AccessKey</span><br><span class="line">   secret_key: #SecretKey</span><br><span class="line">   dirPrefix:</span><br><span class="line">   urlPrefix:  #外链前缀域名，创建会自动分配测试域名，最好是自己的域名，测试域名有时效</span><br><span class="line">   local_dir: cdn</span><br><span class="line">   update_exist: true</span><br><span class="line">   image:</span><br><span class="line">     folder: images</span><br><span class="line">     extend:</span><br><span class="line">   js:</span><br><span class="line">     folder: js</span><br><span class="line">   css:</span><br><span class="line">     folder: css</span><br></pre></td></tr></table></figure><h3 id="配置参数的说明："><a href="#配置参数的说明：" class="headerlink" title="配置参数的说明："></a>配置参数的说明：</h3><ul><li><code>offline</code> ：是否离线。设置为 true 将在本地预览时使用本地地址渲染，省流量； false 将使用同步到七牛空间的静态资源渲染，方便检查资源链接是否正确。</li><li><code>sync</code> ：是否同步到七牛，一般都是设置 true 啦</li><li>dirPrefix ：资源将上传到七牛空间的此目录下，可像我一样设置为空。该参数会影响外链的地址，如果设置为非空值，例如默认值 static ，则 urlPrefix 为保持一致需加上目录后缀 /static ，改为 <a href="http://7xqb0u.com1.z0.glb.clouddn.com/static">http://7xqb0u.com1.z0.glb.clouddn.com/static</a> 。</li><li><code>local_dir</code> ：本地资源储存目录。在本例中，待上传的资源都储存在hexo主目录中的 cdn 文件夹（也就是与 source 目录平级）中。</li><li><code>update_exist</code> ：设置为 true ，则会在文件更新之后重新上传并更新七牛空间上中的原有文件。</li><li>image/js/css ：子参数folder为不同静态资源种类的目录名称，一般不需要改动</li><li>image.extend ：使用 qnimg 标签引用图片的默认图片处理操作。可以使用 基本图片处理（imageView2）、高级图片处理（imageMogr2）、图片水印处理（watermark） 这三个图片处理接口，多个接口内容之间用 | 间隔。</li></ul><h3 id="配置本地目录"><a href="#配置本地目录" class="headerlink" title="配置本地目录"></a>配置本地目录</h3><p>本地目录名称需要与 <code>local_dir</code> 参数的值一致。所以在 hexo主目录 下新建与 <code>source</code> 平级的目录 <code>cdn</code> ，用于存放需要上传到七牛的资源<br>在 cdn 目录下创建子目录： <code>css</code> 、 <code>images</code> 、 <code>js</code> ，与 <code>image/js/css</code> 子参数 <code>folder</code> 保持一致，待上传的css、图片、js文件应该存储到相应子目录。也可新建其他子目录,我的Hexo主目录结构如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">├─.deploy_git</span><br><span class="line">├─cdn</span><br><span class="line">│ ├─css</span><br><span class="line">│ ├─images</span><br><span class="line">│ └─js</span><br><span class="line">├─node_modules</span><br><span class="line">├─public</span><br><span class="line">├─scaffolds</span><br><span class="line">├─source</span><br><span class="line">└─theme</span><br></pre></td></tr></table></figure><h3 id="引用七牛资源"><a href="#引用七牛资源" class="headerlink" title="引用七牛资源"></a>引用七牛资源</h3><h4 id="引用图片"><a href="#引用图片" class="headerlink" title="引用图片"></a>引用图片</h4><p>图片的引用是最典型的情况。让我们来看最简单的情况：如果你想引用储存在 <code>cdn/images</code> 下的图片 <code>demo.jpg</code> ，只需在文章中插入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% qnimg demo.jpg %&#125;</span><br></pre></td></tr></table></figure><p>生成站点时将被解析为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src&#x3D;&quot;http:&#x2F;&#x2F;7xqb0u.com1.z0.glb.clouddn.com&#x2F;images&#x2F;demo.jpg&quot;&gt;  注意路径，要与得到的七牛外链路径相同</span><br></pre></td></tr></table></figure><p>我们总结一下生成的图片外链地址规则。我们把引用实例概括为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% qnimg ImgFile %&#125;</span><br></pre></td></tr></table></figure><p>则生成的图片外链地址规则为 <code>urlPrefix</code> + <code>/</code> + <code>image.folder</code> + <code>/</code> + <code>ImgFile</code> 。<br>我们再定义文件在 cdn 目录下的相对路径为 <code>FilePath</code> ，即文件 <code>cdn/demo.mp3</code> 的 <code>FilePath</code> 为 <code>demo.mp3</code> ， <code>cdn/images/test/01.png</code> 的 <code>FilePath</code> 为 <code>images/test/01.png</code> 。则实际上传到七牛的文件外链地址为 AK/SK所指向用户的绑定域名 + <code>/</code> + <code>dirPrefix</code> + <code>/</code> + <code>FilePath</code> 。只有当生成的图片外链地址与实际上传到七牛的文件外链地址一致时，引用的图片才能正确显示。根据配置文件，我们知道：</p><ul><li>urlPrefix = <a href="http://qdwuxlf4l.bkt.clouddn.com/">http://qdwuxlf4l.bkt.clouddn.com</a></li><li>image.folder = images</li><li>AK/SK所指向用户的绑定域名 = <a href="http://qdwuxlf4l.bkt.clouddn.com/">http://qdwuxlf4l.bkt.clouddn.com</a></li><li>dirPrefix 为空值<br>代入，可得：</li><li>生成的图片外链地址规则 = <a href="http://qdwuxlf4l.bkt.clouddn.com/images/ImgFile">http://qdwuxlf4l.bkt.clouddn.com/images/ImgFile</a></li><li>上传到七牛的文件外链地址 = <a href="http://qdwuxlf4l.bkt.clouddn.com/FilePath">http://qdwuxlf4l.bkt.clouddn.com/FilePath</a></li></ul><p>而如果按照上文所说，将图片文件存储在 cdn/images 目录下，则 images/ + ImgFile = FilePath ，二者相等。<br>要想正确的引用外链，一定要注意每一个步骤的设置。如果最后外链不能正常显示，首先对比一下网站博客引用的地址和七牛的外链地址是否一致，如果不一致，则对照外链地址的生成规律，检查文件存放路径、 urlPrefix 、 dirPrefix 、 image.folder 设置是否正确。</p><h4 id="图片引用的高阶版"><a href="#图片引用的高阶版" class="headerlink" title="图片引用的高阶版"></a>图片引用的高阶版</h4><p>高级用法的通用模版：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% qnimg imageFile [attr1:value1] [&#39;attr2:value21 value22 ...&#39;] [extend:... | normal:yes] %&#125;</span><br></pre></td></tr></table></figure><ul><li>[] 表示可选项，按需添加，也可以不写</li><li>| 表示二选一</li><li>extend:… 图片处理参数，表示对图片进行某种特定处理5，多个处理之间用 | 间</li><li>normal:yes 表示使用原图，忽略 <code>_config.yml</code> 文件中的 image.extend 设置</li></ul><p>实例 图片的本地路径为 <code>cdn/images/test/demo.png</code> ：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% qnimg test&#x2F;demo.png title:标题 alt:说明 &#39;class:class1 class2&#39; extend:?imageView2&#x2F;2&#x2F;w&#x2F;600 %&#125;</span><br></pre></td></tr></table></figure><p>解析为：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img title&#x3D;&quot;标题&quot; alt&#x3D;&quot;说明&quot; class&#x3D;&quot;class1 class2&quot; src&#x3D;&quot;http:&#x2F;&#x2F;qdwuxlf4l.bkt.clouddn.com&#x2F;images&#x2F;test&#x2F;demo.png?imageView2&#x2F;2&#x2F;w&#x2F;600&quot;&gt;</span><br></pre></td></tr></table></figure><p>其中 <code>?imageView2/2/w/500</code> 代表生成宽度最多500px的缩略图5。如果经常使用某种图片效果，可以在其七牛创建处理样式，以后直接将 <code>extend</code> 参数设置为 分隔符 <code>+</code> 样式名 就好。例如设置的分隔符为 <code>-</code> ，样式名为 <code>new</code> ，则 <code>extend</code> 参数为 <code>-new</code> 。</p><h4 id="引用CSS和JS"><a href="#引用CSS和JS" class="headerlink" title="引用CSS和JS"></a>引用CSS和JS</h4><p>只是引用的标签名不同：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% qnjs jsFile attr1:value1 attr2:value2 &#39;attr3:value31 value32 value3n&#39; %&#125;</span><br><span class="line">&#123;% qncss cssFile attr1:value1 attr2:value2 &#39;attr3:value31 value32 value3n&#39; %&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> qiniu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-tag-aplayer音乐插件使用</title>
      <link href="p/d64778f7/"/>
      <url>p/d64778f7/</url>
      
        <content type="html"><![CDATA[<h3 id="hexo-tag-aplayer"><a href="#hexo-tag-aplayer" class="headerlink" title="hexo-tag-aplayer"></a>hexo-tag-aplayer</h3><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure><h3 id="依赖"><a href="#依赖" class="headerlink" title="依赖"></a>依赖</h3><ul><li>APlayer.js &gt; 1.8.0</li><li>Meting.js &gt; 1.1.1</li></ul><h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125;</span><br></pre></td></tr></table></figure><h4 id="标签参数"><a href="#标签参数" class="headerlink" title="标签参数"></a>标签参数</h4><ul><li><code>title</code> : 曲目标题</li><li><code>author</code>: 曲目作者</li><li><code>url</code>: 音乐文件 URL 地址</li><li><code>picture_url</code>: (可选) 音乐对应的图片地址</li><li><code>narrow</code>: （可选）播放器袖珍风格</li><li><code>autoplay</code>:  (可选) 自动播放，移动端浏览器暂时不支持此功能</li><li><code>width:xxx</code>: (可选) 播放器宽度 (默认: 100%)</li><li><code>lrc:xxx</code>: （可选）歌词文件 URL 地址<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer &quot;Caffeine&quot; &quot;Jeff Williams&quot; &quot;caffeine.mp3&quot; &quot;picture.jpg&quot; &quot;lrc:caffeine.txt&quot; %&#125;</span><br></pre></td></tr></table></figure><h4 id="歌词标签"><a href="#歌词标签" class="headerlink" title="歌词标签"></a>歌词标签</h4></li></ul><p>除了使用标签 <code>lrc</code> 选项来设定歌词，你也可以直接使用 <code>aplayerlrc</code> 标签来直接插入歌词文本在博客中：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlrc &quot;title&quot; &quot;author&quot; &quot;url&quot; &quot;autoplay&quot; %&#125;</span><br><span class="line">[00:00.00]lrc here</span><br><span class="line">&#123;% endaplayerlrc %&#125;</span><br></pre></td></tr></table></figure><h4 id="播放列表"><a href="#播放列表" class="headerlink" title="播放列表"></a>播放列表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;</span><br><span class="line">&#123;</span><br><span class="line">    &quot;narrow&quot;: false,                          &#x2F;&#x2F; （可选）播放器袖珍风格</span><br><span class="line">    &quot;autoplay&quot;: true,                         &#x2F;&#x2F; （可选) 自动播放，移动端浏览器暂时不支持此功能</span><br><span class="line">    &quot;mode&quot;: &quot;random&quot;,                         &#x2F;&#x2F; （可选）曲目循环类型，有 &#39;random&#39;（随机播放）, &#39;single&#39; (单曲播放), &#39;circulation&#39; (循环播放), &#39;order&#39; (列表播放)， 默认：&#39;circulation&#39;</span><br><span class="line">    &quot;showlrc&quot;: 3,                             &#x2F;&#x2F; （可选）歌词显示配置项，可选项有：1,2,3</span><br><span class="line">    &quot;mutex&quot;: true,                            &#x2F;&#x2F; （可选）该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</span><br><span class="line">    &quot;theme&quot;: &quot;#e6d0b2&quot;,                      &#x2F;&#x2F; （可选）播放器风格色彩设置，默认：#b7daff</span><br><span class="line">    &quot;preload&quot;: &quot;metadata&quot;,                    &#x2F;&#x2F; （可选）音乐文件预载入模式，可选项： &#39;none&#39; &#39;metadata&#39; &#39;auto&#39;, 默认: &#39;auto&#39;</span><br><span class="line">    &quot;listmaxheight&quot;: &quot;513px&quot;,                 &#x2F;&#x2F; (可选) 该播放列表的最大长度</span><br><span class="line">    &quot;music&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;CoCo&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;Jeff Williams&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;caffeine.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;caffeine.jpeg&quot;,</span><br><span class="line">            &quot;lrc&quot;: &quot;caffeine.txt&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;アイロニ&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;鹿乃&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;irony.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;irony.jpg&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure><h3 id="MeingJS-支持-3-0-新功能-最主要最简单的使用-推荐使用"><a href="#MeingJS-支持-3-0-新功能-最主要最简单的使用-推荐使用" class="headerlink" title="MeingJS 支持 (3.0 新功能) 最主要最简单的使用 推荐使用"></a>MeingJS 支持 (3.0 新功能) 最主要最简单的使用 推荐使用</h3><p><a href="https://github.com/metowolf/MetingJS">MetingJS</a> 是基于<a href="https://github.com/metowolf/Meting">Meting API</a> 的 APlayer 衍生播放器，引入 MetingJS 后，播放器将支持对于 QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐播放。</p><p>如果想在本插件中使用 MetingJS，请在 Hexo 配置文件 <code>_config.yml</code> 中设置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>接着就可以通过 <code>&#123;% meting ...%&#125;</code> 在文章中使用 MetingJS 播放器了：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim source&#x2F;music&#x2F;index.md  #添加以下代码</span><br><span class="line">&#123;% meting &quot;1983872197&quot; &quot;netease&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:700px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;%&#125;</span><br><span class="line">注 meting &quot;1983872197&quot; 可以为歌单ID或者单曲ID</span><br></pre></td></tr></table></figure><p>有关  <code>&#123;% meting %&#125;</code>  的选项列表如下:</p><table><thead><tr><th>选项</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>id</td><td><strong>必须值</strong></td><td>歌曲 id / 播放列表 id / 相册 id / 搜索关键字</td></tr><tr><td>server</td><td><strong>必须值</strong></td><td>音乐平台: <code>netease</code>, <code>tencent</code>, <code>kugou</code>, <code>xiami</code>, <code>baidu</code></td></tr><tr><td>type</td><td><strong>必须值</strong></td><td><code>song</code>, <code>playlist</code>, <code>album</code>, <code>search</code>, <code>artist</code></td></tr><tr><td>fixed</td><td><code>false</code></td><td>开启固定模式</td></tr><tr><td>mini</td><td><code>false</code></td><td>开启迷你模式</td></tr><tr><td>loop</td><td><code>all</code></td><td>列表循环模式：<code>all</code>, <code>one</code>,<code>none</code></td></tr><tr><td>order</td><td><code>list</code></td><td>列表播放模式： <code>list</code>, <code>random</code></td></tr><tr><td>volume</td><td>0.7</td><td>播放器音量</td></tr><tr><td>lrctype</td><td>0</td><td>歌词格式类型</td></tr><tr><td>listfolded</td><td><code>false</code></td><td>指定音乐播放列表是否折叠</td></tr><tr><td>storagename</td><td><code>metingjs</code></td><td>LocalStorage 中存储播放器设定的键名</td></tr><tr><td>autoplay</td><td><code>true</code></td><td>自动播放，移动端浏览器暂时不支持此功能</td></tr><tr><td>mutex</td><td><code>true</code></td><td>该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</td></tr><tr><td>listmaxheight</td><td><code>340px</code></td><td>播放列表的最大长度</td></tr><tr><td>preload</td><td><code>auto</code></td><td>音乐文件预载入模式，可选项： <code>none</code>, <code>metadata</code>, <code>auto</code></td></tr><tr><td>theme</td><td><code>#ad7a86</code></td><td>播放器风格色彩设置</td></tr></tbody></table><p>插件会在每一個文件都插入 js 和 css，为了避免这一情況，<code>butterfiy 3.0</code> 版本內置了 aplayer 需要的 css 和 js。<br>如果需要在指定的文章上播放<br>首先在 Hexo 根目錄<code>_config</code> 里配置 <code>asset_inject</code> 为 <code>false</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aplayer:</span><br><span class="line">  asset_inject: false</span><br></pre></td></tr></table></figure><p>然後在你需要使用 aplayer 的页面 Front-matter 添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aplayer: true</span><br></pre></td></tr></table></figure><p>这样只会在需要 aplayer 的页面插入 js 和 css。</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> aplayer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-douban 插件使用与问题</title>
      <link href="p/2651b0bd/"/>
      <url>p/2651b0bd/</url>
      
        <content type="html"><![CDATA[<h2 id="hexo-douban"><a href="#hexo-douban" class="headerlink" title="hexo-douban"></a>hexo-douban</h2><p>一个在 <a href="https://hexo.io/">Hexo</a> 页面中嵌入豆瓣个人主页的小插件.</p><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-douban --save</span><br></pre></td></tr></table></figure><h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>将下面的配置写入站点的配置文件 <code>_config.yml</code> 里(不是主题的配置文件).</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">douban:</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">mythsman</span></span><br><span class="line">  <span class="attr">builtin:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">book:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">&#x27;This is my book title&#x27;</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">&#x27;This is my book quote&#x27;</span></span><br><span class="line">  <span class="attr">movie:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">&#x27;This is my movie title&#x27;</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">&#x27;This is my movie quote&#x27;</span></span><br><span class="line">  <span class="attr">game:</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">&#x27;This is my game title&#x27;</span></span><br><span class="line">    <span class="attr">quote:</span> <span class="string">&#x27;This is my game quote&#x27;</span></span><br><span class="line">  <span class="attr">timeout:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><ul><li><strong>user</strong>: 你的豆瓣ID.打开豆瓣，登入账户，然后在右上角点击 “个人主页” ，这时候地址栏的URL大概是这样：”<a href="https://www.douban.com/people/xxxxxx/&quot;">https://www.douban.com/people/xxxxxx/&quot;</a> ，其中的”xxxxxx”就是你的个人ID了。</li><li><strong>builtin</strong>: 是否将生成页面的功能嵌入<code>hexo s</code>和<code>hexo g</code>中，默认是<code>false</code>,另一可选项为<code>true</code>(1.x.x版本新增配置项)。</li><li><strong>title</strong>: 该页面的标题.</li><li><strong>quote</strong>: 写在页面开头的一段话,支持html语法.</li><li><strong>timeout</strong>: 爬取数据的超时时间，默认是 10000ms ,如果在使用时发现报了超时的错(ETIMEOUT)可以把这个数据设置的大一点。</li></ul><p>如果只想显示某一个页面(比如movie)，那就把其他的配置项注释掉即可。</p><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="1-x-x版本"><a href="#1-x-x版本" class="headerlink" title="1.x.x版本"></a>1.x.x版本</h3><p>在0.x.x版本中，文章的更新和豆瓣页面的爬取操作是绑定在一起的，无法支持单独更新文章或者单独爬取文章。</p><p>在1.x.x版本中，使用<code>hexo douban</code>命令即可生成指定页面，如果不加参数，那么默认参数为<code>-bgm</code>。</p><p><strong>需要注意的是</strong>，通常大家都喜欢用<code>hexo d</code>来作为<code>hexo deploy</code>命令的简化，但是当安装了<code>hexo douban</code>之后，就不能用<code>hexo d</code>了，因为<code>hexo douban</code>跟<code>hexo deploy</code>的前缀都是<code>hexo d</code>。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ hexo douban -h</span><br><span class="line">Usage: hexo douban</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line">Generate pages from douban</span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -b, --books   Generate douban books only</span><br><span class="line">  -g, --games   Generate douban games only</span><br><span class="line">  -m, --movies  Generate douban movies only</span><br></pre></td></tr></table></figure><p>如果配置了<code>builtin</code>参数为<code>true</code>，那么除了可以使用<code>hexo douban</code>命令之外，<code>hexo g</code>或<code>hexo s</code>也内嵌了生成页面的功能。</p><h3 id="0-x-x版本"><a href="#0-x-x版本" class="headerlink" title="0.x.x版本"></a>0.x.x版本</h3><p>直接使用命令<code>hexo g</code>即在生成静态页面前爬取豆瓣数据，如果使用<code>hexo s</code>则会监听文件变动，每有一次变动就会重新爬取数据。</p><h3 id="升级"><a href="#升级" class="headerlink" title="升级"></a>升级</h3><p>我会不定期更新一些功能或者修改一些Bug，所以如果想使用最新的特性，可以用下面的方法来更新:</p><ol><li>修改package.json内hexo-douban的版本号至最新</li><li>重新安装最新版本<code>npm install hexo-douban --save</code></li></ol><p>或者使用<code>npm install hexo-douban --update --save</code>直接更新。</p><h3 id="显示"><a href="#显示" class="headerlink" title="显示"></a>显示</h3><p>如果上面的配置和操作都没问题，就可以在生成站点之后打开 <code>//yourblog/books</code> 和 <code>//yourblog/movies</code>, <code>//yourblog/games</code>, 来查看结果.</p><h3 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a>菜单</h3><p>如果上面的显示没有问题就可以在主题的配置文件 <code>_config.yml</code> 里添加如下配置来为这些页面添加菜单链接.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">Home:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">Archives:</span> <span class="string">/archives</span></span><br><span class="line">  <span class="attr">Books:</span> <span class="string">/books</span>     <span class="comment">#This is your books page</span></span><br><span class="line">  <span class="attr">Movies:</span> <span class="string">/movies</span>   <span class="comment">#This is your movies page</span></span><br><span class="line">  <span class="attr">Games:</span> <span class="string">/games</span>   <span class="comment">#This is your games page</span></span><br></pre></td></tr></table></figure><h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><ol><li>关于将builtin设置为true或者false的问题<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">设置为true</span><br><span class="line">直接使用命令&#96;hexo g&#96;即在生成静态页面前爬取豆瓣数据，不需要先执行 hexo douban</span><br></pre></td></tr></table></figure></li><li>关于报<code>userid</code> 设置完成，<code>hexo g</code> 抓取不到信息的问题<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 books have been loaded in 3066 ms, because you are offline or your network is bad</span><br><span class="line">0 movies have been loaded in 3041 ms, because you are offline or your network is bad</span><br></pre></td></tr></table></figure><code>timeout</code> 配置为 <code>timeout: 10000</code></li></ol><p>解决方式</p><p>尝试使用别的nodejs版本，之前用的14.xx.xx版本的不行，卸载nodejs，安装12.18.0版本解决。</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> douban </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-butterfly添加日历插件</title>
      <link href="p/22d30f17/"/>
      <url>p/22d30f17/</url>
      
        <content type="html"><![CDATA[<h1 id="添加日历"><a href="#添加日历" class="headerlink" title="添加日历"></a>添加日历</h1><h3 id="安装-hexo-generator-calendar-插件"><a href="#安装-hexo-generator-calendar-插件" class="headerlink" title="安装 hexo-generator-calendar 插件"></a>安装 <code>hexo-generator-calendar</code> 插件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install --save git:&#x2F;&#x2F;github.com&#x2F;howiefh&#x2F;hexo-generator-calendar.git</span><br></pre></td></tr></table></figure><p>下载 <code>calendar.js</code> 和 <code>languages.js</code> 文件，保存到 <code>themes/Butterfly/source/js/</code> 目录</p><ul><li><a href="https://github.com/pengloo53/Hexo-theme-light_cn/blob/master/source/js/calendar.js">calendar.js</a> 下载地址</li><li><a href="https://github.com/pengloo53/Hexo-theme-light_cn/blob/master/source/js/languages.js">languages.js</a> 下载地址</li></ul><p>编辑 <code>calendar.js</code> 文件，在文件最后<code>&#125;(jQuery));</code> 之前添加:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$(document).ready(function () &#123;</span><br><span class="line">    $(&#39;#calendar&#39;).aCalendar(&#39;zh-CN&#39;);&#x2F;&#x2F;&#39;zh-CN&#39;请根据自己博客的语言选择</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="具体位置参考下图："><a href="#具体位置参考下图：" class="headerlink" title="具体位置参考下图："></a>具体位置参考下图：</h2><p>编辑 <code>butterfly.yml</code> 文件, 在 <code>inject-&gt;bottom</code> 下面添加如下内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- &lt;script src&#x3D;&quot;&#x2F;js&#x2F;calendar.js&quot;&gt;&lt;&#x2F;script&gt;</span><br><span class="line">- &lt;script src&#x3D;&quot;&#x2F;js&#x2F;languages.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>新建 <code>calendar.styl</code> 文件，保存到 <code>themes/Butterfly/source/css/_layout/</code> 目录下,内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line">#calendar</span><br><span class="line">  a</span><br><span class="line">    text-decoration none</span><br><span class="line"></span><br><span class="line">.cal-head</span><br><span class="line">  margin-bottom: 15px</span><br><span class="line">  position relative</span><br><span class="line">  height 20px</span><br><span class="line">  padding 8px 6px 2px 6px</span><br><span class="line"></span><br><span class="line">.cal-prev,.cal-next</span><br><span class="line">  position absolute</span><br><span class="line">  top 9px</span><br><span class="line">  width 16px</span><br><span class="line">  height 18px</span><br><span class="line">  padding 3px 4px</span><br><span class="line">  border 1px solid transparent</span><br><span class="line">  color #333</span><br><span class="line">  outline 0</span><br><span class="line"></span><br><span class="line">.cal-prev</span><br><span class="line">  left 8px</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-right 9px solid #333</span><br><span class="line"></span><br><span class="line">.cal-next</span><br><span class="line">  right 8px</span><br><span class="line">  &amp;:before</span><br><span class="line">    border-left 9px solid #333</span><br><span class="line"></span><br><span class="line">.cal-prev:before,.cal-next:before</span><br><span class="line">  content &#39;&#39;</span><br><span class="line">  display block</span><br><span class="line">  width 0</span><br><span class="line">  height 0</span><br><span class="line">  border-top 5px solid transparent</span><br><span class="line">  border-bottom 5px solid transparent</span><br><span class="line"></span><br><span class="line">.cal-title</span><br><span class="line">  width 100px</span><br><span class="line">  margin 0 auto</span><br><span class="line">  color #333</span><br><span class="line">  font bold 14px&#x2F;18px Arial</span><br><span class="line">  text-align center</span><br><span class="line">  a</span><br><span class="line">    border 1px solid transparent</span><br><span class="line">    color #9f9f9f</span><br><span class="line"></span><br><span class="line">.cal,</span><br><span class="line">.cal th,</span><br><span class="line">.cal td</span><br><span class="line">  border 1px solid #d1d1d1</span><br><span class="line"></span><br><span class="line">.cal</span><br><span class="line">  display: table</span><br><span class="line">  border-collapse separate</span><br><span class="line">  border-spacing 0</span><br><span class="line">  border-width 1px 0 0 1px</span><br><span class="line">  table-layout fixed</span><br><span class="line">  width 100%</span><br><span class="line">  margin 0</span><br><span class="line">  th</span><br><span class="line">    background #9f9f9f</span><br><span class="line">    color #fff</span><br><span class="line">    border-width 0 1px 1px 0</span><br><span class="line">    font-weight 700</span><br><span class="line">  td</span><br><span class="line">    border-width 0 1px 1px 0</span><br><span class="line">  tbody</span><br><span class="line">    a</span><br><span class="line">      background-color #007acc</span><br><span class="line">      color #fff</span><br><span class="line">      display block</span><br><span class="line">      font-weight 700</span><br><span class="line">    .cal-today</span><br><span class="line">      background-color #66ecfd</span><br><span class="line">      color #fff</span><br><span class="line">  .cal-gray</span><br><span class="line">    color #bbb8b8</span><br><span class="line"></span><br><span class="line">[data-theme&#x3D;&#39;dark&#39;] .cal .cal-gray</span><br><span class="line">  color #505050</span><br><span class="line"></span><br><span class="line">.cal th,</span><br><span class="line">.cal td</span><br><span class="line">  font-weight normal</span><br><span class="line">  line-height 2.5625</span><br><span class="line">  padding 0</span><br><span class="line">  text-align center</span><br><span class="line"></span><br><span class="line">[data-theme&#x3D;&#39;dark&#39;] .cal .cal-foot</span><br><span class="line">  color #9f9f9f</span><br><span class="line"></span><br><span class="line">.cal .cal-foot</span><br><span class="line">  color #2ca6cb</span><br><span class="line"></span><br><span class="line">.cal-title a:hover,</span><br><span class="line">.cal-prev:hover,</span><br><span class="line">.cal-next:hover,</span><br><span class="line">.cal .cal-foot:hover,</span><br><span class="line">.cal .cal-foot:focus,</span><br><span class="line">.cal tbody a:hover,</span><br><span class="line">.cal tbody a:focus</span><br><span class="line">  background-color #686868</span><br><span class="line">  color #fff</span><br><span class="line">  cursor pointer</span><br></pre></td></tr></table></figure><p>在 <code>themes/Butterfly/layout/includes/widget/</code> 文件夹新建 <code>card_calendar.pug</code> 文件，文件内容如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">.card-widget.card-calendar</span><br><span class="line">  .card-content</span><br><span class="line">    .item-headline</span><br><span class="line">      i.far.fa-calendar-alt(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">      span&#x3D; _p(&#39;aside.card_calendar&#39;)</span><br><span class="line">    div.widget-wrap</span><br><span class="line">    div#calendar.widget</span><br></pre></td></tr></table></figure><p>编辑 <code>themes/Butterfly/layout/includes/widget/index.pug</code>     文件，在你想要显示的位置插入以下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if theme.aside.card_calendar</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_calendar&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure><h2 id="具体位置参考下图：-1"><a href="#具体位置参考下图：-1" class="headerlink" title="具体位置参考下图："></a>具体位置参考下图：</h2><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/card4.jpg" alt="github--lena"></p><blockquote><p>注意格式，放置位置，会影响顺序排版！</p></blockquote><p>编辑 <code>butterfly.yml</code> 文件，在 <code>card_webinfo</code> 下面添加一行 <code>card_calendar: true</code></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/card2.jpg" alt="github--lena"></p><p>编辑 <code>themes/Butterfly/languages/zh-CN.yml</code> 文件 (请根据你的网站语言选择)，找到 <code>aside</code>  , 在下面添加一行 <code>card_calendar: 日历</code> (后面的文本可自定义)</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/card3.jpg" alt="github--lena"></p><p>如果不想显示，直接把 <code>butterfly.yml</code> 文件的 <code>card_calendar: true</code> 改为 <code>card_calendar: false</code> 即可</p><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>因更新最新主题<code>3.5.1</code>版本出现以下报错</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JQuery - $ is not defined</span><br></pre></td></tr></table></figure><p>解决方式</p><p>引入以下js</p><div class="note success flat"><p><a href="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/js/jquery.min.js">https://cdn.jsdelivr.net/gh/weilain/cdn-photo/js/jquery.min.js</a></p></div><h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>在<code>inject:</code> -&gt; <code>bottom:</code> </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;weilain&#x2F;cdn-photo&#x2F;js&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>解决我了遇到的问题！</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-butterfly美化 (持续更新)</title>
      <link href="p/1b825486/"/>
      <url>p/1b825486/</url>
      
        <content type="html"><![CDATA[<h3 id="樱花飘落背景"><a href="#樱花飘落背景" class="headerlink" title="樱花飘落背景"></a>樱花飘落背景</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd theme&#x2F;Butterfly&#x2F;source&#x2F;js</span><br><span class="line">wget https:&#x2F;&#x2F;yremp.live&#x2F;wp-content&#x2F;uploads&#x2F;resource&#x2F;js&#x2F;sakura.js</span><br></pre></td></tr></table></figure><p>把下载好的Js文件放在<code>theme/Butterfly/source/js</code>文件夹下<br><code>/Butterfly/layout/includes</code>文件夹下找到<code>head.pug</code>文件，在最后引入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if theme.sakura.enable</span><br><span class="line">  script(src&#x3D;&quot;&#x2F;js&#x2F;sakura.js&quot;)</span><br></pre></td></tr></table></figure><p>在主题的主配置文件加入<code>Butterfly/_config.yml</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 页面樱花飘落动效</span><br><span class="line">sakura:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure><h3 id="浏览器标题恶搞"><a href="#浏览器标题恶搞" class="headerlink" title="浏览器标题恶搞"></a>浏览器标题恶搞</h3><p>在<code>theme/Butterfly/source/js</code>文件夹下添加<code>crash_cheat.js</code>文件<br>填入以下内容<code>记得要修改你喜欢的标题</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var OriginTitle &#x3D; document.title;</span><br><span class="line"> var titleTime;</span><br><span class="line"> document.addEventListener(&#39;visibilitychange&#39;, function () &#123;</span><br><span class="line">     if (document.hidden) &#123;</span><br><span class="line">         $(&#39;[rel&#x3D;&quot;icon&quot;]&#39;).attr(&#39;href&#39;, &quot;&#x2F;joke.ico&quot;);</span><br><span class="line">         document.title &#x3D; &#39;看不见我🙈~看不见我🙈~&#39;;</span><br><span class="line">         clearTimeout(titleTime);</span><br><span class="line">     &#125;</span><br><span class="line">     else &#123;</span><br><span class="line">         $(&#39;[rel&#x3D;&quot;icon&quot;]&#39;).attr(&#39;href&#39;, &quot;&#x2F;favicon.ico&quot;);</span><br><span class="line">         document.title &#x3D; &#39; ( ๑•̀ㅂ•́) ✧被发现了～&#39;;</span><br><span class="line">         titleTime &#x3D; setTimeout(function () &#123;</span><br><span class="line">             document.title &#x3D; OriginTitle;</span><br><span class="line">         &#125;, 2000);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure><p>在<code>Butterfly/layout/includes/layout.pug</code>中添加以下代码来引入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">script(type&#x3D;&#39;text&#x2F;javascript&#39;, src&#x3D;&#39;&#x2F;js&#x2F;crash_cheat.js&#39;)</span><br></pre></td></tr></table></figure><h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>因更新最新主题版本出现以下报错</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">JQuery - $ is not defined</span><br></pre></td></tr></table></figure><p>解决方式</p><p>引入以下js</p><div class="note success flat"><p><a href="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/js/jquery.min.js">https://cdn.jsdelivr.net/gh/weilain/cdn-photo/js/jquery.min.js</a></p></div><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><p>在<code>inject:</code> -&gt; <code>bottom:</code> </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;weilain&#x2F;cdn-photo&#x2F;js&#x2F;jquery.min.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>解决我了遇到的问题！</p><h3 id="添加标签云"><a href="#添加标签云" class="headerlink" title="添加标签云"></a>添加标签云</h3><p>使用命令进行安装插件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install hexo-tag-cloud --save</span><br></pre></td></tr></table></figure><p>打开<code>Butterfly/layout/includes/widget/card_tags.pug</code>文件，用下面内容将其替换掉，最好把之前的文件备份一下,防止后悔</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">if site.tags.length</span><br><span class="line">  .card-widget.card-tags</span><br><span class="line">    .card-content</span><br><span class="line">      .item-headline</span><br><span class="line">        i.fa.fa-tags(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">        span&#x3D; _p(&#39;aside.card_tags&#39;)</span><br><span class="line">        script(type&#x3D;&quot;text&#x2F;javascript&quot; charset&#x3D;&quot;utf-8&quot; src&#x3D;&quot;&#x2F;js&#x2F;tagcloud.js&quot;)</span><br><span class="line">        script(type&#x3D;&quot;text&#x2F;javascript&quot; charset&#x3D;&quot;utf-8&quot; src&#x3D;&quot;&#x2F;js&#x2F;tagcanvas.js&quot;)</span><br><span class="line">        #myCanvasContainer.widget.tagcloud(align&#x3D;&#39;center&#39;)</span><br><span class="line">          canvas#resCanvas(width&#x3D;&#39;200&#39;, height&#x3D;&#39;200&#39;, style&#x3D;&#39;width&#x3D;100%&#39;)</span><br><span class="line">            !&#x3D; tagcloud()</span><br><span class="line">          !&#x3D; tagcloud(&#123;min_font: 16, max_font: 24, amount: 50, color: true, start_color: &#39;#999&#39;, end_color: &#39;#99a9bf&#39;&#125;)</span><br></pre></td></tr></table></figure><h3 id="添加个性化板娘"><a href="#添加个性化板娘" class="headerlink" title="添加个性化板娘"></a>添加个性化板娘</h3><blockquote><p>由<a href="https://github.com/stevenjoezhang/live2d-widget">stevenjoezhang</a> 魔改项目<br>最简单引用方式在<code>Butterfly/_config.yml</code>中<code>inject</code>添加</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">   head:</span><br><span class="line">     - &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;font-awesome&#x2F;css&#x2F;font-awesome.min.css&quot;&gt;</span><br><span class="line">   bottom:</span><br><span class="line">     - &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;stevenjoezhang&#x2F;live2d-widget@latest&#x2F;autoload.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><h3 id="添加访客地图"><a href="#添加访客地图" class="headerlink" title="添加访客地图"></a>添加访客地图</h3><p>前往 <a href="https://clustrmaps.com/">clustrmaps</a> 网站注册一个帐号</p><p>找到 <code>Free Tools</code> 下面的 <code>Website Widget</code>, 点击 <code>Get Map Widget</code></p><p>输入你的博客网址，点击 <code>Next</code></p><p>根据你自己的喜好选择样式 <code>Map widget</code> 或 <code>Globe Widget</code></p><p>找到如下代码，记住 <code>src (****** 的部分)</code>:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; id&#x3D;&quot;clstr_globe&quot; src&#x3D;&quot;**********************&quot;&gt;</span><br></pre></td></tr></table></figure><p>在 <code>themes/butterfly/layout/includes/widget/</code> 文件夹新建 <code>card_map.pug</code> 文件，文件内容如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.card-widget.card-map</span><br><span class="line">  .card-content</span><br><span class="line">    .item-headline</span><br><span class="line">      i.fa.fa-globe-asia(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class="line">      span&#x3D; _p(&#39;aside.card_map&#39;)</span><br><span class="line">    script#clstr_globe(type&#x3D;&quot;text&#x2F;javascript&quot; defer&#x3D;&quot;defer&quot; src&#x3D;&quot;此处填入你自己的代码&quot;)</span><br></pre></td></tr></table></figure><p>编辑 <code>themes/butterfly/layout/includes/widget/index.pug</code> 文件，在你想要显示的位置插入以下代码:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if theme.aside.card_map</span><br><span class="line">        !&#x3D;partial(&#39;includes&#x2F;widget&#x2F;card_map&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/card1.jpg" alt="github--lena"></p><blockquote><p>注意格式</p></blockquote><p>编辑 <code>butterfly/_config.yml</code> 文件，在 <code>card_webinfo</code> 下面添加一行 <code>card_map: true</code></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/card2.jpg" alt="github--lena"></p><p>编辑 <code>themes/Butterfly/languages/zh-CN.yml</code> 文件 (请根据你的网站语言选择)，找到 <code>aside</code> 下对应格式添加 <code>card_map: 访客地图</code> (后面的文本可自定义)</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/card3.jpg" alt="github--lena"></p><p>如果不想显示，直接把 <code>butterfly/_config.yml</code> 文件的 <code>card_map: true</code> 改为 <code>card_map: false</code> 即可</p><h3 id="页脚跳动的♥"><a href="#页脚跳动的♥" class="headerlink" title="页脚跳动的♥"></a>页脚跳动的♥</h3><p>编辑博客根目录<code>themes/Butterfly/layout/includes/footer.pug</code>文件，将</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.copyright!&#x3D; &#96;&amp;copy;$&#123;theme.footer.owner.since&#125; - $&#123;nowYear&#125; By $&#123;config.author&#125;&#96;</span><br></pre></td></tr></table></figure><p>改为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.copyright!&#x3D; &#96;&amp;copy;$&#123;theme.footer.owner.since&#125; - $&#123;nowYear&#125; &lt;i id&#x3D;&quot;heartbeat&quot; class&#x3D;&quot;fa fas fa-heartbeat&quot;&gt;&lt;&#x2F;i&gt;  $&#123;config.author&#125;&#96;</span><br></pre></td></tr></table></figure><p>将</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.copyright!&#x3D; &#96;&amp;copy;$&#123;nowYear&#125; By $&#123;config.author&#125;&#96;</span><br></pre></td></tr></table></figure><p>改为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.copyright!&#x3D; &#96;&amp;copy;$&#123;nowYear&#125; &lt;i id&#x3D;&quot;heartbeat&quot; class&#x3D;&quot;fa fas fa-heartbeat&quot;&gt;&lt;&#x2F;i&gt; $&#123;config.author&#125;&#96;</span><br></pre></td></tr></table></figure><p>编辑<code>butterfly.yml</code>文件</p><p>在<code>inject-&gt;head</code>下面添加如下内容：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;HCLonely&#x2F;images@master&#x2F;others&#x2F;heartbeat.min.css&quot;&gt;</span><br></pre></td></tr></table></figure><h3 id="Butterfly加载动画修改"><a href="#Butterfly加载动画修改" class="headerlink" title="Butterfly加载动画修改"></a>Butterfly加载动画修改</h3><p>添加配置文件</p><p>在目录<code>themes/butterfly/layout/includes/loading</code>下添加<code>loaded.ejs</code>文件，代码如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.preloader.enable) &#123; %&gt;</span><br><span class="line">&lt;div id&#x3D;&#39;loader&#39;&gt;</span><br><span class="line">    &lt;% if(theme.preloader.layout &#x3D;&#x3D; &#39;gear&#39; ) &#123;%&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;outer_box&quot;&gt;</span><br><span class="line">    &lt;div class&#x3D;&#39;loader_overlay&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&#39;loader_cogs&#39;&gt;</span><br><span class="line">        &lt;div class&#x3D;&#39;loader_cogs__top&#39;&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;top_part&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;top_part&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;top_part&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;top_hole&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&#39;loader_cogs__left&#39;&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;left_part&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;left_part&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;left_part&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;left_hole&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&#39;loader_cogs__bottom&#39;&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;bottom_part&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;bottom_part&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;bottom_part&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">            &lt;div class&#x3D;&#39;bottom_hole&#39;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;p style&#x3D;&quot;text-align:center&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;loading...&lt;&#x2F;p&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;% &#125; else if(theme.preloader.layout &#x3D;&#x3D; &#39;spinner-box&#39;) &#123; %&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;loading-left-bg&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;loading-right-bg&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;spinner-box&quot;&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;configure-border-1&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;configure-core&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;configure-border-2&quot;&gt;</span><br><span class="line">            &lt;div class&#x3D;&quot;configure-core&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;loading-word&quot;&gt;加载中...&lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br><span class="line">&lt;&#x2F;div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  var endLoading &#x3D; function () &#123;</span><br><span class="line">    document.body.style.overflow &#x3D; &#39;auto&#39;;</span><br><span class="line">    document.getElementById(&#39;loader&#39;).classList.add(&quot;loading&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  window.addEventListener(&#39;load&#39;,endLoading);</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h3 id="引入样式文件"><a href="#引入样式文件" class="headerlink" title="引入样式文件"></a>引入样式文件</h3><ul><li><code>spinner-box</code>风格样式文件 及默认<code>butterfly</code>主题加载：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;zyoushuo&#x2F;Blog@latest&#x2F;hexo&#x2F;css&#x2F;loading_style_1.css&quot; &gt;</span><br></pre></td></tr></table></figure></li><li>gear风格样式文件</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- &lt;link rel&#x3D;&quot;stylesheet&quot; href&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;zyoushuo&#x2F;Blog@latest&#x2F;hexo&#x2F;css&#x2F;loading_style_2.css&quot; &gt;</span><br></pre></td></tr></table></figure><p>将上面两行代码加到主题目录<code>_config _yml</code>下的<code>inject</code>中</p><p>引入到页面</p><p>找到 <code>themes/butterfly/layout/includes/</code>下的文件<code>layout.pug</code>,将代码</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if theme.preloader</span><br><span class="line">      !&#x3D;partial(&#39;includes&#x2F;loading&#x2F;loading&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure><p>替换为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if theme.preloader</span><br><span class="line">      !&#x3D;partial(&#39;includes&#x2F;loading&#x2F;loaded.ejs&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure><p>开启加载</p><p>主题目录<code>_config _yml</code>中的</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">preloader: true</span><br></pre></td></tr></table></figure><p>替换为</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">preloader:</span><br><span class="line">  enable: true</span><br><span class="line">  layout: gear # gear, spinner-box 两种样式</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitlab配置域名并https访问</title>
      <link href="p/5e94d2a7/"/>
      <url>p/5e94d2a7/</url>
      
        <content type="html"><![CDATA[<h3 id="Gitlab默认Nginx80端口"><a href="#Gitlab默认Nginx80端口" class="headerlink" title="Gitlab默认Nginx80端口"></a>Gitlab默认Nginx80端口</h3><p>如果机器未占有80端口，可以直接替换成域名，解析后就可以直接访问。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;^external_url&quot; &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb #查看当前绑定的域名或者IP</span><br><span class="line">vim &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb   #打开配置文件</span><br><span class="line"># external_url &#39;http:&#x2F;&#x2F;192.168.174.131&#39;  #替换   #修改成域名访问</span><br><span class="line">external_url &#39;http:&#x2F;&#x2F;gitlab.inewmaker.com&#39;  </span><br><span class="line">gitlab-ctl reconfigure   #重新跑一下配置</span><br></pre></td></tr></table></figure><p>如果机器80端口以占有，需要修改gitlab端口。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">grep &quot;&#39;listen_port&quot; &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb   #查看默认端口</span><br><span class="line">vim &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb   #打开配置文件</span><br><span class="line">nginx[&#39;listen_port&#39;] &#x3D; 800     #找到取消注释，修改端口</span><br><span class="line">gitlab-ctl reconfigure   #重新跑一下配置</span><br></pre></td></tr></table></figure><p>由于更改端口，域名解析不到。提供方式使用云服务中的负载均衡。</p><h3 id="Gitlab配置HTTPS"><a href="#Gitlab配置HTTPS" class="headerlink" title="Gitlab配置HTTPS"></a>Gitlab配置HTTPS</h3><p>   注：<br>   gitlab最新是开启https会自动配置，但只有三个月有效期<br>   使用自己设的加密证书应设置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">使用自己设的加密证书应设置</span><br><span class="line">vim &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb</span><br><span class="line"></span><br><span class="line">letsencrypt[&#39;enable&#39;] &#x3D; false</span><br><span class="line">letsencrypt[&#39;auto_renew&#39;] &#x3D; false</span><br></pre></td></tr></table></figure><pre><code>在/etc/gitlab/gitlab.rb禁用自动更新。否则，gitlab-ctl reconfigure 可能会尝试更新证书，从而覆盖它们。如果gitlab自签的证书过期，替换的一定要禁用自动更新</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mkdir &#x2F;etc&#x2F;gitlab&#x2F;ssl   #把申请的证书放在这里</span><br><span class="line">vim  &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb   #打开配置文件</span><br><span class="line">external_url &#39;external_url &#39;https:&#x2F;&#x2F;gitlab.inewmaker.com&#39;  # 注：一定要HTTPS</span><br><span class="line">nginx[&#39;redirect_http_to_https&#39;]&#x3D; true   #取消注释改为 true</span><br><span class="line">nginx[&#39;ssl_certificate&#39;] &#x3D; &quot;&#x2F;etc&#x2F;gitlab&#x2F;ssl&#x2F;gitlab.pem&quot;    #放置对应的证书密钥</span><br><span class="line">nginx[&#39;ssl_certificate_key&#39;] &#x3D; &quot;&#x2F;etc&#x2F;gitlab&#x2F;ssl&#x2F;gitlab.key&quot; #放置对应的证书密钥</span><br><span class="line">gitlab-ctl reconfigure  #使配置生效</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ctl restart  # 使配置生效 #</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Gitlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gitlab </tag>
            
            <tag> https </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitlab 403 forbidden</title>
      <link href="p/12130977/"/>
      <url>p/12130977/</url>
      
        <content type="html"><![CDATA[<p>搭建的Gitlab。但今天打开页面的时候显示的是空白页面，上面还有一次文本<code>Forbidden</code>。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/1597393811426.jpg" alt="github--lena"></p><h3 id="原因："><a href="#原因：" class="headerlink" title="原因："></a>原因：</h3><pre><code>Gitlab使用rack_attack做了并发访问的限制。</code></pre><h3 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a>解决方案：</h3><p>将Gitlab的IP设置为白名单即可。<br>步骤如下：<br>    * 打开<code>/etc/gitlab/gitlab.rb</code>文件。<br>    * 查找gitlab_rails[‘<code>rack_attack_git_basic_auth</code>‘]关键词。<br>    * 取消注释<br>    * 修改ip_whitelist白名单属性，加入Gitlab部署的IP地址。<br>        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gitlab_rails[&#39;rack_attack_git_basic_auth&#39;] &#x3D; &#123;</span><br><span class="line"> &#39;enabled&#39; &#x3D;&gt; true,</span><br><span class="line"> &#39;ip_whitelist&#39; &#x3D;&gt; [&quot;127.0.0.1&quot;,&quot;Gitlab部署的IP地址&quot;],</span><br><span class="line"> &#39;maxretry&#39; &#x3D;&gt; 300,</span><br><span class="line"> &#39;findtime&#39; &#x3D;&gt; 5,</span><br><span class="line"> &#39;bantime&#39; &#x3D;&gt; 60</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p><ul><li>配置好后，执行gitlab-ctl reconfigure即可。</li></ul>]]></content>
      
      
      <categories>
          
          <category> Gitlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gitlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx expires配置详解</title>
      <link href="p/492994d9/"/>
      <url>p/492994d9/</url>
      
        <content type="html"><![CDATA[<p>expires起到控制页面缓存的作用，合理的配置expires可以减少很多服务器的请求</p><p>要配置expires，可以在http段中或者server段中或者location段中加入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location ~ \.(gif|jpg|jpeg|png|bmp|ico)$ &#123;</span><br><span class="line">           root &#x2F;var&#x2F;www&#x2F;img&#x2F;;</span><br><span class="line">           expires 30d;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><p>控制图片等过期时间为30天，当然这个时间可以设置的更长。具体视情况而定</p><p>比如</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">location ~ \.(wma|wmv|asf|mp3|mmf|zip|rar|swf|flv)$ &#123;</span><br><span class="line">               root &#x2F;var&#x2F;www&#x2F;upload&#x2F;;</span><br><span class="line">               expires max;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure><p>expires 指令可以控制 HTTP 应答中的“ Expires ”和“ Cache-Control ”的头标（起到控制页面缓存的作用）</p><p>语法：expires [time|epoch|max|pff]</p><p>默认值：off</p><p>expires指令控制HTTP应答中的“Expires”和“Cache-Control”Header头部信息，启动控制页面缓存的作用</p><p>time:可以使用正数或负数。“Expires”头标的值将通过当前系统时间加上设定time值来设定。</p><p>time值还控制”Cache-Control”的值：</p><p>负数表示no-cache</p><p>正数或零表示max-age=time</p><p>epoch：指定“Expires”的值为 1 January,1970,00:00:01 GMT</p><p>max:指定“Expires”的值为31 December2037 23:59:59GMT,”Cache-Control”的值为10年。</p><p>-1：指定“Expires”的值为当前服务器时间-1s，即永远过期。</p><p>off：不修改“Expires”和”Cache-Control”的值</p><p>expires使用了特定的时间，并且要求服务器和客户端的是中严格同步。</p><p>而Cache-Control是用max-age指令指定组件被缓存多久。</p><p>对于不支持http1.1的浏览器，还是需要expires来控制。所以最好能指定两个响应头。但HTTP规范规定max-age指令将重写expires头。</p><p>nginx 静态资源缓存设置<br>May 13, 2018<br>nginx 静态资源缓存 常用配置示例:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location ~.*\.(js|css|html|png|jpg)$ &#123;</span><br><span class="line">    expires 3d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>下面是 nginx 静态资源缓存 说明:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">expires 3d; &#x2F;&#x2F; 表示缓存 3 天</span><br><span class="line"></span><br><span class="line">expires 3h; &#x2F;&#x2F; 表示缓存 3 小时</span><br><span class="line"></span><br><span class="line">expires max; &#x2F;&#x2F; 表示缓存 10 年</span><br><span class="line"></span><br><span class="line">expires -1; &#x2F;&#x2F; 表示永远过期。</span><br></pre></td></tr></table></figure><p>如果设置为 -1 在 js、css 等静态文件在没有修改的情况下返回的是 http 304.</p><p>如果修改返回 http 200</p><p>http 304：自从上次请求后，请求的网页未修改过。服务器返回此响应时，不会返回网页内容。</p><p>http 200：服务器已成功处理了请求，这表示服务器提供了请求的内容。</p><p>如果不想让代理或浏览器缓存，加 no-cache 参数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">location ~.*\.(js|css|html|png|jpg)$ &#123;</span><br><span class="line">    add_header Cache-Control no-cache;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这样浏览器 F5 刷新时，nginx 静态资源缓存 设置返回的状态码就是 http 200，而不是 http 304</p>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> expires </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx之proxy_pass指令完全拆解</title>
      <link href="p/d881e309/"/>
      <url>p/d881e309/</url>
      
        <content type="html"><![CDATA[<h2 id="一、-功能"><a href="#一、-功能" class="headerlink" title="一、 功能"></a>一、 功能</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Nginx 的ngx_stream_proxy_module和ngx_http_proxy_module两个模块中，都有 proxy_pass 指令。</span><br><span class="line">其主要功能是为后端做代理，协议转发，请求转发等。</span><br></pre></td></tr></table></figure><h2 id="二、-用法和区别"><a href="#二、-用法和区别" class="headerlink" title="二、 用法和区别"></a>二、 用法和区别</h2><ol><li>官网介绍</li></ol><h3 id="ngx-stream-proxy-module-的-proxy-pass"><a href="#ngx-stream-proxy-module-的-proxy-pass" class="headerlink" title="ngx_stream_proxy_module 的 proxy_pass"></a>ngx_stream_proxy_module 的 proxy_pass</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法：proxy_pass address;</span><br><span class="line">默认值：—</span><br><span class="line">场景：server 段</span><br><span class="line">说明：设置代理服务器的地址。代理地址可以是域名或者IP加端口，也可以是一个UNIX的socket路径</span><br></pre></td></tr></table></figure><h3 id="ngx-http-proxy-module-的-proxy-pass"><a href="#ngx-http-proxy-module-的-proxy-pass" class="headerlink" title="ngx_http_proxy_module 的 proxy_pass"></a>ngx_http_proxy_module 的 proxy_pass</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法：proxy_pass URL;</span><br><span class="line">默认值：—</span><br><span class="line">场景：location 段，location中的if段，limit_except段</span><br><span class="line">说明：设置后端代理服务器的地址和协议，还可以附加可选的URI映射。协议可以是 http 或者 https。地址可以是域名或者IP，可以附加指定端口，也可以是UNIX的socket路径，路径要放在unix: 和 : 之间</span><br></pre></td></tr></table></figure><h2 id="2-区别"><a href="#2-区别" class="headerlink" title="2. 区别"></a>2. 区别</h2><p>从上面的各自说明可以看出两个 proxy_pass 指令都是做后端的代理配置。</p><p>除了应用场景的段不同之外，ngx_stream_proxy_module 的 proxy_pass 只能转发域名或IP加端口的请求，即端口转发。</p><p>ngx_http_proxy_module 的 proxy_pass 除了包含前者的功能外，还可以实现协议转发，如 http 和 https 与 UNIX socket 三者的相互转发，另外还有很实用的URI转发</p><h2 id="3-用法示例"><a href="#3-用法示例" class="headerlink" title="3. 用法示例"></a>3. 用法示例</h2><p>3.1 ngx_stream_proxy_module 的 proxy_pass</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 8000;</span><br><span class="line">    proxy_pass 127.0.0.1:8080; # IP+端口转发</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 8000;</span><br><span class="line">    proxy_pass test.com:8080; # 域名+端口转发</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen [::1]:8000;</span><br><span class="line">    proxy_pass unix:&#x2F;tmp&#x2F;stream.socket; # UNIX socket转发</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.2 ngx_http_proxy_module 的 proxy_pass</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen      80;</span><br><span class="line">    server_name www.test.com;</span><br><span class="line"></span><br><span class="line">    # 正常代理，不修改后端url的</span><br><span class="line">    location &#x2F;some&#x2F;path&#x2F; &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 修改后端url地址的代理（本例后端地址中，最后带了一个斜线)</span><br><span class="line">    location &#x2F;testb &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;www.other.com:8801&#x2F;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 使用 if in location</span><br><span class="line">    location &#x2F;google &#123;</span><br><span class="line">        if ( $geoip_country_code ~ (RU|CN) ) &#123;</span><br><span class="line">            proxy_pass http:&#x2F;&#x2F;www.google.hk;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location &#x2F;limit&#x2F; &#123;</span><br><span class="line">        # 没有匹配 limit_except 的，代理到 unix:&#x2F;tmp&#x2F;backend.socket:&#x2F;uri&#x2F;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;unix:&#x2F;tmp&#x2F;backend.socket:&#x2F;uri&#x2F;;;</span><br><span class="line"></span><br><span class="line">        # 匹配到请求方法为: PUT or DELETE, 代理到9080</span><br><span class="line">        limit_except PUT DELETE &#123;</span><br><span class="line">            proxy_pass http:&#x2F;&#x2F;127.0.0.1:9080;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>ngx_http_proxy_module.proxy_pass 的 URI 转发映射分析1<br>准备文件 /data/www/test/test.php 如下：</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo &#39;$_SERVER[REQUEST_URI]:&#39; . $_SERVER[&#39;REQUEST_URI&#39;];</span><br></pre></td></tr></table></figure><p>通过查看 $_SERVER[‘REQUEST_URI’] 的值，可以看到每次请求的后端的 request_uri 的值，进行验证。</p><p>Nginx 配置文件如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen      80;</span><br><span class="line">    server_name www.test.com;</span><br><span class="line"></span><br><span class="line">    # 情形A</span><br><span class="line">    # 访问 http:&#x2F;&#x2F;www.test.com&#x2F;testa&#x2F;aaaa</span><br><span class="line">    # 后端的request_uri为: &#x2F;testa&#x2F;aaaa</span><br><span class="line">    location ^~ &#x2F;testa&#x2F; &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1:8801;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    # 情形B</span><br><span class="line">    # 访问 http:&#x2F;&#x2F;www.test.com&#x2F;testb&#x2F;bbbb</span><br><span class="line">    # 后端的request_uri为: &#x2F;bbbb</span><br><span class="line">    location ^~ &#x2F;testb&#x2F; &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1:8801&#x2F;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 情形C</span><br><span class="line">    # 下面这段location是正确的</span><br><span class="line">    location ~ &#x2F;testc &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1:8801;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 情形D</span><br><span class="line">    # 下面这段location是错误的</span><br><span class="line">    #</span><br><span class="line">    # nginx -t 时，会报如下错误: </span><br><span class="line">    #</span><br><span class="line">    # nginx: [emerg] &quot;proxy_pass&quot; cannot have URI part in location given by regular </span><br><span class="line">    # expression, or inside named location, or inside &quot;if&quot; statement, or inside </span><br><span class="line">    # &quot;limit_except&quot; block in &#x2F;opt&#x2F;app&#x2F;nginx&#x2F;conf&#x2F;vhost&#x2F;test.conf:17</span><br><span class="line">    # </span><br><span class="line">    # 当location为正则表达式时，proxy_pass 不能包含URI部分。本例中包含了&quot;&#x2F;&quot;</span><br><span class="line">    location ~ &#x2F;testd &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1:8801&#x2F;;   # 记住，location为正则表达式时，不能这样写！！！</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 情形E</span><br><span class="line">    # 访问 http:&#x2F;&#x2F;www.test.com&#x2F;ccc&#x2F;bbbb</span><br><span class="line">    # 后端的request_uri为: &#x2F;aaa&#x2F;ccc&#x2F;bbbb</span><br><span class="line">    location &#x2F;ccc&#x2F; &#123;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1:8801&#x2F;aaa$request_uri;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 情形F</span><br><span class="line">    # 访问 http:&#x2F;&#x2F;www.test.com&#x2F;namea&#x2F;ddd</span><br><span class="line">    # 后端的request_uri为: &#x2F;test?namea&#x3D;ddd</span><br><span class="line">    location &#x2F;namea&#x2F; &#123;</span><br><span class="line">        rewrite    &#x2F;namea&#x2F;([^&#x2F;]+) &#x2F;test?namea&#x3D;$1 break;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1:8801;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 情形G</span><br><span class="line">    # 访问 http:&#x2F;&#x2F;www.test.com&#x2F;nameb&#x2F;eee</span><br><span class="line">    # 后端的request_uri为: &#x2F;test?nameb&#x3D;eee</span><br><span class="line">    location &#x2F;nameb&#x2F; &#123;</span><br><span class="line">        rewrite    &#x2F;nameb&#x2F;([^&#x2F;]+) &#x2F;test?nameb&#x3D;$1 break;</span><br><span class="line">        proxy_pass http:&#x2F;&#x2F;127.0.0.1:8801&#x2F;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    access_log &#x2F;data&#x2F;logs&#x2F;www&#x2F;www.test.com.log;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen      8801;</span><br><span class="line">    server_name www.test.com;</span><br><span class="line">    </span><br><span class="line">    root        &#x2F;data&#x2F;www&#x2F;test;</span><br><span class="line">    index       index.php index.html;</span><br><span class="line"></span><br><span class="line">    rewrite ^(.*)$ &#x2F;test.php?u&#x3D;$1 last;</span><br><span class="line"></span><br><span class="line">    location ~ \.php$ &#123;</span><br><span class="line">        try_files $uri &#x3D;404;</span><br><span class="line">        fastcgi_pass unix:&#x2F;tmp&#x2F;php-cgi.sock;</span><br><span class="line">        fastcgi_index index.php;</span><br><span class="line">        include fastcgi.conf;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    access_log &#x2F;data&#x2F;logs&#x2F;www&#x2F;www.test.com.8801.log;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总结</p><p>情况A和情况B对比，可以看出URI最后的 / 对 URI 映射的影响<br>情况D说明，location 为正则表达式时，proxy_pass 不能包含 URI<br>情况E，可以通过 $request_uri 添加或改变请求的 URI<br>情况F和G通过 rewrite 配合 break 对 URL 和 URI 进行改写</p>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> proxy_pass </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>记一次Centos7.5升级OpenSSH8.0p1</title>
      <link href="p/12223247/"/>
      <url>p/12223247/</url>
      
        <content type="html"><![CDATA[<h2 id="服务器版本："><a href="#服务器版本：" class="headerlink" title="服务器版本："></a>服务器版本：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cat &#x2F;etc&#x2F;redhat-release</span><br><span class="line">CentOS Linux release 7.5.1804 (Core)</span><br></pre></td></tr></table></figure><h3 id="升级前ssh版本："><a href="#升级前ssh版本：" class="headerlink" title="升级前ssh版本："></a>升级前ssh版本：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ssh -V</span><br><span class="line">OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017</span><br></pre></td></tr></table></figure><h3 id="升级后ssh版本："><a href="#升级后ssh版本：" class="headerlink" title="升级后ssh版本："></a>升级后ssh版本：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ssh -V</span><br><span class="line">OpenSSH_8.0p1, OpenSSL 1.0.2k-fips  26 Jan 2017</span><br></pre></td></tr></table></figure><h3 id="为防止升级失败无法远程连接，安装telnet："><a href="#为防止升级失败无法远程连接，安装telnet：" class="headerlink" title="为防止升级失败无法远程连接，安装telnet："></a>为防止升级失败无法远程连接，安装telnet：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># yum install -y telnet-server</span><br><span class="line"># yum install -y xinetd</span><br><span class="line"># systemctl start telnet.socket</span><br><span class="line"># systemctl start  xinetd</span><br></pre></td></tr></table></figure><h3 id="允许root登录："><a href="#允许root登录：" class="headerlink" title="允许root登录："></a>允许root登录：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># echo &#39;pts&#x2F;0&#39; &gt;&gt;&#x2F;etc&#x2F;securetty</span><br><span class="line"># echo &#39;pts&#x2F;1&#39; &gt;&gt;&#x2F;etc&#x2F;securetty</span><br><span class="line"># systemctl restart telnet.socket</span><br></pre></td></tr></table></figure><h3 id="开启telnet和xinetd开机自动启动，避免reboot后连不上Telnet："><a href="#开启telnet和xinetd开机自动启动，避免reboot后连不上Telnet：" class="headerlink" title="开启telnet和xinetd开机自动启动，避免reboot后连不上Telnet："></a>开启telnet和xinetd开机自动启动，避免reboot后连不上Telnet：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># systemctl enable xinetd.service</span><br><span class="line"># systemctl enable telnet.socket</span><br></pre></td></tr></table></figure><p>测试一下telnet连接，然后就可以先放着了，这只是以防万一，接下来还是正常使用ssh连接操作</p><p>下载最新版本的包（openssh-8.0p1.tar.gz）并上传到服务器上</p><h3 id="备份文件："><a href="#备份文件：" class="headerlink" title="备份文件："></a>备份文件：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># cp -r &#x2F;etc&#x2F;ssh &#x2F;etc&#x2F;ssh.old</span><br></pre></td></tr></table></figure><h3 id="卸载旧的ssh："><a href="#卸载旧的ssh：" class="headerlink" title="卸载旧的ssh："></a>卸载旧的ssh：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># rpm -qa|grep openssh</span><br><span class="line">openssh-server-7.4p1-11.el7.x86_64</span><br><span class="line">openssh-7.4p1-11.el7.x86_64</span><br><span class="line">openssh-clients-7.4p1-11.el7.x86_64</span><br><span class="line"># rpm -e --nodeps openssh-server-7.4p1-11.el7.x86_64</span><br><span class="line"># rpm -e --nodeps openssh-7.4p1-11.el7.x86_64</span><br><span class="line"># rpm -e --nodeps openssh-clients-7.4p1-11.el7.x86_64</span><br><span class="line"># rpm -qa|grep openssh</span><br></pre></td></tr></table></figure><h2 id="安装："><a href="#安装：" class="headerlink" title="安装："></a>安装：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># install -v -m700 -d &#x2F;var&#x2F;lib&#x2F;sshd</span><br><span class="line"># chown -v root:sys &#x2F;var&#x2F;lib&#x2F;sshd</span><br><span class="line"># groupadd -g 50 sshd</span><br><span class="line"># useradd -c &#39;sshd PrivSep&#39; -d &#x2F;var&#x2F;lib&#x2F;sshd -g sshd -s &#x2F;bin&#x2F;false -u 50 sshd</span><br><span class="line"># tar -zxvf openssh-8.0p1.tar.gz</span><br><span class="line"># cd openssh-8.0p1</span><br><span class="line"># .&#x2F;configure --prefix&#x3D;&#x2F;usr --sysconfdir&#x3D;&#x2F;etc&#x2F;ssh --with-md5-passwords --with-privsep-path&#x3D;&#x2F;var&#x2F;lib&#x2F;sshd</span><br><span class="line"># make</span><br><span class="line"># chmod 600 &#x2F;etc&#x2F;ssh&#x2F;ssh_host_rsa_key</span><br><span class="line"># chmod 600 &#x2F;etc&#x2F;ssh&#x2F;ssh_host_ecdsa_key</span><br><span class="line"># chmod 600 &#x2F;etc&#x2F;ssh&#x2F;ssh_host_ed25519_key</span><br><span class="line"># make install</span><br><span class="line"># install -v -m755 contrib&#x2F;ssh-copy-id &#x2F;usr&#x2F;bin</span><br><span class="line"># install -v -m644 contrib&#x2F;ssh-copy-id.1 &#x2F;usr&#x2F;share&#x2F;man&#x2F;man1</span><br><span class="line"># install -v -m755 -d &#x2F;usr&#x2F;share&#x2F;doc&#x2F;openssh-8.0p1</span><br><span class="line"># install -v -m644 INSTALL LICENCE OVERVIEW README* &#x2F;usr&#x2F;share&#x2F;doc&#x2F;openssh-8.0p1</span><br></pre></td></tr></table></figure><h3 id="设置允许root登录："><a href="#设置允许root登录：" class="headerlink" title="设置允许root登录："></a>设置允许root登录：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># echo &quot;PermitRootLogin yes&quot; &gt;&gt; &#x2F;etc&#x2F;ssh&#x2F;sshd_config</span><br></pre></td></tr></table></figure><h3 id="设置开机自启动："><a href="#设置开机自启动：" class="headerlink" title="设置开机自启动："></a>设置开机自启动：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># cp -p contrib&#x2F;redhat&#x2F;sshd.init &#x2F;etc&#x2F;init.d&#x2F;sshd</span><br><span class="line"># chmod +x &#x2F;etc&#x2F;init.d&#x2F;sshd</span><br><span class="line"># chkconfig --add sshd</span><br><span class="line"># chkconfig sshd on</span><br><span class="line"># chkconfig --list sshd</span><br><span class="line"># systemctl restart sshd</span><br></pre></td></tr></table></figure><h3 id="升级完成，查看版本："><a href="#升级完成，查看版本：" class="headerlink" title="升级完成，查看版本："></a>升级完成，查看版本：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># ssh -V</span><br><span class="line">OpenSSH_8.0p1, OpenSSL 1.0.2k-fips  26 Jan 2017</span><br></pre></td></tr></table></figure><p>PS1：升级完成后别忘了恢复以前的telnet设置或关闭telnet.</p><p>PS2：如果中间有问题升级失败，且之前是rpm包安装的，可以直接以下命令进行回滚：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># yum -y install openssh-clients</span><br><span class="line"># yum -y install openssh-server</span><br><span class="line"># yum -y install openssh</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OpenSSH </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenSSh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用docker实现mysql主从同步读写分离，附赠docker搭建mycat读写分离</title>
      <link href="p/8eb47741/"/>
      <url>p/8eb47741/</url>
      
        <content type="html"><![CDATA[<p>下载mysql镜像。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql5.7</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ps:如果下载太慢，请添加腾讯源,依次执行</span><br><span class="line">echo &quot;OPTIONS&#x3D;&#39;--registry-mirror&#x3D;https:&#x2F;&#x2F;mirror.ccs.tencentyun.com&#39;&quot; &gt;&gt; &#x2F;etc&#x2F;sysconfig&#x2F;docker</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">service docker restart</span><br><span class="line">或者直接去阿里仓库下https:&#x2F;&#x2F;dev.aliyun.com&#x2F;search.html把上面的--registry-mirror&#x3D;https:&#x2F;&#x2F;mirror.ccs.tencentyun.com换成你的专属源就可以</span><br></pre></td></tr></table></figure><p>下载完输入</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br><span class="line">REPOSITORY                  TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">docker.io&#x2F;mysql            5.7               44a8e1a5c0b2        8 days ago          407 MB</span><br></pre></td></tr></table></figure><p>第二种：创建 MySQL 容器<br>创建主数据库容器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name mysql-master -p 3307:3306 -e MYSQL_ROOT_PASSWORD&#x3D;123456 -d mysql:5.7</span><br></pre></td></tr></table></figure><p>创建从数据库容器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name mysql-slave -p 3308:3306 -e MYSQL_ROOT_PASSWORD&#x3D;123456 -d mysql:5.7</span><br></pre></td></tr></table></figure><p>配置主数据库<br>首先，进入容器：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it mysql-master &#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure><p>连接mysql</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p123456</span><br></pre></td></tr></table></figure><p>修改 root 可以通过任何客户端连接</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER &#39;root&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &#39;123456&#39;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>修改 MySQL 配置文档 ==/etc/mysql/mysql.conf.d/mysqld.cnf==，在 [mysqld] 段添加以下配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">log-bin&#x3D;mysql-bin    &#x2F;&#x2F;[必须]启用二进制日志</span><br><span class="line">server-id&#x3D;1          &#x2F;&#x2F;[必须]服务器标识ID，每台服务器唯一</span><br></pre></td></tr></table></figure><p>配置从服务器<br>首先，进入容器：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it mysql-master &#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure><p>连接mysql</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p123456</span><br></pre></td></tr></table></figure><p>修改 root 可以通过任何客户端连接</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER &#39;root&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &#39;123456&#39;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>修改 MySQL 配置文档 ==/etc/mysql/mysql.conf.d/mysqld.cnf==，在 [mysqld] 段添加以下配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">log-bin&#x3D;mysql-bin    &#x2F;&#x2F;[必须]启用二进制日志</span><br><span class="line">server-id&#x3D;2          &#x2F;&#x2F;[必须]服务器标识ID，每台服务器唯一</span><br></pre></td></tr></table></figure><h4 id="重启容器"><a href="#重启容器" class="headerlink" title="重启容器"></a>重启容器</h4><p>配置 MySQL 主从复制<br>首先连接 master 服务器，查看数据库状态：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show master status;</span><br><span class="line">+------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">| File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |</span><br><span class="line">+------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">| mysql-bin.000003 |      154 |              |                  |                   |</span><br><span class="line">+------------------+----------+--------------+------------------+-------------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>记录 File 的值和 Position 的值，等会配置 slave 服务器的时候要用。</p><p>接下来连接 slave 服务器，配置主从复制：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt;change master to</span><br><span class="line">master_host&#x3D;&#39;x.x.x.x&#39;,</span><br><span class="line">master_user&#x3D;&#39;user&#39;,</span><br><span class="line">master_log_file&#x3D;&#39;mysql-bin.000003&#39;,</span><br><span class="line">master_log_pos&#x3D;154,</span><br><span class="line">master_port&#x3D;3307,</span><br><span class="line">master_password&#x3D;&#39;123456&#39;;</span><br><span class="line">Query OK, 0 rows affected, 2 warnings (0.03 sec)</span><br><span class="line">mysql&gt; start slave;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br></pre></td></tr></table></figure><p>解释下配置参数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">master_host&#x3D;&#39;x.x.x.x&#39; &#x2F;&#x2F; 这里填 master 主机 ip</span><br><span class="line">master_log_file&#x3D;&#39;mysql-bin.000003&#39;, &#x2F;&#x2F; 这里填写 File 的值</span><br><span class="line">master_log_pos&#x3D;154,&#x2F;&#x2F; 这里填写 Position 的值。</span><br><span class="line">mysql&gt; start slave;&#x2F;&#x2F; 启动从服务器复制功能</span><br></pre></td></tr></table></figure><p>如果不小心配置错, 输入 mysql&gt; stop slave; 然后重新录入一遍就可以了。</p><p>检查主从连接状态</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show slave status\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">               Slave_IO_State: Waiting for master to send event</span><br><span class="line">                  Master_Host: x.x.x.x</span><br><span class="line">                  Master_User: user</span><br><span class="line">                  Master_Port: 32768</span><br><span class="line">                Connect_Retry: 60</span><br><span class="line">              Master_Log_File: mysql-bin.000003</span><br><span class="line">          Read_Master_Log_Pos: 1338</span><br><span class="line">               Relay_Log_File: 8d1e3b87d499-relay-bin.000002</span><br><span class="line">                Relay_Log_Pos: 1221</span><br><span class="line">        Relay_Master_Log_File: mysql-bin.000003</span><br><span class="line">             Slave_IO_Running: Yes</span><br><span class="line">            Slave_SQL_Running: Yes</span><br><span class="line">              Replicate_Do_DB: </span><br><span class="line">          Replicate_Ignore_DB: </span><br><span class="line">           Replicate_Do_Table: </span><br><span class="line">       Replicate_Ignore_Table: </span><br><span class="line">      Replicate_Wild_Do_Table: </span><br><span class="line">  Replicate_Wild_Ignore_Table: </span><br><span class="line">                   Last_Errno: 0</span><br><span class="line">                   Last_Error: </span><br><span class="line">                 Skip_Counter: 0</span><br><span class="line">          Exec_Master_Log_Pos: 1338</span><br><span class="line">              Relay_Log_Space: 1435</span><br><span class="line">              Until_Condition: None</span><br><span class="line">               Until_Log_File: </span><br><span class="line">                Until_Log_Pos: 0</span><br><span class="line">           Master_SSL_Allowed: No</span><br><span class="line">           Master_SSL_CA_File: </span><br><span class="line">           Master_SSL_CA_Path: </span><br><span class="line">              Master_SSL_Cert: </span><br><span class="line">            Master_SSL_Cipher: </span><br><span class="line">               Master_SSL_Key: </span><br><span class="line">        Seconds_Behind_Master: 0</span><br><span class="line">Master_SSL_Verify_Server_Cert: No</span><br><span class="line">                Last_IO_Errno: 0</span><br><span class="line">                Last_IO_Error: </span><br><span class="line">               Last_SQL_Errno: 0</span><br><span class="line">               Last_SQL_Error: </span><br><span class="line">  Replicate_Ignore_Server_Ids: </span><br><span class="line">             Master_Server_Id: 1</span><br><span class="line">                  Master_UUID: cd327a00-5e18-11e7-98f7-0242ac110006</span><br><span class="line">             Master_Info_File: &#x2F;var&#x2F;lib&#x2F;mysql&#x2F;master.info</span><br><span class="line">                    SQL_Delay: 0</span><br><span class="line">          SQL_Remaining_Delay: NULL</span><br><span class="line">      Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates</span><br><span class="line">           Master_Retry_Count: 86400</span><br><span class="line">                  Master_Bind: </span><br><span class="line">      Last_IO_Error_Timestamp: </span><br><span class="line">     Last_SQL_Error_Timestamp: </span><br><span class="line">               Master_SSL_Crl: </span><br><span class="line">           Master_SSL_Crlpath: </span><br><span class="line">           Retrieved_Gtid_Set: </span><br><span class="line">            Executed_Gtid_Set: </span><br><span class="line">                Auto_Position: 0</span><br><span class="line">         Replicate_Rewrite_DB: </span><br><span class="line">                 Channel_Name: </span><br><span class="line">           Master_TLS_Version: </span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure><p>这两个必须是Yes 为No 或者connect说明没有连接上</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Slave_IO_Running: Yes</span><br><span class="line"></span><br><span class="line">Slave_SQL_Running: Yes</span><br></pre></td></tr></table></figure><p>测试主从连接<br>注意设置主从后，操作只能在master终端上，slave上的操作不会同步到master上。</p><p>登陆master终端，</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create database sunhao;</span><br><span class="line">Query OK, 1 row affected (0.01 sec)</span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span><br><span class="line">| Database           |</span><br><span class="line">+--------------------+</span><br><span class="line">| information_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_schema |</span><br><span class="line">| sunhao             |</span><br><span class="line">| sys                |</span><br><span class="line">+--------------------+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; use sunhao</span><br><span class="line">Database changed</span><br><span class="line"></span><br><span class="line">mysql&gt; CREATE TABLE &#96;user&#96; (</span><br><span class="line">  &#96;user_id&#96; bigint(20) AUTO_INCREMENT,</span><br><span class="line">  &#96;username&#96; varchar(30) NOT NULL,</span><br><span class="line">  &#96;password&#96; varchar(30) DEFAULT NULL,</span><br><span class="line">   PRIMARY KEY (&#96;user_id&#96;)</span><br><span class="line">   ) ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br><span class="line">Query OK, 0 rows affected (0.04 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into user(username, password) values (&#39;test_user&#39;, &#39;test_pass&#39;);</span><br><span class="line">Query OK, 1 row affected (0.07 sec)</span><br></pre></td></tr></table></figure><pre><code>登陆slave服务器mysql&gt; show databases;+--------------------+| Database           |+--------------------+| information_schema || mysql              || performance_schema || sunhao             || sys                |+--------------------+5 rows in set (0.00 sec)mysql&gt; use sunhaomysql&gt; select * from user;+---------+-----------+-----------+| user_id | username  | password  |+---------+-----------+-----------+|       1 | test_user | test_pass |+---------+-----------+-----------+1 row in set (0.00 sec)如果主服务器已经存在应用数据，则在进行主从复制时，需要单独复制处理（注意此操作，如果对从服务器单独录入的数据，会被覆盖掉。）：这里我们做一次完整的测试(1)在主服务器数据库插入新的数据，并进行锁表操作，不让数据再进行写入动作mysql&gt; insert into sunhao values(2,&#39;xiaoshuai&#39;);Query OK, 1 row affected (0.01 sec)mysql&gt; select * from sunhao;                   +------+-----------+| id   | name      |+------+-----------+|    1 | xiaoshuai ||    2 | xiaoshuai |+------+-----------+2 rows in set (0.00 sec)mysql&gt; FLUSH TABLES WITH READ LOCK;mysql&gt; show full processlist; `(2)退出mysql，用mysqldump备份数据文件到/var/lib,然后顺便多余的用tar打包一下玩。哈哈。mysql&gt; exitByeroot@980e5ea48152:/var/lib/mysql# mysqldump -u root -p  sunhao &gt; /var/lib/sunhao.dump    Enter password: root@980e5ea48152:/var/lib# tar -zcvf ./sunhao.dump .tar  ./sunhao.dump(3)打开宿主服务器，复制mysql主服务器文件sunhao.dump.tar。到宿主服务器[root]# docker ps CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                     NAMES8d1e3b87d499        slave/mysql         &quot;docker-entrypoint.sh&quot;   4 hours ago         Up 4 hours          0.0.0.0:32769-&gt;3306/tcp   mysql-slave980e5ea48152        master/mysql        &quot;docker-entrypoint.sh&quot;   4 hours ago         Up 4 hours          0.0.0.0:32768-&gt;3306/tcp   mysql-mastermkdir -p /var/mydatadocker cp 980e:/var/lib/sunhao.dump.tar /var/mydata/cd /var/mydata[root@VM_128_230_centos mydata]# lssunhao.dump.tar解释:docker cp 980e:/var/lib/sunhao.dump.tar /var/mydata/980e是980e5ea48152的缩写。保证不重复简写就可以980e:/var/lib/sunhao.dump.tar 意思就是选中的容器下面你的文件下的sunhao.dump.tar文件/var/mydata/ 目标文件(4)在宿主主机上输入[root]# docker cp /var/mydata/sunhao.dump.tar 8d1e3b87d49936414c0e91ffdc60a054e7f4ef8b15baee295350565519abba0e:/var/lib/(5)在从服务器上输入root@8d1e3b87d499:/# cd /var/lib/root@8d1e3b87d499:/var/lib# tar -zcvf sunhao.dump.tar(6)在从服务器上输入tar -zxvpf /var/lib/mysqlbak.sql.tarmysql -uroot -pmysql sunhao &lt; /var/lib/sunhao.dump;如果写入成功,这个时候就可以用select查询到数据。(2)取消主服务器数据库锁定mysql&gt; UNLOCK TABLES;docker搭建mycat读写分离制作mycat容器，并运行首先在本地新建个文件夹/usr/mycat。然后去mycat官网下载最新版本，这里我下载的是1.6版本。安装完解压到这里。http://dl.mycat.io/[http://dl.mycat.io/1.6-RELEASE/](http://dl.mycat.io/1.6-RELEASE/ &quot;http://dl.mycat.io/1.6-RELEASE/&quot;)编写Dockerfile，内容为# 来源镜像,因为mycat依赖java，所以这里直接选的java环境。FROM javaRUN  mkdir -p /var/local/mycat/# Add复制Mycat到容器ADD  mycat/ /var/local/mycat/ ENTRYPOINT  [&quot;/var/local/mycat/bin/mycat&quot;,&quot;console&quot;,&quot;&amp;&quot;]# 对外端口EXPOSE 8066 9066# 启动控制台CMD  [&quot;/var/local/mycat/bin/mycat&quot;,&quot;console&quot;,&quot;&amp;&quot;]先别急着构建镜像，我们先修改下mycat的配置文件。[root@centos mycat]# lltotal 15324-rw-r--r-- 1 root root      357 Jul  5 15:26 Dockerfile-rw-r--r-- 1 root root 15662280 Jul  3 15:07 Mycat-server-1.6-RELEASE-20161028204710-linux.tar.gzdrwxr-xr-x 7 root root     4096 Jul  5 15:27 mycat在我用的1.6版本。mycat对外端口是注释掉的。我们要打开下。我们编辑/usr/mycat/mycat/conf/server.xml.找到第32-35行。去掉注释符号。&lt;!--    &lt;property name=&quot;serverPort&quot;&gt;8066&lt;/property&gt; &lt;property name=&quot;managerPort&quot;&gt;9066&lt;/property&gt;     &lt;property name=&quot;idleTimeout&quot;&gt;300000&lt;/property&gt; &lt;property name=&quot;bindIp&quot;&gt;0.0.0.0&lt;/property&gt;     &lt;property name=&quot;frontWriteQueueSize&quot;&gt;4096&lt;/property&gt; &lt;property name=&quot;processors&quot;&gt;32&lt;/property&gt; --&gt;我们往下看 有这么几句。这里分别默认两个用户。 name为root的管理员，可以进行读写。和普通用户只能进行读。我们也可以手动创建修改，另外password是密码 schemas是用户所能操作的库。 在这里我什么都没有改。下面都是默认。&lt;user name=&quot;root&quot;&gt;        &lt;property name=&quot;password&quot;&gt;123456&lt;/property&gt;        &lt;property name=&quot;schemas&quot;&gt;TESTDB&lt;/property&gt;                &lt;!-- 表级 DML 权限设置 --&gt;        &lt;!--                 &lt;privileges check=&quot;false&quot;&gt;            &lt;schema name=&quot;TESTDB&quot; dml=&quot;0110&quot; &gt;                &lt;table name=&quot;tb01&quot; dml=&quot;0000&quot;&gt;&lt;/table&gt;                &lt;table name=&quot;tb02&quot; dml=&quot;1111&quot;&gt;&lt;/table&gt;            &lt;/schema&gt;        &lt;/privileges&gt;                 --&gt;    &lt;/user&gt;    &lt;user name=&quot;user&quot;&gt;        &lt;property name=&quot;password&quot;&gt;user&lt;/property&gt;        &lt;property name=&quot;schemas&quot;&gt;TESTDB&lt;/property&gt;        &lt;property name=&quot;readOnly&quot;&gt;true&lt;/property&gt;    &lt;/user&gt;我们编辑/usr/mycat/mycat/conf/schema.xml，这个是我们配置分片和逻辑库表，规则的地方，数据节点，和数据源。其中schema是我们所操作的逻辑库。默认为TESTDB。下面分别是各个逻辑表。在这里直接默认。我只是为了区分dh和db两个字的区别，把db1-3改了data1-3你们可以不用管。&lt;schema name=&quot;TESTDB&quot; checkSQLschema=&quot;false&quot; sqlMaxLimit=&quot;100&quot;&gt;    &lt;!-- auto sharding by id (long) --&gt;    &lt;table name=&quot;travelrecord&quot; dataNode=&quot;dn1,dn2,dn3&quot; rule=&quot;auto-sharding-long&quot; /&gt;    &lt;!-- global table is auto cloned to all defined data nodes ,so can join        with any table whose sharding node is in the same data node --&gt;    &lt;table name=&quot;company&quot; primaryKey=&quot;ID&quot; type=&quot;global&quot; dataNode=&quot;dn1,dn2,dn3&quot; /&gt;    &lt;table name=&quot;goods&quot; primaryKey=&quot;ID&quot; type=&quot;global&quot; dataNode=&quot;dn1,dn2&quot; /&gt;    &lt;!-- random sharding using mod sharind rule --&gt;    &lt;table name=&quot;hotnews&quot; primaryKey=&quot;ID&quot; autoIncrement=&quot;true&quot; dataNode=&quot;dn1,dn2,dn3&quot;           rule=&quot;mod-long&quot; /&gt;    &lt;!-- &lt;table name=&quot;dual&quot; primaryKey=&quot;ID&quot; dataNode=&quot;dnx,dnoracle2&quot; type=&quot;global&quot;        needAddLimit=&quot;false&quot;/&gt; &lt;table name=&quot;worker&quot; primaryKey=&quot;ID&quot; dataNode=&quot;jdbc_dn1,jdbc_dn2,jdbc_dn3&quot;        rule=&quot;mod-long&quot; /&gt; --&gt;    &lt;table name=&quot;employee&quot; primaryKey=&quot;ID&quot; dataNode=&quot;dn1,dn2&quot;           rule=&quot;sharding-by-intfile&quot; /&gt;    &lt;table name=&quot;customer&quot; primaryKey=&quot;ID&quot; dataNode=&quot;dn1,dn2&quot;           rule=&quot;sharding-by-intfile&quot;&gt;        &lt;childTable name=&quot;orders&quot; primaryKey=&quot;ID&quot; joinKey=&quot;customer_id&quot;                    parentKey=&quot;id&quot;&gt;            &lt;childTable name=&quot;order_items&quot; joinKey=&quot;order_id&quot;                        parentKey=&quot;id&quot; /&gt;        &lt;/childTable&gt;        &lt;childTable name=&quot;customer_addr&quot; primaryKey=&quot;ID&quot; joinKey=&quot;customer_id&quot;                    parentKey=&quot;id&quot; /&gt;    &lt;/table&gt;    &lt;!-- &lt;table name=&quot;oc_call&quot; primaryKey=&quot;ID&quot; dataNode=&quot;dn1$0-743&quot; rule=&quot;latest-month-calldate&quot;        /&gt; --&gt;&lt;/schema&gt;修改37-45行 /usr/mycat/mycat/conf/wrapper.conf。设置java虚拟机内存。# Initial Java Heap Size (in MB)wrapper.java.initmemory=3# Maximum Java Heap Size (in MB)wrapper.java.maxmemory=64在schema.xml往下修改。43-55行。数据源地址dataHost。这些就是我们的数据源，mycat把逻辑表的数据，读写都来源于我们配置地址。其中writeHost写入源。设置多个，默认也只用第一个。readHost是读服务器。heartbeat是我们检测数据库是否正常运行的。在这里 mycat 有两种配置方式。分别是两个writeHost和一个writeHost一个readHost第一种如果写入失败，还是可读。第二种如果写入失败，不可读。我们采用安全稳妥的方式。一个writeHost一个readHost我的配置为&lt;dataHost name=&quot;localhost1&quot; maxCon=&quot;1000&quot; minCon=&quot;20&quot; balance=&quot;1&quot;          writeType=&quot;0&quot; dbType=&quot;mysql&quot; dbDriver=&quot;native&quot; switchType=&quot;2&quot;  slaveThreshold=&quot;100&quot;&gt;    &lt;heartbeat&gt;show slave status&lt;/heartbeat&gt;    &lt;!-- can have multi write hosts --&gt;    &lt;writeHost host=&quot;hostM1&quot; url=&quot;115.159.124.18:32768&quot; user=&quot;root&quot;    password=&quot;mysql&quot;&gt;        &lt;!-- can have multi read hosts --&gt;        &lt;readHost host=&quot;hostS1&quot; url=&quot;115.159.124.18:32769&quot; user=&quot;root&quot;    password=&quot;mysql&quot; /&gt;    &lt;/writeHost&gt;&lt;/dataHost&gt;hostM1和hostS1分别对应我们创建的两个docker容器的对外端口。修改/usr/mycat/mycat/conf/log4j2.xml 这个是配置日志文件的，我们打开debug方便我们学习。修改第25行info为debug&lt;asyncRoot level=&quot;debug&quot; includeLocation=&quot;true&quot;&gt;     &lt;AppenderRef ref=&quot;Console&quot; /&gt;     &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt; &lt;/asyncRoot&gt;构建镜像docker build -t sunhao/mycat:1.6  . 别忘了最后面的圆点运行创建容器docker  run  --name sunhaomycat  -d -p 8066:8066 -p 9066:9066 sunhao/mycat:1.6就那么简单。我们的mycat已经搭建成功了。测试下吧打开4个终端1个宿主，1个mysql主，1个mysql从，1个用来看mycat日志。宿主环境操作在宿主终端上，安装mysql。并且连接我们的mycat。[root@VM_128_230_centos mycat]# mysql -uroot -p123456 -h115.159.124.18 -P8066Welcome to the MariaDB monitor.  Commands end with ; or \g.Your MySQL connection id is 8Server version: 5.6.29-mycat-1.6-RELEASE-20161028204710 MyCat Server (OpenCloundDB)Copyright (c) 2000, 2016, Oracle, MariaDB Corporation Ab and others.Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.MySQL [(none)]&gt;完美，Server version: 5.6.29-mycat-1.6-RELEASE-20161028204710 MyCat Server 出现这，说明mycat运行了。进行简单的操作。Database changedMySQL [TESTDB]&gt; show databases;+----------+| DATABASE |+----------+| TESTDB   |+----------+1 row in set (0.00 sec)MySQL [TESTDB]&gt; show tables;+------------------+| Tables in TESTDB |+------------------+| company          || customer         || customer_addr    || employee         || goods            || hotnews          || orders           || order_items      || travelrecord     |+------------------+9 rows in set (0.00 sec)MySQL [TESTDB]&gt;测试下写入MySQL [TESTDB]&gt; create table travelrecord (id bigint not null primary key,user_id varchar(100),traveldate DATE, fee decimal,days int);ERROR 1105 (HY000): Table &#39;travelrecord&#39; already existsMySQL [TESTDB]&gt; insert into travelrecord(id,user_id,traveldate,fee,days)  values(1,@@hostname,20170707,100,10);Query OK, 1 row affected (0.01 sec)MySQL [TESTDB]&gt; MySQL [TESTDB]&gt; insert into travelrecord(id,user_id,traveldate,fee,days)  values(10000001,@@hostname,20170707,100,10);Query OK, 1 row affected (0.00 sec)分别进入mysql主和mysql从可以看到。MySQL [data2]&gt; use data3                  Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedMySQL [data3]&gt; select * from travelrecord;+----------+--------------+------------+------+------+| id       | user_id      | traveldate | fee  | days |+----------+--------------+------------+------+------+| 10000001 | 980e5ea48152 | 2017-07-07 |  100 |   10 |+----------+--------------+------------+------+------+1 row in set (0.00 sec)MySQL [data3]&gt; use data1;                 Reading table information for completion of table and column namesYou can turn off this feature to get a quicker startup with -ADatabase changedMySQL [data1]&gt; select * from travelrecord;+----+--------------+------------+------+------+| id | user_id      | traveldate | fee  | days |+----+--------------+------------+------+------+|  1 | 980e5ea48152 | 2017-07-07 |  100 |   10 |+----+--------------+------------+------+------+1 row in set (0.00 sec)MySQL [data1]&gt;测试读取分离打开一个终端，用docker exec -it 61e74eee274d9d0f0404a572dec1d14c8b03dfd480e13d3c96fa04c534df0556  bash进入我们的mycat容器其中61e74为你的mycat容器这个就是我们的日志终端root@61e74eee274d:/var/local/mycat/logs# ls2017-07  mycat.log  mycat.pid  wrapper.logroot@61e74eee274d:/var/local/mycat/logs# tail -f  mycat.log在宿主环境mycat下输入MySQL [TESTDB]&gt; select * from travelrecord ;ERROR 2006 (HY000): MySQL server has gone awayNo connection. Trying to reconnect...Connection id:    9Current database: TESTDB+----------+--------------+------------+------+------+| id       | user_id      | traveldate | fee  | days |+----------+--------------+------------+------+------+|        1 | 980e5ea48152 | 2017-07-07 |  100 |   10 || 10000001 | 980e5ea48152 | 2017-07-07 |  100 |   10 |+----------+--------------+------------+------+------+2 rows in set (0.02 sec)然后切回我们的日志终端，按ctrl+c中断。然后输入cat tail 进行查看，很长在最后面找个空白的大坑（自己体会）慢慢找。017-07-07 06:28:16.863 DEBUG [$_NIOREACTOR-5-RW] (io.mycat.backend.datasource.PhysicalDatasource.releaseChannel(PhysicalDatasource.java:442)) - release channel MySQLConnection [id=5, lastTime=1499408896859, user=root, schema=data3, old shema=data3, borrowed=true, fromSlaveDB=false, threadId=527, charset=latin1, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=115.159.184.18, port=32774, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]2017-07-07 06:28:16.864 DEBUG [$_NIOREACTOR-3-RW] (io.mycat.backend.datasource.PhysicalDatasource.releaseChannel(PhysicalDatasource.java:442)) - release channel MySQLConnection [id=33, lastTime=1499408896859, user=root, schema=data3, old shema=data3, borrowed=true, fromSlaveDB=true, threadId=108, charset=latin1, txIsolation=3, autocommit=true, attachment=null, respHandler=null, host=115.159.184.18, port=32770, statusSync=null, writeQueue=0, modifiedSQLExecuted=false]2017-07-07 06:28:24.473 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.net.FrontendConnection.query(FrontendConnection.java:288)) - ServerConnection [id=2, schema=TESTDB, host=115.159.184.18, user=root,txIsolation=3, autocommit=true, schema=TESTDB] select * from travelrecord2017-07-07 06:28:24.474 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.server.ServerQueryHandler.query(ServerQueryHandler.java:57)) - ServerConnection [id=2, schema=TESTDB, host=115.159.184.18, user=root,txIsolation=3, autocommit=true, schema=TESTDB]select * from travelrecord2017-07-07 06:28:24.474 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.cache.impl.EnchachePool.get(EnchachePool.java:71)) - SQLRouteCache hit cache ,key:TESTDBselect * from travelrecord2017-07-07 06:28:24.474 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.server.NonBlockingSession.execute(NonBlockingSession.java:110)) - ServerConnection [id=2, schema=TESTDB, host=115.159.184.18, user=root,txIsolation=3, autocommit=true, schema=TESTDB]select * from travelrecord, route=&#123;   1 -&gt; dn1&#123;SELECT *FROM travelrecordLIMIT 100&#125;   2 -&gt; dn2&#123;SELECT *FROM travelrecordLIMIT 100&#125;   3 -&gt; dn3&#123;SELECT *FROM travelrecordLIMIT 100&#125;&#125; rrs 2017-07-07 06:28:24.474 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.mysql.nio.handler.MultiNodeQueryHandler.&lt;init&gt;(MultiNodeQueryHandler.java:101)) - execute mutinode query select * from travelrecord2017-07-07 06:28:24.474 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.mysql.nio.handler.MultiNodeQueryHandler.&lt;init&gt;(MultiNodeQueryHandler.java:137)) - has data merge logic 2017-07-07 06:28:24.474 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.mysql.nio.handler.MultiNodeQueryHandler.execute(MultiNodeQueryHandler.java:170)) - rrs.getRunOnSlave()-null2017-07-07 06:28:24.474 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.mysql.nio.handler.MultiNodeQueryHandler.execute(MultiNodeQueryHandler.java:180)) - node.getRunOnSlave()1-null2017-07-07 06:28:24.474 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.mysql.nio.handler.MultiNodeQueryHandler.execute(MultiNodeQueryHandler.java:182)) - node.getRunOnSlave()2-null2017-07-07 06:28:24.474 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.datasource.PhysicalDBNode.getConnection(PhysicalDBNode.java:96)) - rrs.getRunOnSlave() null2017-07-07 06:28:24.475 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.datasource.PhysicalDBNode.getConnection(PhysicalDBNode.java:127)) - rrs.getRunOnSlave() null2017-07-07 06:28:24.475 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.datasource.PhysicalDBPool.getRWBanlanceCon(PhysicalDBPool.java:456)) - select read source hostS1 for dataHost:localhost12017-07-07 06:28:24.475 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.mysql.nio.handler.MultiNodeQueryHandler.execute(MultiNodeQueryHandler.java:180)) - node.getRunOnSlave()1-null2017-07-07 06:28:24.475 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.mysql.nio.handler.MultiNodeQueryHandler.execute(MultiNodeQueryHandler.java:182)) - node.getRunOnSlave()2-null2017-07-07 06:28:24.475 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.datasource.PhysicalDBNode.getConnection(PhysicalDBNode.java:96)) - rrs.getRunOnSlave() null2017-07-07 06:28:24.475 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.datasource.PhysicalDBNode.getConnection(PhysicalDBNode.java:127)) - rrs.getRunOnSlave() null就是这了我们可以看到select read source hostS1 for dataHost:localhost1来至哪个服务器2017-07-07 06:28:24.475 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.datasource.PhysicalDBPool.getRWBanlanceCon(PhysicalDBPool.java:456)) - select read source hostS1 for dataHost:localhost12017-07-07 06:28:24.475 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.mysql.nio.handler.MultiNodeQueryHandler.execute(MultiNodeQueryHandler.java:180)) - node.getRunOnSlave()1-null2017-07-07 06:28:24.475 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.mysql.nio.handler.MultiNodeQueryHandler.execute(MultiNodeQueryHandler.java:182)) - node.getRunOnSlave()2-null2017-07-07 06:28:24.475 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.datasource.PhysicalDBNode.getConnection(PhysicalDBNode.java:96)) - rrs.getRunOnSlave() null2017-07-07 06:28:24.476 DEBUG [$_NIOREACTOR-29-RW] (io.mycat.backend.datasource.PhysicalDBNode.getConnection如果配置不小心错了，可以用docker cp 复制到镜像里，然后重启镜像docker cp /usr/mycat/mycat/conf 61e74eee274d9d0f0404a572dec1d14c8b03dfd480e13d3c96fa04c534df0556:/var/local/mycat/confdocker restart 61e74eee274</code></pre>]]></content>
      
      
      <categories>
          
          <category> Mysql </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
            <tag> docker </tag>
            
            <tag> mycat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>常见的重定向方式</title>
      <link href="p/bb2a8a2e/"/>
      <url>p/bb2a8a2e/</url>
      
        <content type="html"><![CDATA[<p>第一种：使用==rewrite==指令，通过正则匹配所有的URI后再去掉开头第一个/(反斜线)。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rewrite ^&#x2F;(.*)$ https:&#x2F;&#x2F;www.linux.com&#x2F;$1;</span><br></pre></td></tr></table></figure><p>第二种：同样使用rewrite指令，不同的是通过==$request_uri==变量匹配所有的URI。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rewrite ^ https:&#x2F;&#x2F;www.linux.com$request_uri? permanent;</span><br></pre></td></tr></table></figure><p>这样写的好处是省去了去掉开头第一个反斜线的过程，正则匹配上性能更优。<br>第三种：使用==return==指令，通过301状态码和==$request_uri==参数，直接告诉Nginx这是个301重定向和抓取指定URI。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return 301 https:&#x2F;&#x2F;www.linux.com$request_uri;</span><br></pre></td></tr></table></figure><p>这种方法是性能上最优的，因为rewrite指令有很多写法和规则，执行完所有正则匹配后，Nginx 才会知道这是一个301永久重定向。</p><p>通过以上三种写法介绍，我们可以看出return指令在301跳转上比rewrite指令性能上更加有优势。虽然在访问量不大的情况下几种写法的性能表现上区别并不大，不过在海量访问中一个小小的优化也能在提升业务系统性能上起到不小的作用哟！</p>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> 重定向 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>安装 oh-my-zsh</title>
      <link href="p/65008a24/"/>
      <url>p/65008a24/</url>
      
        <content type="html"><![CDATA[<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>之前用的Ubuntu，现在用的Centos，所以都写一下</p><h4 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">zsh:</span><br><span class="line">sudo apt-get install zsh -y</span><br><span class="line">git:</span><br><span class="line">sudo apt-get install git -y</span><br></pre></td></tr></table></figure><h4 id="Centos"><a href="#Centos" class="headerlink" title="Centos"></a>Centos</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">zsh:</span><br><span class="line">sudo yum install zsh -y</span><br><span class="line">git:</span><br><span class="line">sudo yum install git -y</span><br></pre></td></tr></table></figure><h4 id="下面的Ubuntu和Centos是一样的"><a href="#下面的Ubuntu和Centos是一样的" class="headerlink" title="下面的Ubuntu和Centos是一样的"></a>下面的Ubuntu和Centos是一样的</h4><p>克隆仓库</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git:&#x2F;&#x2F;github.com&#x2F;robbyrussell&#x2F;oh-my-zsh.git ~&#x2F;.oh-my-zsh</span><br></pre></td></tr></table></figure><p>备份原来的zshrc，如果文件存在的话</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp ~&#x2F;.zshrc ~&#x2F;.zshrc.bak</span><br></pre></td></tr></table></figure><p>创建一个新的zsh配置文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp ~&#x2F;.oh-my-zsh&#x2F;templates&#x2F;zshrc.zsh-template ~&#x2F;.zshrc</span><br></pre></td></tr></table></figure><p>改变默认的Shell</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chsh -s &#x2F;bin&#x2F;zsh</span><br></pre></td></tr></table></figure><p>退出终端重新登入就可以</p>]]></content>
      
      
      <categories>
          
          <category> oh-my-zsh </category>
          
      </categories>
      
      
        <tags>
            
            <tag> oh-my-zsh </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="p/0/"/>
      <url>p/0/</url>
      
        <content type="html"><![CDATA[<hr><p>title: Nginx rewrite模块深入浅出详解<br>categories:</p><ul><li>Nginx<br>tags:</li><li>nginx</li><li>rewrite<br>abbrlink: eee93e1e<br>date: ‘2020/7/21 21:25:23’<br>updated: ‘2020/7/26 21:26:23’<br>cover: ‘<a href="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/covers/nginx-rewrite.png&#39;">https://cdn.jsdelivr.net/gh/weilain/cdn-photo/covers/nginx-rewrite.png&#39;</a></li></ul><h5 id="ewrite模块（ngx-http-rewrite-module）"><a href="#ewrite模块（ngx-http-rewrite-module）" class="headerlink" title="ewrite模块（ngx_http_rewrite_module）"></a>ewrite模块（ngx_http_rewrite_module）</h5><p>nginx通过ngx_http_rewrite_module模块支持url重写、支持if条件判断，但不支持else。另外该模块需要PCRE支持，应在编译nginx时指定PCRE支持。根据相关变量重定向和选择不同的配置，从一个location跳转到另一个location，不过这样的循环最多可以执行10次，超过后nginx将返回500错误。同时，重写模块包含set指令，来创建新的变量并设其值，这在有些情景下非常有用的，如记录条件标识、传递参数到其他location、记录做了什么等等。学习rewrite之前要对正则表达式要很熟悉，下面先给出一些常用的正则表达式元字符。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.     :匹配除换行符以外的任意字符</span><br><span class="line">?     :重复0次或1次</span><br><span class="line">+     :重复1次或更多次</span><br><span class="line">*     :重复0次或更多次</span><br><span class="line">\d    :匹配数字</span><br><span class="line">^     :匹配字符串的开始字符</span><br><span class="line">$     :匹配字符串的结束字符</span><br><span class="line">&#123;n&#125;   :重复n次</span><br><span class="line">&#123;n,&#125;  :重复n次或更多次</span><br><span class="line">[c]   :匹配单个字符c</span><br><span class="line">[a-z] :匹配a-z小写字母的任意一个</span><br></pre></td></tr></table></figure><p>在rewrite中，如果使用小括号()，那么在小括号之间匹配的内容，可以在后面通过$1来引用，$2表示的是前面第二个()里的内容，后面会说到。</p><h5 id="Rewrite模块指令"><a href="#Rewrite模块指令" class="headerlink" title="Rewrite模块指令"></a>Rewrite模块指令</h5><p>1）break</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Syntax: break;</span><br><span class="line">Default:—</span><br><span class="line">Context:server, location, if</span><br></pre></td></tr></table></figure><p>此指令的意思是停止执行当前虚拟主机的后续rewrite指令集。使用示例如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if ($slow) &#123;</span><br><span class="line">     limit_rate 10k;</span><br><span class="line">     break;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2）if  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Syntax: if (condition) &#123; ... &#125;</span><br><span class="line">Default:—</span><br><span class="line">Context:server, location</span><br></pre></td></tr></table></figure><p>对给定的条件（condition）进行判断，如果条件为真，大括号内的rewrite指令将被执行。</p><p>条件(conditon)可以是如下任何操作：</p><ul><li><ol><li>当表达式只是一个变量时，如果值为空或任何以0开头的字符串都会当做false；</li></ol></li><li><ol start="2"><li>使用“=”和“!=”比较一个变量和字符串；</li></ol></li><li><ol start="3"><li>使用“<del>”做正则表达式匹配，“</del>*”做不区分大小写的正则匹配，“!~”做区分大小写的正则不匹配；</li></ol></li><li><ol start="4"><li>使用“-f”和“!-f” 检查一个文件是否存在；</li></ol></li><li><ol start="5"><li>使用“-d”和“!-d”检查一个目录是否存在；</li></ol></li><li><ol start="6"><li>使用“-e”和“!-e”检查一个文件、目录、符号链接是否存在；</li></ol></li><li><ol start="7"><li>使用“-x”和“ !-x”检查一个文件是否可执行；<br>如下示例：</li></ol></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;如果UA包含&quot;MSIE&quot;，rewrite请求到&#x2F;msid&#x2F;目录下</span><br><span class="line">if ($http_user_agent ~ MSIE) &#123;</span><br><span class="line">    rewrite ^(.*)$ &#x2F;msie&#x2F;$1 break;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">&#x2F;&#x2F;如果cookie匹配正则，设置变量$id等于正则引用部分</span><br><span class="line">if ($http_cookie ~* &quot;id&#x3D;([^;]+)(?:;|$)&quot;) &#123;</span><br><span class="line">    set $id $1;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">&#x2F;&#x2F;给某个访问IP返回403</span><br><span class="line">if ( $remote_addr &#x3D; &quot;202\.38\.78\.85&quot; )&#123;</span><br><span class="line">    return 403;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">&#x2F;&#x2F;如果提交方法为POST，则返回状态405（Method not allowed）。return不能返回301,302</span><br><span class="line">if ($request_method &#x3D; POST) &#123;</span><br><span class="line">    return 405;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">&#x2F;&#x2F;如果$slow可以通过set指令设置，则进行限速处理</span><br><span class="line">if ($slow) &#123;</span><br><span class="line">    limit_rate 10k;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">&#x2F;&#x2F;如果请求的文件名不存在，则反向代理到localhost 。这里的break也是停止rewrite检查</span><br><span class="line">if (!-f $request_filename)&#123;</span><br><span class="line">    break;</span><br><span class="line">    proxy_pass http:&#x2F;&#x2F;127.0.0.1;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">&#x2F;&#x2F;如果query string中包含&quot;post&#x3D;140&quot;，则永久重定向到example.com</span><br><span class="line">if ($args ~ post&#x3D;140)&#123;</span><br><span class="line">    rewrite ^ http:&#x2F;&#x2F;example.com&#x2F; permanent;</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line">&#x2F;&#x2F;防盗链</span><br><span class="line">location ~* \.(gif|jpg|png|swf|flv)$ &#123;</span><br><span class="line">    valid_referers none blocked www.baidu.com www.ywnds.com;</span><br><span class="line">    if ($invalid_referer) &#123;</span><br><span class="line">        return 404;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3）return</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Syntax: return code [text];</span><br><span class="line">        return code URL;</span><br><span class="line">        return URL;</span><br><span class="line">Default:—</span><br><span class="line">Context:server, location, if</span><br></pre></td></tr></table></figure><p>停止处理并为客户端返回状态码，非标准的444状态码将关闭连接，不发送任何响应头。可以使用的状态码有：204，400，402-406，408，410, 411, 413, 416与500-504。如果状态码附带文字段落，该文本将被放置在响应主体。相反，如果状态码后面是一个URL，该URL将成为location头部值。没有状态码的URL将被视为一个302状态码。</p><p>4）rewrite</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Syntax: rewrite regex replacement [flag];</span><br><span class="line">Default:—</span><br><span class="line">Context:server, location, if</span><br></pre></td></tr></table></figure><p>rewrite指令的功能就是，使用nginx提供的全局变量或自己设置的变量，然后结合正则表达式和标志位实现url重写以及重定向。rewrite指令只能放在server、location或if中，并且只能对域名后边的除去传递的参数外的字符串起作用，例如 <a href="http://ywnds.com/a/we/index.php?id=1&amp;u=str%EF%BC%8C%E5%8F%AA%E5%AF%B9/a/we/index.php%E9%87%8D%E5%86%99%EF%BC%8C%E8%AF%AD%E6%B3%95%E5%A6%82%E4%B8%8A%E9%9D%A2%E6%89%80%E7%A4%BA%E3%80%82">http://ywnds.com/a/we/index.php?id=1&amp;u=str，只对/a/we/index.php重写，语法如上面所示。</a></p><p>如果想对域名或参数字符串起作用，可以使用全局变量匹配，也可以使用proxy_pass反向代理。</p><p>或许看rewrite和location功能有点像，都能实现跳转，主要区别在于rewrite是在同一域名内更改获取资源的路径，而location是对一类路径做控制访问或反向代理，可以proxy_pass到其他机器。很多情况下rewrite也会写在location里，它们的执行顺序是：</p><p>1）处理在server级别中定义的模块指令；</p><p>2）为请求查找location；</p><p>3）处理在选中的location中定义的模块指令，如果指令改变了URI，按新的URI查找location。这个循环至多重复10次，之后nginx返回错误500 (Internal Server Error)；</p><p>如果一个URI匹配了rewrite指令指定的正则表达式（regex），则URI就按照replacement进行重写，而rewrite按配置文件中出现的顺序执行。其中flag标志可以停止继续处理。如果replacement以”http://”或”https://”开始，将不再继续处理，那么这个重定向将直接返回给客户端。</p><p>flag可以是如下参数：</p><p>last，完成该rewrite规则的执行后，停止处理后续rewrite指令集；然后查找匹配改变后URI的新location；</p><p>break，完成该rewrite规则的执行后，停止处理后续rewrite指令集，并不再重新查找；但是当前location内剩余非rewrite语句和location外的的非rewrite语句可以执行；</p><p>redirect，返回302临时重定向，地址栏会显示跳转后的地址；</p><p>permanent，返回301永久重定向，地址栏会显示跳转后的地址；即表示如果客户端不清理浏览器缓存，那么返回的结果将永久保存在客户端浏览器中了。</p><p>因为301和302不能简单的只返回状态码，还必须有重定向的URL，这就是return指令无法返回301,302的原因了。这里last和break区别有点难以理解：</p><p>1）last一般写在server和if中，而break一般使用在location中；</p><p>2）last不终止重写后的url匹配，即新的url会再从server走一遍匹配流程，而break终止重写后的匹配；</p><p>3）break和last都能组织继续执行后面的rewrite指令。</p><p>示例：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">     ...</span><br><span class="line">     rewrite ^(&#x2F;download&#x2F;.*)&#x2F;media&#x2F;(.*)..*$ $1&#x2F;mp3&#x2F;$2.mp3 last;</span><br><span class="line">     rewrite ^(&#x2F;download&#x2F;.*)&#x2F;audio&#x2F;(.*)..*$ $1&#x2F;mp3&#x2F;$2.ra last;</span><br><span class="line">     return 403;</span><br><span class="line">     ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果这些rewrite放到“/download/”路径，那么location如下所示，这时应使用break而不是last，使用last将循环10次匹配，然后返回500错误:   </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">location &#x2F;download&#x2F; &#123;</span><br><span class="line">     rewrite ^(&#x2F;download&#x2F;.*)&#x2F;media&#x2F;(.*)..*$ $1&#x2F;mp3&#x2F;$2.mp3 break;</span><br><span class="line">     rewrite ^(&#x2F;download&#x2F;.*)&#x2F;audio&#x2F;(.*)..*$ $1&#x2F;mp3&#x2F;$2.ra break;</span><br><span class="line">     return 403;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于重写后的URL（replacement）包含原请求的请求参数，原URL的?后的内容。如果不想带原请求的参数，可以在replacement后加一个问号。如下，我们加了一个自定义的参数user=$1,然后在结尾处放了一个问号?，把原请求的参数去掉。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rewrite ^&#x2F;users&#x2F;(.*)$ &#x2F;show?user&#x3D;$1? last;</span><br></pre></td></tr></table></figure><p>注: 对花括号“}”或“;”来说，使用时需要用双引号或单引号包围。因为他们既能用在重定向的正则表达式里，也是用在配置文件里分割代码块, 为了避免冲突, 正则表达式里带花括号的话，应该用双引号（或者单引号）包围。比如，要将类似以下的URI：”/photos/123456″重定向到”/path/to/photos/12/1234/123456.png”可以用以下方法 (注意双引号):</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rewrite &quot;&#x2F;photos&#x2F;([0-9] &#123;2&#125;)([0-9] &#123;2&#125;)([0-9] &#123;2&#125;)&quot; &#x2F;path&#x2F;to&#x2F;photos&quot;</span><br></pre></td></tr></table></figure><p>5）set</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Syntax: set $variable value;</span><br><span class="line">Default:—</span><br><span class="line">Context:server, location, if</span><br></pre></td></tr></table></figure><p>定义一个变量并赋值，值可以是文本，变量或者文本变量混合体。</p><p>6）rewrite_log</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Syntax: rewrite_log on | off;</span><br><span class="line">Default:rewrite_log off;</span><br><span class="line">Context:http, server, location, if</span><br></pre></td></tr></table></figure><p>开启或关闭以notice级别打印rewrite处理日志到error log文件。nginx打开rewrite log的例子如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rewrite_log on;                        &#x2F;&#x2F;打开rewrite log</span><br><span class="line">error_log logs&#x2F;xxx.error.log notice;   &#x2F;&#x2F;把error log的级别调整为notice</span><br></pre></td></tr></table></figure><p>7）uninitialized_variable_warn  </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Syntax: uninitialized_variable_warn on | off;</span><br><span class="line">Default:uninitialized_variable_warn on;</span><br><span class="line">Context:http, server, location, if</span><br></pre></td></tr></table></figure><p>控制是否输出为初始化的变量到日志。</p><p>重写规则组成部分</p><p>第一部分：任何重写规则的第一部分都是一个正则表达式</p><p>正则表达式可以使用括号来捕获，后续可以根据位置来将其引用，位置变量值取决于捕获正则表达式中的顺序，$1引用第一个括号中的值，$2引用第二个括号中的值，以此类推。如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">^&#x2F;images&#x2F;([a-z]&#123;2&#125;)&#x2F;([a-z0-9]&#123;5&#125;)&#x2F;(.*)\.(png|jpg|gif)$</span><br></pre></td></tr></table></figure><p>$1是两个小写字母组成的字符串，$2是由小写字母和0到9的数字组成的5个字符的字符串，$3将是个文件名，$4是png、jpg、gif中的其中一个。</p><p>第二部分：重写规则的第二部分是URI</p><p>当重写规则第一部分被匹配到了之后，则请求被改写，那么该URI可能包含正则表达式中的捕获的位置参数或这个级别下的nginx任何配置变量。如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;data?file&#x3D;$3.$4</span><br></pre></td></tr></table></figure><p>如果这个URI不匹配nginx配置的任何location，那么将给客户端返回301(永久重定向)或302(临时重定向)的状态码来表示重定向类型。该状态码可以通过第三个参数来明确指定。</p><p>第三部分：重写规则的第三部分就是标记（flag）</p><p>第三部分也就是尾部的标记（flag）， last标记将导致重写后的URI搜索匹配nginx的其他location，最多可循环10次。如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rewrite &#39;^&#x2F;images&#x2F;([a-z]&#123;2&#125;)&#x2F;([a-z0-9]&#123;5&#125;)&#x2F;(.*)\.(png|jpg|gif)$&#39; &#x2F;data?file&#x3D;$3.$4 last;</span><br></pre></td></tr></table></figure><p>全局变量</p><p>下面是可以用作if判断的全局变量</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$args               #这个变量等于请求行中的参数，同$query_string;</span><br><span class="line">$content_length     #请求头中的Content-length字段;</span><br><span class="line">$content_type       #请求头中的Content-Type字段;</span><br><span class="line">$document_root      #当前请求在root指令中指定的值，如:root &#x2F;var&#x2F;www&#x2F;html;</span><br><span class="line">$host               #请求主机头字段，否则为服务器名称;</span><br><span class="line">$http_user_agent    #客户端agent信息;</span><br><span class="line">$http_cookie        #客户端cookie信息;</span><br><span class="line">$limit_rate         #这个变量可以限制连接速率;</span><br><span class="line">$request_method     #客户端请求的动作，通常为GET或POST;</span><br><span class="line">$remote_addr        #客户端的IP地址;</span><br><span class="line">$remote_port        #客户端的端口;</span><br><span class="line">$remote_user        #已经经过Auth Basic Module验证的用户名;</span><br><span class="line">$request_filename   #当前请求的文件路径，由root或alias指令与URI请求生成;</span><br><span class="line">$scheme             #HTTP方法（如http，https）;</span><br><span class="line">$server_protocol    #请求使用的协议，通常是HTTP&#x2F;1.0或HTTP&#x2F;1.1;</span><br><span class="line">$server_addr        #服务器地址，在完成一次系统调用后可以确定这个值;</span><br><span class="line">$server_name        #服务器名称;</span><br><span class="line">$server_port        #请求到达服务器的端口号;</span><br><span class="line">$request_uri        #包含请求参数的原始URI，不包含主机名，如：”&#x2F;foo&#x2F;bar.php?arg&#x3D;baz”;</span><br><span class="line">$uri                #不带请求参数的当前URI，$uri不包含主机名，如”&#x2F;foo&#x2F;bar.html”;</span><br><span class="line">$document_uri       #与$uri相同,例：http:&#x2F;&#x2F;localhost:88&#x2F;test1&#x2F;test2&#x2F;test.php;</span><br></pre></td></tr></table></figure><p>例如：<a href="http://localhost:88/test1/test2/test.php%E8%BF%99%E4%B8%AAURL%EF%BC%8C%E5%85%B6%E4%B8%AD%EF%BC%9A">http://localhost:88/test1/test2/test.php这个URL，其中：</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$host：localhost</span><br><span class="line">$server_port：88</span><br><span class="line">$request_uri：http:&#x2F;&#x2F;localhost:88&#x2F;test1&#x2F;test2&#x2F;test.php</span><br><span class="line">$document_uri：&#x2F;test1&#x2F;test2&#x2F;test.php</span><br><span class="line">$document_root：&#x2F;var&#x2F;www&#x2F;html</span><br><span class="line">$request_filename：&#x2F;var&#x2F;www&#x2F;html&#x2F;test1&#x2F;test2&#x2F;test.php</span><br></pre></td></tr></table></figure><p>Rewrite模块使用实例</p><p>1）使用rewrite指令把访问80端口的请求重定向到443</p><p>对于HTTPS网站，一般最少需要定义两个虚拟主机，一个是使用80的虚拟主机，另一个就是使用443端口的虚拟主机了。比如在浏览器输入<a href="http://www.ywnds.com(http//www.ywnds.com%EF%BC%89%E4%BC%9A%E8%87%AA%E5%8A%A8%E8%B7%B3%E8%BD%AC%E5%88%B0https://www.ywnds.com%E3%80%82">www.ywnds.com（http://www.ywnds.com）会自动跳转到https://www.ywnds.com。</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rewrite ^(.*)$ https:&#x2F;&#x2F;www.ywnds.com$uri redirect;</span><br></pre></td></tr></table></figure><p>这种跳转就是302临时重定向跳转，如果把flag变成permanent就成了301永久重定向跳转了。</p><p>2）作为重写规则的一部分，传递新的查询字符串参数是使用重写规则的目标之一</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rewrite ^&#x2F;images&#x2F;(.*)_(\d+)x(\d+)\.(png|jpg|gif)$ &#x2F;resizer&#x2F;$1.$4?width&#x3D;$2&amp;height&#x3D;$3? last;</span><br></pre></td></tr></table></figure><p>3）使用rewrite模块禁止用户代理</p><p>Nginx可以通过各种方式来限制访问，例如NGINX基本Http认证、allow/deny等等，这些都是前文提过的，下面来看看nginx如何通过用户代理来禁止访问。</p><p>user agent是什么?</p><p>简单来说告诉服务器你当前使用的是什么浏览器、工具等来访问我的。例如火狐、chrome、wget、curl等浏览器或工具。使用$http_user_agent变量就可以获取到用户代理，一般在定义日志格式时都会使用这个变量，把用户代理记录到日志中去。</p><p>如何禁止特定UA？</p><p>我们不希望被使用wget或者curl来下载我的文件，怎么做呢？这里就可以使用rewrite模块了，编辑nginx配置文件，以下内容放在http配置段，那么整个nginx都生效。如果放到server里，那么一个域名生效，你放哪，哪就有效！</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if ($http_user_agent ~* (curl) ) &#123;</span><br><span class="line">    return 404;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>禁止多个UA</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if ($http_user_agent ~* (wget|curl) ) &#123;</span><br><span class="line">    return 404;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>nginx重写规则说起来挺简单的，做起来就难，重点在于正则表达式，同时，还需要考虑到nginx执行顺序。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Nginx的location匹配</title>
      <link href="p/8b346831/"/>
      <url>p/8b346831/</url>
      
        <content type="html"><![CDATA[<h2 id="语法规则"><a href="#语法规则" class="headerlink" title="语法规则"></a>语法规则</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">location [ &#x3D; | ~ | ~* | ^~ ] uri &#123; ... &#125;</span><br><span class="line">location @name &#123; ... &#125;</span><br></pre></td></tr></table></figure><p>语法规则很简单，一个==location==关键字，后面跟着可选的修饰符，后面是要匹配的字符，花括号中是要执行的操作。</p><h2 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x3D; 表示精确匹配。只有请求的url路径与后面的字符串完全相等时，才会命中。</span><br><span class="line">~ 表示该规则是使用正则定义的，区分大小写。</span><br><span class="line">~* 表示该规则是使用正则定义的，不区分大小写。</span><br><span class="line">^~ 表示如果该符号后面的字符是最佳匹配，采用该规则，不再进行后续的查找。</span><br></pre></td></tr></table></figure><h2 id="匹配过程"><a href="#匹配过程" class="headerlink" title="匹配过程"></a>匹配过程</h2><p>对请求的url序列化。例如，对%xx等字符进行解码，去除url中多个相连的/，解析url中的.，..等。这一步是匹配的前置工作。</p><p>location有两种表示形式，一种是使用前缀字符，一种是使用正则。如果是正则的话，前面有<del>或</del>*修饰符。</p><p>具体的匹配过程如下：</p><p>首先先检查使用前缀字符定义的location，选择最长匹配的项并记录下来。</p><p>如果找到了精确匹配的location，也就是使用了=修饰符的location，结束查找，使用它的配置。</p><p>然后按顺序查找使用正则定义的location，如果匹配则停止查找，使用它定义的配置。</p><p>如果没有匹配的正则location，则使用前面记录的最长匹配前缀字符location。</p><p>基于以上的匹配过程，我们可以得到以下两点启示：</p><pre><code>使用正则定义的location在配置文件中出现的顺序很重要。因为找到第一个匹配的正则后，查找就停止了，后面定义的正则就是再匹配也没有机会了。使用精确匹配可以提高查找的速度。例如经常请求/的话，可以使用=来定义location。</code></pre><p>示例<br>接下来我们以一个例子来具体说明一下匹配过程。</p><p>假如我们有下面的一段配置文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">location &#x3D; &#x2F; &#123;</span><br><span class="line">    [ configuration A ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location &#x2F; &#123;</span><br><span class="line">    [ configuration B ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location &#x2F;user&#x2F; &#123;</span><br><span class="line">    [ configuration C ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ^~ &#x2F;images&#x2F; &#123;</span><br><span class="line">    [ configuration D ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">location ~* \.(gif|jpg|jpeg)$ &#123;</span><br><span class="line">    [ configuration E ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>请求 ==/== 精准匹配A，不再往下查找。</p><p>请求 ==/index.html== 匹配B。首先查找匹配的前缀字符，找到最长匹配是配置B，接着又按照顺序查找匹配的正则。结果没有找到，因此使用先前标记的最长匹配，即配置B。</p><p>请求 ==/user/index.html==匹配C。首先找到最长匹配C，由于后面没有匹配的正则，所以使用最长匹配C。<br>请求 ==/user/1.jpg== 匹配E。首先进行前缀字符的查找，找到最长匹配项C，继续进行正则查找，找到匹配项E。因此使用E。</p><p>请求 ==/images/1.jpg==匹配D。首先进行前缀字符的查找，找到最长匹配D。但是，特殊的是它使用了^~修饰符，不再进行接下来的正则的匹配查找，因此使用D。这里，如果没有前面的修饰符，其实最终的匹配是E。大家可以想一想为什么。</p><p>请求 ==/documents/about.html==匹配B。因为B表示任何以/开头的URL都匹配。在上面的配置中，只有B能满足，所以匹配B。</p><h2 id="location-name的用法"><a href="#location-name的用法" class="headerlink" title="location @name的用法"></a>location @name的用法</h2><p>@用来定义一个命名location。主要用于内部重定向，不能用来处理正常的请求。其用法如下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">location &#x2F; &#123;</span><br><span class="line">    try_files $uri $uri&#x2F; @custom</span><br><span class="line">&#125;</span><br><span class="line">location @custom &#123;</span><br><span class="line">    # ...do something</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上例中，当尝试访问url找不到对应的文件就重定向到我们自定义的命名location（此处为custom）。</p><p><strong>值得注意的是，命名location中不能再嵌套其它的命名location</strong>。</p><h2 id="URL尾部的-需不需要"><a href="#URL尾部的-需不需要" class="headerlink" title="URL尾部的/需不需要"></a>URL尾部的/需不需要</h2><p>关于URL尾部的/有三点也需要说明一下。第一点与location配置有关，其他两点无关。</p><ul><li>location中的字符有没有/都没有影响。也就是说/user/和/user是一样的。</li><li>如果URL结构是<a href="https://domain.com/%E7%9A%84%E5%BD%A2%E5%BC%8F%EF%BC%8C%E5%B0%BE%E9%83%A8%E6%9C%89%E6%B2%A1%E6%9C%89/%E9%83%BD%E4%B8%8D%E4%BC%9A%E9%80%A0%E6%88%90%E9%87%8D%E5%AE%9A%E5%90%91%E3%80%82%E5%9B%A0%E4%B8%BA%E6%B5%8F%E8%A7%88%E5%99%A8%E5%9C%A8%E5%8F%91%E8%B5%B7%E8%AF%B7%E6%B1%82%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%BB%98%E8%AE%A4%E5%8A%A0%E4%B8%8A%E4%BA%86/%E3%80%82%E8%99%BD%E7%84%B6%E5%BE%88%E5%A4%9A%E6%B5%8F%E8%A7%88%E5%99%A8%E5%9C%A8%E5%9C%B0%E5%9D%80%E6%A0%8F%E9%87%8C%E4%B9%9F%E4%B8%8D%E4%BC%9A%E6%98%BE%E7%A4%BA/%E3%80%82%E8%BF%99%E4%B8%80%E7%82%B9%EF%BC%8C%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AEbaidu%E9%AA%8C%E8%AF%81%E4%B8%80%E4%B8%8B%E3%80%82">https://domain.com/的形式，尾部有没有/都不会造成重定向。因为浏览器在发起请求的时候，默认加上了/。虽然很多浏览器在地址栏里也不会显示/。这一点，可以访问baidu验证一下。</a></li><li>如果URL的结构是<a href="https://domain.com/some-dir/%E3%80%82%E5%B0%BE%E9%83%A8%E5%A6%82%E6%9E%9C%E7%BC%BA%E5%B0%91/%E5%B0%86%E5%AF%BC%E8%87%B4%E9%87%8D%E5%AE%9A%E5%90%91%E3%80%82%E5%9B%A0%E4%B8%BA%E6%A0%B9%E6%8D%AE%E7%BA%A6%E5%AE%9A%EF%BC%8CURL%E5%B0%BE%E9%83%A8%E7%9A%84/%E8%A1%A8%E7%A4%BA%E7%9B%AE%E5%BD%95%EF%BC%8C%E6%B2%A1%E6%9C%89/%E8%A1%A8%E7%A4%BA%E6%96%87%E4%BB%B6%E3%80%82%E6%89%80%E4%BB%A5%E8%AE%BF%E9%97%AE/some-dir/%E6%97%B6%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%9A%E8%87%AA%E5%8A%A8%E5%8E%BB%E8%AF%A5%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%89%BE%E5%AF%B9%E5%BA%94%E7%9A%84%E9%BB%98%E8%AE%A4%E6%96%87%E4%BB%B6%E3%80%82%E5%A6%82%E6%9E%9C%E8%AE%BF%E9%97%AE/some-dir%E7%9A%84%E8%AF%9D%EF%BC%8C%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%9A%E5%85%88%E5%8E%BB%E6%89%BEsome-dir%E6%96%87%E4%BB%B6%EF%BC%8C%E6%89%BE%E4%B8%8D%E5%88%B0%E7%9A%84%E8%AF%9D%E4%BC%9A%E5%B0%86some-dir%E5%BD%93%E6%88%90%E7%9B%AE%E5%BD%95%EF%BC%8C%E9%87%8D%E5%AE%9A%E5%90%91%E5%88%B0/some-dir/%EF%BC%8C%E5%8E%BB%E8%AF%A5%E7%9B%AE%E5%BD%95%E4%B8%8B%E6%89%BE%E9%BB%98%E8%AE%A4%E6%96%87%E4%BB%B6%E3%80%82%E5%8F%AF%E4%BB%A5%E5%8E%BB%E6%B5%8B%E8%AF%95%E4%B8%80%E4%B8%8B%E4%BD%A0%E7%9A%84%E7%BD%91%E7%AB%99%E6%98%AF%E4%B8%8D%E6%98%AF%E8%BF%99%E6%A0%B7%E7%9A%84%E3%80%82">https://domain.com/some-dir/。尾部如果缺少/将导致重定向。因为根据约定，URL尾部的/表示目录，没有/表示文件。所以访问/some-dir/时，服务器会自动去该目录下找对应的默认文件。如果访问/some-dir的话，服务器会先去找some-dir文件，找不到的话会将some-dir当成目录，重定向到/some-dir/，去该目录下找默认文件。可以去测试一下你的网站是不是这样的。</a><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2>location的配置有两种形式，前缀字符和正则。查找匹配的时候，先查找前缀字符，选择最长匹配项，再查找正则。正则的优先级高于前缀字符。</li></ul><p>正则的查找是按照在配置文件中的顺序进行的。因此正则的顺序很重要，建议越精细的放的越靠前。</p><p>使用=精准匹配可以加快查找的顺序，如果根域名经常被访问的话建议使用=。</p>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> location </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx的配置</title>
      <link href="p/b0225828/"/>
      <url>p/b0225828/</url>
      
        <content type="html"><![CDATA[<h2 id="常用的命令"><a href="#常用的命令" class="headerlink" title="常用的命令"></a><strong>常用的命令</strong></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">nginx -h   # 帮助</span><br><span class="line">nginx -t   # 验证配置文件的正确性</span><br><span class="line">nginx -v   # 查看nginx的版本</span><br><span class="line">nginx -c filename  # 按指定的配置文件启动，默认的路径conf&#x2F;nginx.conf</span><br><span class="line"></span><br><span class="line">nginx -s reload  # 重新载入配置文件</span><br><span class="line">nginx -s reopen  # 重启nginx</span><br><span class="line">nginx -s stop    # 关闭nginx</span><br><span class="line">nginx -s quit    # 退出</span><br></pre></td></tr></table></figure><h2 id="nginx的配置文件的详解"><a href="#nginx的配置文件的详解" class="headerlink" title="nginx的配置文件的详解"></a>nginx的配置文件的详解</h2><pre><code>nginx的配置分为四个部分：main(全区设置)，server(主机配置)，upstream(负载均衡服务器设置)，和location(URL匹配特定位置设置)。</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line">#定义Nginx运行的用户和用户组</span><br><span class="line">user www www;</span><br><span class="line">#pid文件</span><br><span class="line">#进程文件</span><br><span class="line">pid &#x2F;var&#x2F;run&#x2F;nginx.pid;</span><br><span class="line">#nginx进程数，建议设置为等于CPU总核心数。</span><br><span class="line">#&#x3D;&#x3D;worker进程数，通常设置等同于CPU数量，auto为自动检测</span><br><span class="line">worker_processes 8;</span><br><span class="line">worker_processes auto;</span><br><span class="line">#一个nginx进程打开的最多文件描述符数目，理论值应该是最多打开文件数（系统的值ulimit -n）与nginx进程数相除，但是nginx分配请求并不均匀，所以建议与ulimit -n的值保持一致。</span><br><span class="line">#&#x3D;&#x3D;worker进程打开最大文件数，可CPU*10000设置</span><br><span class="line">worker_rlimit_nofile 65535;</span><br><span class="line">#worker_rlimit_nofile 100000;</span><br><span class="line">#全局错误日志</span><br><span class="line">error_log  logs&#x2F;error.log;</span><br><span class="line"># error_log  logs&#x2F;error.log  info; # 可以设置级别</span><br><span class="line"></span><br><span class="line"># 设置前台运行，默认后台运行</span><br><span class="line">daemon off;</span><br><span class="line"></span><br><span class="line">#工作模式与连接数上限</span><br><span class="line">#events模块中包含nginx中所有处理连接的设置</span><br><span class="line">events &#123;</span><br><span class="line">    #&#x3D;&#x3D;worker进程同时打开的最大连接数，可CPU*2048设置</span><br><span class="line">    worker_connections 2048;</span><br><span class="line">    #&#x3D;&#x3D;告诉nginx收到一个新链接通知后接受尽可能多的链接</span><br><span class="line">    multi_accept on;</span><br><span class="line">    #&#x3D;&#x3D;设置用于复用客户端线程的轮训方法</span><br><span class="line">    #参考事件模型，use [ kqueue | rtsig | epoll | &#x2F;dev&#x2F;poll | select | poll ]; epoll模型是Linux 2.6以上版本内核中的高性能网络I&#x2F;O模型，如果跑在FreeBSD上面，就用kqueue模型。</span><br><span class="line">    use epoll;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#http模块控制着nginx http处理的所有核心特性</span><br><span class="line">http &#123;</span><br><span class="line">    include mime.types; #文件扩展名与文件类型映射表</span><br><span class="line">    default_type application&#x2F;octet-stream; #默认文件类型</span><br><span class="line">    #charset utf-8; #默认编码</span><br><span class="line">    server_names_hash_bucket_size 128;     #服务器名字的hash表大小</span><br><span class="line">    #上传文件大小限制</span><br><span class="line">    large_client_header_buffers 4 64k;</span><br><span class="line">    #&#x3D;&#x3D;允许客户端请求的最大单文件字节数</span><br><span class="line">    client_max_body_size 8m;</span><br><span class="line">    #&#x3D;&#x3D;冲区代理缓冲用户端请求的最大字节数</span><br><span class="line">    client_header_buffer_size 32k;</span><br><span class="line">    sendfile on; #开启高效文件传输模式，sendfile指令指定nginx是否调用sendfile函数来输出文件，对于普通应用设为 on，如果用来进行下载等应用磁盘IO重负载应用，可设置为off，以平衡磁盘与网络I&#x2F;O处理速度，降低系统的负载。注意：如果图片显示不正常把这个改成off。</span><br><span class="line">    autoindex on; #开启目录列表访问，合适下载服务器，默认关闭。</span><br><span class="line">    tcp_nopush on; #防止网络阻塞</span><br><span class="line">    tcp_nodelay on; #防止网络阻塞</span><br><span class="line">    keepalive_timeout 120; #长连接超时时间，单位是秒</span><br><span class="line">    </span><br><span class="line">    #日志格式设定</span><br><span class="line">    log_format access &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span><br><span class="line">                      &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span><br><span class="line">                      &#39;&quot;$http_user_agent&quot; $http_x_forwarded_for&#39;;</span><br><span class="line">    #定义本虚拟主机的访问日志</span><br><span class="line">    access_log  &#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log  main;</span><br><span class="line">    #FastCGI相关参数是为了改善网站的性能：减少资源占用，提高访问速度。下面参数看字面意思都能理解。</span><br><span class="line">    fastcgi_connect_timeout 300;</span><br><span class="line">    fastcgi_send_timeout 300;</span><br><span class="line">    fastcgi_read_timeout 300;</span><br><span class="line">    fastcgi_buffer_size 64k;</span><br><span class="line">    fastcgi_buffers 4 64k;</span><br><span class="line">    fastcgi_busy_buffers_size 128k;</span><br><span class="line">    fastcgi_temp_file_write_size 128k;</span><br><span class="line"></span><br><span class="line">    #gzip模块设置</span><br><span class="line">    #&#x3D;&#x3D;设置nginx采用gzip压缩的形式发送数据，减少发送数据量，但会增加请求处理时间及CPU处理时间，需要权衡</span><br><span class="line">    gzip on; #开启gzip压缩输出</span><br><span class="line">    gzip_min_length 1k; #最小压缩文件大小</span><br><span class="line">    gzip_buffers 4 16k; #压缩缓冲区</span><br><span class="line">    gzip_http_version 1.0; #压缩版本（默认1.1，前端如果是squid2.5请使用1.0）</span><br><span class="line">    #&#x3D;&#x3D;设置数据压缩等级，1-9之间，9最慢压缩比最大</span><br><span class="line">    gzip_comp_level 2; #压缩等级</span><br><span class="line">    #压缩类型，默认就已经包含text&#x2F;html，所以下面就不用再写了，写上去也不会有问题，但是会有一个warn。</span><br><span class="line">    gzip_types text&#x2F;plain text&#x2F;css text&#x2F;xml text&#x2F;javascript  application&#x2F;json application&#x2F;x-javascript application&#x2F;xml application&#x2F;xml+rss</span><br><span class="line">    #&#x3D;&#x3D;加vary给代理服务器使用，针对有的浏览器支持压缩，有个不支持，根据客户端的HTTP头来判断是否需要压缩</span><br><span class="line">    gzip_vary on;</span><br><span class="line">    #开启限制IP连接数的时候需要使用</span><br><span class="line">    #limit_zone crawler $binary_remote_addr 10m; </span><br><span class="line">    #nginx在压缩资源之前，先查找是否有预先gzip处理过的资源</span><br><span class="line">    #!gzip_static on;</span><br><span class="line">    #为指定的客户端禁用gzip功能</span><br><span class="line">    gzip_disable &quot;MSIE[1-6]\.&quot;;</span><br><span class="line">    #允许或禁止压缩基于请求和相应的响应流，any代表压缩所有请求</span><br><span class="line">    gzip_proxied any;</span><br><span class="line">    #&#x3D;&#x3D;设置对数据启用压缩的最少字节数，如果请求小于10240字节则不压缩，会影响请求速度</span><br><span class="line">    gzip_min_length 10240;</span><br><span class="line"></span><br><span class="line">    #&#x3D;&#x3D;开发缓存的同时也指定了缓存文件的最大数量，20s如果文件没有请求则删除缓存</span><br><span class="line">    open_file_cache max&#x3D;100000 inactive&#x3D;20s;</span><br><span class="line">    #&#x3D;&#x3D;指多长时间检查一次缓存的有效信息</span><br><span class="line">    open_file_cache_valid 60s;</span><br><span class="line">    #&#x3D;&#x3D;文件缓存最小的访问次数，只有访问超过5次的才会被缓存</span><br><span class="line">    open_file_cache_min_uses 5;</span><br><span class="line">    #当搜索一个文件时是否缓存错误信息</span><br><span class="line">    open_file_cache_errors on;</span><br><span class="line"></span><br><span class="line">    #&#x3D;&#x3D;允许客户端请求的最大单文件字节数</span><br><span class="line">    client_max_body_size 8m;</span><br><span class="line">    #&#x3D;&#x3D;冲区代理缓冲用户端请求的最大字节数</span><br><span class="line">    client_header_buffer_size 32k;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    upstream blog.ha97.com &#123;</span><br><span class="line">    #ip_hash;</span><br><span class="line">    #weight参数表示权重值，权值越高被分配到的几率越大</span><br><span class="line">    server 192.168.80.121:80 weight&#x3D;3;</span><br><span class="line">    server 192.168.80.122:80 weight&#x3D;2;</span><br><span class="line">    server 192.168.80.123:80 weight&#x3D;3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #对 &quot;&#x2F;&quot; 启用反向代理</span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">    proxy_pass http:&#x2F;&#x2F;127.0.0.1:88;</span><br><span class="line">    proxy_redirect off;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    #后端的Web服务器可以通过X-Forwarded-For获取用户真实IP</span><br><span class="line">    proxy_set_header Host $host;</span><br><span class="line">    proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    #以下是一些反向代理的配置，可选。</span><br><span class="line">    #允许客户端请求的最大单文件字节数</span><br><span class="line">    client_max_body_size 10m;</span><br><span class="line">    #缓冲区代理缓冲用户端请求的最大字节数，</span><br><span class="line">    client_body_buffer_size 128k;</span><br><span class="line">    #&#x3D;&#x3D;nginx跟后端服务器连接超时时间(代理连接超时)</span><br><span class="line">    proxy_connect_timeout 60;</span><br><span class="line">    #&#x3D;&#x3D;连接成功后，后端服务器响应时间(代理接收超时)</span><br><span class="line">    proxy_read_timeout 120;</span><br><span class="line">    #&#x3D;&#x3D;后端服务器数据回传时间(代理发送超时)</span><br><span class="line">    proxy_send_timeout 20;</span><br><span class="line">    #&#x3D;&#x3D;设置代理服务器（nginx）保存用户头信息的缓冲区大小</span><br><span class="line">    proxy_buffer_size 32k;</span><br><span class="line">    #&#x3D;&#x3D;proxy_buffers缓冲区，网页平均在32k以下的设置</span><br><span class="line">    proxy_buffers 4 128k;</span><br><span class="line">    #&#x3D;&#x3D;高负荷下缓冲大小（proxy_buffers*2）</span><br><span class="line">    proxy_busy_buffers_size 256k;</span><br><span class="line">    #&#x3D;&#x3D;设定缓存文件夹大小，大于这个值，将从upstream服务器传</span><br><span class="line">    proxy_temp_file_write_size 256k;</span><br><span class="line">    #&#x3D;&#x3D;1G内存缓冲空间，3天不用删除，最大磁盘缓冲空间2G</span><br><span class="line">    proxy_cache_path &#x2F;home&#x2F;cache levels&#x3D;1:2 keys_zone&#x3D;cache_one:1024m inactive&#x3D;3d max_size&#x3D;2g;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    #设定负载均衡服务器列表</span><br><span class="line">    upstream nginx.test.com&#123;</span><br><span class="line">        #后端服务器访问规则</span><br><span class="line">        #ip_hash;</span><br><span class="line">        #weight参数表示权重值，权值越高被分配到的几率越大</span><br><span class="line">        #server 10.11.12.116:80 weight&#x3D;5;</span><br><span class="line">        #PC_Local</span><br><span class="line">        server 10.11.12.116:80;</span><br><span class="line">        #PC_Server</span><br><span class="line">        server 10.11.12.112:80;</span><br><span class="line">        #Notebook</span><br><span class="line">        #server 10.11.12.106:80;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #虚拟主机设定模块（挂载多个站点，只需要配置多个server及upstream节点即可）</span><br><span class="line">    server &#123;</span><br><span class="line">        #监听80端口</span><br><span class="line">        listen 80;</span><br><span class="line">        #定义使用nginx.test.com访问</span><br><span class="line">        server_name nginx.test.com;</span><br><span class="line">        #设定本虚拟主机的访问日志</span><br><span class="line">        access_log logs&#x2F;nginx.test.com.access.log;</span><br><span class="line">        </span><br><span class="line">        #默认请求</span><br><span class="line">        # 语法规则：location [&#x3D;|~|~*|^~] &#x2F;uri&#x2F; &#123;...&#125; 先匹配普通location，在匹配正则location</span><br><span class="line">        # &#x3D; 开头表示精确匹配</span><br><span class="line">        # ^~ 开头表示uri以某个常规字符串开头，理解为匹配url路径即可，无需考虑编解码</span><br><span class="line">        # ~ 开头表示区分大小写的正则匹配</span><br><span class="line">        # ~* 开头表示不区分大小写的正则匹配</span><br><span class="line">        # !~ 开头表示区分大小写的不匹配的正则</span><br><span class="line">        # !~* 开头表示不区分大小写的不匹配的正则</span><br><span class="line">        # &#x2F; 通用匹配，任何请求都会被匹配到</span><br><span class="line">        location &#x2F; &#123;</span><br><span class="line">            #限制IP访问</span><br><span class="line">            deny 192.168.0.2；</span><br><span class="line">            allow 192.168.0.0&#x2F;24;</span><br><span class="line">            allow 192.168.1.1;</span><br><span class="line">            deny all;</span><br><span class="line">            #定义服务器的默认网站根目录位置</span><br><span class="line">            root html;</span><br><span class="line">            #定义首页索引文件的名称</span><br><span class="line">            index index.html index.htm;</span><br><span class="line">            #定义后端负载服务器组</span><br><span class="line">            proxy_pass http:&#x2F;&#x2F;nginx.test.com;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        #定义错误提示页面</span><br><span class="line">        error_page 500 502 503 504 &#x2F;50x.html;</span><br><span class="line">        location &#x3D; &#x2F;50x.html &#123;</span><br><span class="line">            root html;</span><br><span class="line">        &#125;</span><br><span class="line">        #静态文件，nginx自己处理</span><br><span class="line">        location ~ ^&#x2F;(images|javascript|js|css|flash|media|static)&#x2F;&#123;</span><br><span class="line">            root &#x2F;var&#x2F;www&#x2F;virtual&#x2F;htdocs;</span><br><span class="line">            #过期时间1天</span><br><span class="line">            expires 1d;</span><br><span class="line">            #关闭媒体文件日志</span><br><span class="line">            access_log off;</span><br><span class="line">            log_not_found off;</span><br><span class="line">        &#125;</span><br><span class="line">        #设定查看Nginx状态的地址</span><br><span class="line">        location &#x2F;NginxStatus &#123;</span><br><span class="line">            #!stub_status on; #无此关键字</span><br><span class="line">            access_log off;</span><br><span class="line">            auth_basic &quot;NginxStatus&quot;;</span><br><span class="line">            auth_basic_user_file conf&#x2F;htpasswd;</span><br><span class="line">        &#125;</span><br><span class="line">        #禁止访问的文件.htxxx</span><br><span class="line">        location ~ &#x2F;\.ht &#123;</span><br><span class="line">            deny all;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    #网站较多的情况下ngxin又不会请求瓶颈可以考虑挂多个站点，并把虚拟主机配置单独放在一个文件内，引入进来</span><br><span class="line">    #include website.conf;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="对域名的匹配规则"><a href="#对域名的匹配规则" class="headerlink" title="对域名的匹配规则"></a>对域名的匹配规则</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">server_name location;      # 匹配本地主机ip；</span><br><span class="line">server_name www.baidu.com; # 精确配置  </span><br><span class="line">server_name *.baidu.com;   # 以通配符开头的配置  </span><br><span class="line">server_name baidu.*;       # 以通配符结尾的配置  </span><br><span class="line">server_name  ~^(?&lt;user&gt;.+)\.example\.net$;  #正则的配置，必须以波浪线为开头</span><br></pre></td></tr></table></figure><h2 id="路由对location的匹配规则"><a href="#路由对location的匹配规则" class="headerlink" title="路由对location的匹配规则"></a>路由对location的匹配规则</h2><h3 id="贪婪原则：匹配尽可能长的路径；"><a href="#贪婪原则：匹配尽可能长的路径；" class="headerlink" title="贪婪原则：匹配尽可能长的路径；"></a>贪婪原则：匹配尽可能长的路径；</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line">        root &#x2F;data&#x2F;www;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    location &#x2F;images&#x2F; &#123;</span><br><span class="line">        root &#x2F;data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># &#x2F;images&#x2F;匹配到第二个；</span><br></pre></td></tr></table></figure><h3 id="通配规则"><a href="#通配规则" class="headerlink" title="通配规则"></a>通配规则</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">以&#x3D;开头，表示精确匹配；</span><br><span class="line">以^~开头，表示uri以某个常规字符串开头，不是正则匹配；</span><br><span class="line">以~开头，表示区分大小写的正则匹配；</span><br><span class="line">以~*开头，表示不区分大小写的正则匹配；</span><br><span class="line">&#x2F;，表示通用匹配, 如果没有其它匹配,任何请求都会匹配到；</span><br></pre></td></tr></table></figure><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 如果有两个开头一样的路由，有可能匹配不到</span><br><span class="line"></span><br><span class="line">如：</span><br><span class="line"></span><br><span class="line">location &#x2F;eeg</span><br><span class="line"></span><br><span class="line">location &#x2F;eegabc</span><br><span class="line"></span><br><span class="line"># 上面会造成&#x2F;eegabc匹配失败</span><br></pre></td></tr></table></figure><h2 id="nginx的日志设置规则"><a href="#nginx的日志设置规则" class="headerlink" title="nginx的日志设置规则"></a>nginx的日志设置规则</h2><h3 id="主要分为access-log和error-log"><a href="#主要分为access-log和error-log" class="headerlink" title="主要分为access_log和error_log;"></a>主要分为access_log和error_log;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">access log : 记录了哪些用户，哪些页面以及用户浏览器、ip和其他的访问信息</span><br><span class="line">默认值: access_log logs&#x2F;access.log combined;  # 表示配置的路径和格式</span><br><span class="line">配置段: http, server, location, if in location, limit_except</span><br><span class="line"></span><br><span class="line">error log : 记录服务器错误日志</span><br><span class="line">默认值: error_log logs&#x2F;error.log error;  # 表示配置的路径和级别，有[debug | info | notice | warn | error | crit | alert | emerg]八个级别;</span><br><span class="line">配置段: main, http, server, location</span><br></pre></td></tr></table></figure><h2 id="负载均衡的规则"><a href="#负载均衡的规则" class="headerlink" title="负载均衡的规则"></a>负载均衡的规则</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#设定负载均衡服务器列表</span><br><span class="line">upstream test&#123;</span><br><span class="line">    #后端服务器访问规则</span><br><span class="line">    #ip_hash;   # 根据ip的hash规则分配，主要是当需要会话保持的时候，session是不能共享的；</span><br><span class="line">    #weight参数表示权重值，权值越高被分配到的几率越大，服务器的运算能力有时不是一样的；</span><br><span class="line">    #server 10.11.12.116:80 weight&#x3D;5;</span><br><span class="line">    #PC_Local</span><br><span class="line">    server 10.11.12.116:80 max_fails&#x3D;3 fail_timeout&#x3D;30; </span><br><span class="line">    # max_fails:最多的转发失败的次数，如果转发失败超过次数，就认为该服务器挂掉；</span><br><span class="line">    # fail_timeout：请求失败暂停的服务时间，在这个时间内会暂时放弃转发给该服务器；</span><br><span class="line">    #PC_Server</span><br><span class="line">    server 10.11.12.112:80 down;  # down:暂时不参与负载均衡；</span><br><span class="line">    server 10.11.12.112:80 backup;  # backup:备用服务器，当其他所有的机器忙的时候，会启用备用服务器；</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx 返回码 426 upgrade required 处理</title>
      <link href="p/328665dd/"/>
      <url>p/328665dd/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">426 upgrade required</span><br><span class="line"></span><br><span class="line">请求返回 426</span><br><span class="line"></span><br><span class="line">nginx 反向代理默认走的http 1.0版本</span><br><span class="line"></span><br><span class="line">但是 被反向代理的服务器是1.1版本的!</span><br><span class="line"></span><br><span class="line">so 在反向代理的时候加上一句</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy_http_version 1.1;</span><br></pre></td></tr></table></figure><p>实例</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">   location ~* \.do &#123;</span><br><span class="line">                #if ($http_x_forwarded_proto !&#x3D; &quot;https&quot;) &#123;</span><br><span class="line">                #      rewrite ^(.*)$ https:&#x2F;&#x2F;$server_name$1 permanent;</span><br><span class="line">                #&#125;</span><br><span class="line">               proxy_http_version 1.1;</span><br><span class="line">               proxy_pass http:&#x2F;&#x2F;test-h5-api.7dian7fen.com;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> 返回码 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nginx rewrite 用法，用rewrite去除URL中的特定参数</title>
      <link href="p/fffbf386/"/>
      <url>p/fffbf386/</url>
      
        <content type="html"><![CDATA[<h2 id="nginx-rewrite-用法，用rewrite去除URL中的特定参数"><a href="#nginx-rewrite-用法，用rewrite去除URL中的特定参数" class="headerlink" title="nginx rewrite 用法，用rewrite去除URL中的特定参数"></a>nginx rewrite 用法，用rewrite去除URL中的特定参数</h2><p>日常服务中经常会用Nginx做一层代理转发，把Nginx当做前置机</p><p>比如，以下配置:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    # 对外暴露 80 端口</span><br><span class="line">    listen    80;</span><br><span class="line">    server_name 192.168.10.231;</span><br><span class="line"></span><br><span class="line">    # 后端API地址暴露为：http:&#x2F;&#x2F;192.168.10.231&#x2F;apis</span><br><span class="line">    location &#x2F;apis &#123;</span><br><span class="line">        proxy_pass   http:&#x2F;&#x2F;127.0.0.1:8000&#x2F;;</span><br><span class="line">        proxy_pass_request_headers      on;</span><br><span class="line">          # 重写URL 去除apis</span><br><span class="line">        rewrite &quot;^&#x2F;apis&#x2F;(.*)$&quot; &#x2F;$1 break;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>这里的rewrite 就是为了去除URL中的/apis,实际的后端api中是没有这个参数的，但是为了做到在Nginx转发请求，前端需要加上这个参数，以便于区别</strong></p><p>比如前端的请求地址是</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;192.168.10.231&#x2F;apis&#x2F;user</span><br></pre></td></tr></table></figure><p>那么实际上经过Nginx转发后请求的地址是</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1:8000&#x2F;user</span><br></pre></td></tr></table></figure><p><strong>rewrite “^/api/(.)$” /$1 break，路径重写：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(1)&quot;^&#x2F;api&#x2F;(.)$&quot;：匹配路径的正则表达式，用了分组语法就是*(.)**，把&#x2F;api&#x2F;以后的所有部分当做1组；</span><br><span class="line">（2）&#x2F;$1：重写的目标路径，这里用$1引用前面正则表达式匹配到的分组（组编号从1开始，也就是api），即&#x2F;api&#x2F;后面的所有。这样新的路径就是除去&#x2F;api&#x2F;以外的所有，就达到了去除&#x2F;api前缀的目的</span><br></pre></td></tr></table></figure><p>；</p><p><strong>break：指令，常用的有2个，分别是：last、break；</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">（1）last：重写路径结束后，将得到的路径重新进行一次路径匹配；</span><br><span class="line">（2）break：重写路径结束后，不再重新匹配路径。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
      </categories>
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> rewrite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git使用规范</title>
      <link href="p/69df4022/"/>
      <url>p/69df4022/</url>
      
        <content type="html"><![CDATA[<p>新建项目</p><pre><code> 项目负责人在项目组下面新建项目（以下简称‘主项目’），所有参与该项目开发的人员，必须fork此项目到自己的工程（以下简称‘fork项目’），然后进行开发。</code></pre><p>主项目分支</p><pre><code> 主项目建立hotfix、release、dev、test四个分支。</code></pre><p>dev分支</p><pre><code> dev是开发分支，开发分支是更新最频繁的分支，开发人员正在开发的代码都必须且只能提交Merge Request（以下简称MR）到这个分支。</code></pre><p>test分支</p><pre><code> test是测试分支，用于发布测试环境。项目完成一个或多个功能点或者用户故事时，由负责测试版本发布的人员先从dev分支合并到test分支，然后发布到测试环境。</code></pre><p>hotfix分支</p><pre><code> hotfix是热修复分支，用于修复线上bug。开发人员提交的修复代码提交MR时选择该分支。当问题确定被修复后，项目负责人再将hotfix分支的代码同步到dev和master分支。</code></pre><p>release分支</p><pre><code> release分支是版本发布分支，用于发布线上版本时，由负责版本发布的人先从master分支合并到release分支，然后发布到正式环境。</code></pre><p>commit规范</p><pre><code> 每次的commit按照【标签】该次提交主要内容进行提交 标签分为5类：  * feature （新功能）  * bug （bug修复）  * refactor （重构）  * other (其他)  * tag（版本tag）</code></pre><p>fork项目规范</p><pre><code> * master 分支不要作为开发分支，master分支可以对应主项目的master * 从master分支切一个新的dev分支作为开发分支，dev分支可以跟主项目的dev分支对应 * 按照功能点，可以从dev分支切出功能分支，命名以feature-[功能]的形式，当一个功能点完成后，才合并到dev分支，这就避免了一个功能点还未完成，但另一个功能点需要上线的情况 * 每次的PR为一个功能点，避免review比较困难。</code></pre><p>分支结构</p><pre><code>综上，项目的分支结构大致如下： 主项目：   * master  * dev  * test  * hotfix  * release fork项目：  * master  * dev  * feature-xxx  * feature-yyy</code></pre>]]></content>
      
      
      <categories>
          
          <category> Gitlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gitlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitlab的备份、恢复</title>
      <link href="p/5851b21/"/>
      <url>p/5851b21/</url>
      
        <content type="html"><![CDATA[<h2 id="数据备份-："><a href="#数据备份-：" class="headerlink" title="数据备份 ："></a>数据备份 ：</h2><p><code>/etc/gitlab/gitlab.rb</code>配置文件，查看一个和备份相关的配置项：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitlab_rails[&#39;backup_path&#39;] &#x3D; &quot;&#x2F;var&#x2F;opt&#x2F;gitlab&#x2F;backups&quot;  #备份目录可以修改</span><br></pre></td></tr></table></figure><p>默认备份出文件的路径，可以通过修改该配置，并执行<code>gitlab-ctl restart </code>重启服务生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitlab-rake gitlab:backup:create   #备份</span><br></pre></td></tr></table></figure><p>加到<code>crontab</code>中定时执行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">0 2 * * * &#x2F;opt&#x2F;gitlab&#x2F;bin&#x2F;gitlab-rake gitlab:backup:create  &gt;&#x2F;dev&#x2F;null 2&gt;&amp;1</span><br></pre></td></tr></table></figure><p>gitlab-ce自身集成的有自动删除备份配置。打开<code>/etc/gitlab/gitlab.rb</code>配置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitlab_rails[&#39;backup_keep_time&#39;] &#x3D; 604800</span><br></pre></td></tr></table></figure><p>设置备份保留7天（7x3600x24=604800）秒为单位。</p><h2 id="数据恢复："><a href="#数据恢复：" class="headerlink" title="数据恢复："></a>数据恢复：</h2><p>停掉数据连接服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ctl stop unicorn</span><br><span class="line">gitlab-ctl stop sidekiq</span><br></pre></td></tr></table></figure><h3 id="恢复"><a href="#恢复" class="headerlink" title="恢复"></a>恢复</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitlab-rake gitlab:backup:restore BACKUP&#x3D;备份编号</span><br></pre></td></tr></table></figure><blockquote><p>注：1、到底那个是备份编号？  — _gitlab之前的部分都是；<br>      2、644默认权限。</p></blockquote><h3 id="查看恢复状态："><a href="#查看恢复状态：" class="headerlink" title="查看恢复状态："></a>查看恢复状态：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitlab-rake gitlab:check SANITIZE&#x3D;true</span><br></pre></td></tr></table></figure><h2 id="重启服务"><a href="#重启服务" class="headerlink" title="重启服务"></a>重启服务</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ctl start unicorn</span><br><span class="line">gitlab-ctl start sidekiq</span><br><span class="line">或</span><br><span class="line">gitlab-ctl restart</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Gitlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gitlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitlab升级</title>
      <link href="p/cc5f8722/"/>
      <url>p/cc5f8722/</url>
      
        <content type="html"><![CDATA[<h2 id="备份GitLab"><a href="#备份GitLab" class="headerlink" title="备份GitLab"></a>备份GitLab</h2><p>修改默认备份目录：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">默认备份目录是&#x2F;var&#x2F;opt&#x2F;gitlab&#x2F;backups，如果不想修改可以略过此步</span><br></pre></td></tr></table></figure><p>编辑文件<code>/etc/gitlab/gitlab.rb</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gitlab_rails[&#39;backup_path&#39;] &#x3D;  &quot;&#x2F;var&#x2F;opt&#x2F;gitlab&#x2F;backups&quot; #默认备份目录</span><br><span class="line">gitlab_rails[&#39;backup_path&#39;] &#x3D; &quot;&#x2F;home&#x2F;backups&quot; #修改后的备份目录</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ctl reconfigure   # 重载配置文件</span><br></pre></td></tr></table></figure><h2 id="执行备份"><a href="#执行备份" class="headerlink" title="执行备份:"></a>执行备份:</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitlab-rake gitlab:backup:create   #备份完成以.tar包的放在备份目录</span><br></pre></td></tr></table></figure><p>升级暂停部分服务</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ctl stop unicorn</span><br><span class="line">gitlab-ctl stop sidekiq</span><br><span class="line">gitlab-ctl stop nginx</span><br></pre></td></tr></table></figure><p>下载需要的<a href="https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/">Gitlab</a>版本安装包：</p><h2 id="安装命令："><a href="#安装命令：" class="headerlink" title="安装命令："></a>安装命令：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Ubuntu&#x2F;Debian系统：dpkg -i gitlab_x.x.x-omnibus.xxx.deb</span><br><span class="line">CentOS系统： rpm -Uvh gitlab-x.x.x_xxx.rpm    #U代表升级</span><br></pre></td></tr></table></figure><p>自动读取备份</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ctl reconfigure  #重建</span><br><span class="line">gitlab-ctl restart  #启动服务</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Gitlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gitlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx配置Jenkins域名访问</title>
      <link href="p/f700fae8/"/>
      <url>p/f700fae8/</url>
      
        <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line"> </span><br><span class="line">    listen 80;</span><br><span class="line">    server_name jenkins.domain.tld;</span><br><span class="line">     </span><br><span class="line">    location &#x2F; &#123;</span><br><span class="line"> </span><br><span class="line">      proxy_set_header        Host $host:$server_port;</span><br><span class="line">      proxy_set_header        X-Real-IP $remote_addr;</span><br><span class="line">      proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">      proxy_set_header        X-Forwarded-Proto $scheme;</span><br><span class="line"> </span><br><span class="line">      # Fix the &quot;It appears that your reverse proxy set up is broken&quot; error.</span><br><span class="line">      proxy_pass          http:&#x2F;&#x2F;127.0.0.1:8080;</span><br><span class="line">      proxy_read_timeout  90;</span><br><span class="line"> </span><br><span class="line">      #proxy_redirect      http:&#x2F;&#x2F;127.0.0.1:8080 https:&#x2F;&#x2F;jenkins.domain.tld;</span><br><span class="line">  </span><br><span class="line">      # Required for new HTTP-based CLI</span><br><span class="line">      proxy_http_version 1.1;</span><br><span class="line">      proxy_request_buffering off;</span><br><span class="line">      # workaround for https:&#x2F;&#x2F;issues.jenkins-ci.org&#x2F;browse&#x2F;JENKINS-45651</span><br><span class="line">      add_header &#39;X-SSH-Endpoint&#39; &#39;jenkins.domain.tld:50022&#39; always;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">upstream jenkins &#123;</span><br><span class="line">  server 127.0.0.1:8080 fail_timeout&#x3D;0;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">server &#123;</span><br><span class="line">  listen 80;</span><br><span class="line">  server_name jenkins.domain.tld;</span><br><span class="line">  #return 301 https:&#x2F;&#x2F;$host$request_uri;</span><br><span class="line">rewrite ^(.*)$ https:&#x2F;&#x2F;$host$1 permanent;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">server &#123;</span><br><span class="line">  listen 443 ssl;</span><br><span class="line">  server_name jenkins.domain.tld;</span><br><span class="line"> </span><br><span class="line">  ssl_certificate &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;server.crt;</span><br><span class="line">  ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;server.key;</span><br><span class="line"> </span><br><span class="line">  location &#x2F; &#123;</span><br><span class="line">    proxy_set_header        Host $host:$server_port;</span><br><span class="line">    proxy_set_header        X-Real-IP $remote_addr;</span><br><span class="line">    proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    proxy_set_header        X-Forwarded-Proto $scheme;</span><br><span class="line">    proxy_redirect http:&#x2F;&#x2F; https:&#x2F;&#x2F;;</span><br><span class="line">    proxy_pass              http:&#x2F;&#x2F;jenkins;</span><br><span class="line">    # Required for new HTTP-based CLI</span><br><span class="line">    proxy_http_version 1.1;</span><br><span class="line">    proxy_request_buffering off;</span><br><span class="line">    proxy_buffering off; # Required for HTTP-based CLI to work over SSL</span><br><span class="line">    # workaround for https:&#x2F;&#x2F;issues.jenkins-ci.org&#x2F;browse&#x2F;JENKINS-45651</span><br><span class="line">    add_header &#39;X-SSH-Endpoint&#39; &#39;jenkins.domain.tld:50022&#39; always;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Nginx </category>
          
          <category> Jenkins </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Jenkins </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitLab轻松创建一个Merge Request</title>
      <link href="p/37369/"/>
      <url>p/37369/</url>
      
        <content type="html"><![CDATA[<h3 id="简写说明"><a href="#简写说明" class="headerlink" title="简写说明"></a>简写说明</h3><pre><code>- MR = Merge Request- 主仓 = 组织创建的仓库（下文中是 awesome-php 组织创建的 awesome-one 仓库）</code></pre><h3 id="什么是Merge-Request"><a href="#什么是Merge-Request" class="headerlink" title="什么是Merge Request"></a>什么是Merge Request</h3><pre><code>- 相信很多人都不太懂这个 MR 到底是什么，通俗地说，MR 就是一个 merge 请求。- 创建一个 MR 当然就可以理解为创建一个合并请求。MR 的存在主要是为了权限控制。</code></pre><h3 id="Forking-Workflow"><a href="#Forking-Workflow" class="headerlink" title="Forking Workflow"></a>Forking Workflow</h3><pre><code>- 用 Git 的同学最开始接触的想必是 Git Workflow 吧。- 什么是 Git Workflow？其实就是多人在同一个仓库上进行代码托管，然后仓库存在多个分支，一般来说每个新功能会创建一个分支，然后根据不同的阶段合并到不同环境对应的分支上，对功能需求进行测试、验收以及上线。- 当开发团队规模较小的时候，使用 Git Workflow 无疑是相对适合的，优点是相对灵活。但是当团队人数达到一定程度，项目较多之后，这种工作流就会暴露本身的局限性，权限管理比较混乱。- 这个时候，Forking Workflow 就应运而生了。- 什么是 Forking Workflow ？Forking Workflow 就是存在一个主仓，其他开发人员把主仓 Fork 一份到自己的仓库中，然后在自己的仓库中进行功能开发，开发完成后提交 Merge Request ，然后团队 Review ，确认没问题之后进行合并更新操作。- 相比 Git Workflow ，Forking Workflow 可以更好地管理主仓代码，保证主仓代码的安全、一致性等，且可以杜绝分支过多引发的其他问题。</code></pre><h3 id="怎么创建Merge-Request"><a href="#怎么创建Merge-Request" class="headerlink" title="怎么创建Merge Request"></a>怎么创建Merge Request</h3><p>言归正传，让我们看看怎么创建 MR。在我朋友圈中有大L和小L两位小伙伴，分别使用 Git Workflow 和 Forking Workflow 两种不同的 Git 工作流。中国传统敬老爱幼，那么就由使用 Forking Workflow 的小L为我们演示一下怎么创建一个 MR。</p><h4 id="Forking-Workflow-1"><a href="#Forking-Workflow-1" class="headerlink" title="Forking Workflow"></a>Forking Workflow</h4><p>此时使用 Forking Workflow 的小L同学接到一个需求，小L思路清晰，他首先查看主仓（ awesome-php 名下的 awesome-one 仓库，下文一律使用主仓称呼），然后基于主仓 Fork 一个属于自己的仓库：<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/3xuci.gif" alt="github--lena"></p><p>此时小L个人（也就是zmcdbp）名下也有了一个 awesome-one 仓库，小L接着要做的事自然就是 Clone 自己的仓库到本地：</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/opt6u.gif" alt="github--lena"><br>突然接到的需求需要开发一个 phpinfo 页面，遵循 Forking Workflow 规范的小L的做法是先基于本地的 master 分支衍生一个 feature-phpinfo 的功能分支，然后在该分支上进行开发，开发完成后添加更改的代码到缓存区，提交 commit ：</p><p> <img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/1ahdl.gif" alt="github--lena"><br>完成本地提交之后，接下来要进行远程分支的提交，小L提交到了自己名下的仓库中（也就是zmcdbp/aweosme-one），分支名称与本地分支保持同步，方便日后翻阅查找（此处因为小L名下的 awesome-one 仓库中尚未存在 feature-phpinfo 分支，所以在 push 操作的时候需要带上 -u 参数告诉 GitLab 需要创建一个名叫 feature-phpinfo 的远程分支）：</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/8nlll.gif" alt="github--lena"><br>push 成功之后小L选择了回到 GitLab Web 中查看刚刚提交了更新的仓库：</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/cn083.jpg" alt="github--lena"><br>小L很开心，因为发现他名下的 awesome-one 仓库 中已经多了一个远程分支 feature-phpinfo。接下来小L要把这个已经开发好的功能分支合并到主仓中以便后续进行功能测试以及产品验收等步骤。首先小L创建了一个 MR （因为本地分支是推送到了小L从主仓中 Fork 出来的个人仓库中，所以创建 MR 的动作也应该在自己仓库的 GitLab Web 页面中进行）：</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/3u644.gif" alt="github--lena"><br>创建 MR 的页面信息量相当大，懒癌晚期的小L选择了只关注 Title、Description、Source branch、Target branch 以及 Remove source branch when merge request is accept 这几项，如果你比较勤快当然也可以对其他配置项进行详细配置。懒癌晚期的小L关注的这几项配置都是什么呢？Title 当然就是本次 MR 的简要说明，Description 自然就是详细说明，里面可以填写本次合并主要功能以及相关负责人员等（支持 Markdown 噢！），Source branch 英语超赞的你肯定已经猜到这个就是我们要发起合并的分支，Target branch 自然就是接受合并的分支啦，Remove… 说的就是当本次 MR 被接受之后，自动删除发起合并的分支，是不是超贴心！小L对自己比较关注的几项配置进行简单填写后，点击下方的提交按钮，创建 MR 的操作就完成啦！连懒癌晚期的小L都能轻松创建，是不是超简单！</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/wt2xg.gif" alt="github--lena"><br>但是聪明的你肯定发现了事情似乎并没有这么简单！Target branch 默认是 master 分支并且似乎无法更改，那么如果需要合并到其他如 dev 分支的话该怎么办呢？没关系，点击 Target branch 旁边的 Change branches 就可以对 Source branch 和 Target branch 进行更改啦！（合并请求不单单可以向主仓发起，还可以对自己仓库内存在的两个分支进行发起，或者对主仓派生的其他仓库中的分支发起）</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/vgibb.gif" alt="github--lena"><br>在 Forking Workflow 中一个 MR 的诞生差不多需要经历的就这么多，当然还有更多细节由于篇幅问题没有一一细说，还请见谅。</p><h3 id="Git-Workflow"><a href="#Git-Workflow" class="headerlink" title="Git Workflow"></a>Git Workflow</h3><p>组织把比较重要的 hello world 需求留给了我们成熟稳重使用 Git Workflow 的大L同学，大L不假思索地访问了主仓的页面并进行了 Clone 操作，然后在本地创建了一个需要进行功能开发的 feature-hello-world 分支。注意，大L是从主仓 Clone，而小L是从自己 Fork 出来的仓库 Clone。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/3ujuq.gif" alt="github--lena"><br>接着大L迅速完成了开发工作，与小L的本地提交操作类似，把更改的文件添加到缓存区，然后添加 commit。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/64rxz.gif" alt="github--lena"><br>完成了本地提交后，大L选择了把新开发的功能分支推送到远程仓库中。（与小L类似，因为远程仓库中尚未存在与本地同名的分支，所以需要添加 -u 参数创建远程分支）</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/6pnyx.gif" alt="github--lena"><br>完成推送到远程仓库的操作后，大L打开了主仓的页面然后点击旁边出现的 Create Merge Request 按钮来创建一个 MR。进入到创建页面之后，大L的操作就跟小L点击创建 MR 按钮后的操作一致了，在这就不再重复了。（都是姓L的，一样的姓，一样的病【懒癌晚期】）</p>]]></content>
      
      
      <categories>
          
          <category> Gitlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gitlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Netgear网件R7000路由器折腾上网</title>
      <link href="p/36a8252d/"/>
      <url>p/36a8252d/</url>
      
        <content type="html"><![CDATA[<div class="note warning flat"><p>1、刷机有风险，如果变砖请自行解决；<br>2、固件版本来源于<a href="http://koolshare.cn;/">http://koolshare.cn；</a><br>3、教程网页打开之后不要随意刷新（毕竟刷机过程中大部分时间处于断网状态）；<br>4、网件路由器设置相比TP-Link、D-Link（其它的我没用过，不会。）等复杂一些；<br>5、刷梅林固件过程也比较繁琐，一定要按顺序操作；<br>6、刷完梅林固件之后需要离线安装上网工具才能上网；<br>7、梅林过渡固件版本（R7000_380.70_0-X7.9.1-koolshare.chk）；<br>8、梅林固件版本（R7000_380.70_0-X7.9.1-koolshare.trx）；<br>9、上网工具版本（shadowsocks_4.1.7）；<br>10、(OFW)固件版本（Merling-R7000-back-to-ofw.trx）；<br>11、官方固件版本（R7000-V1.0.9.42_10.2.44.chk）；<br>12、其它固件版本请自行解决；<br>13、以上固件及工具链接在教程中附上；</p></div><h4 id="准备工作："><a href="#准备工作：" class="headerlink" title="准备工作："></a>准备工作：</h4><p>1、准备过渡固件（<a href="http://firmware.koolshare.cn/Koolshare_Merlin_Legacy_380/Netgear/R7000/X7.9.1/R7000_380.70_0-X7.9.1-koolshare.chk">R7000_380.70_0-X7.9.1-koolshare.chk</a>）；<br>2、准备新版固件（<a href="http://firmware.koolshare.cn/Koolshare_Merlin_Legacy_380/Netgear/R7000/X7.9.1/R7000_380.70_0-X7.9.1-koolshare.trx">R7000_380.70_0-X7.9.1-koolshare.trx</a>，如果过渡固件跟新版固件是相同版本，这一条可以忽略）；<br>3、准备工具离线包（<a href="https://github.com/hq450/fancyss_history_package/raw/master/fancyss_arm/shadowsocks_4.1.7.tar.gz">shadowsocks_4.1.7.tar.gz</a>）；<br>4、用于搭建上网的国外vps一台，博主使用的是（<a href="https://bwh88.net/">搬瓦工</a>）的vps，</p><h4 id="刷机过程顺序概要："><a href="#刷机过程顺序概要：" class="headerlink" title="刷机过程顺序概要："></a>刷机过程顺序概要：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">网件原厂固件→还原出厂设置→刷梅林过渡固件→还原出厂设置→刷梅林新版→还原出厂设置→格式化JFFS分区→上网</span><br></pre></td></tr></table></figure><h4 id="第一步：打开网页http-www-routerlogin-net-进入网件后台"><a href="#第一步：打开网页http-www-routerlogin-net-进入网件后台" class="headerlink" title="第一步：打开网页http://www.routerlogin.net/ 进入网件后台"></a>第一步：打开网页<a href="http://www.routerlogin.net/">http://www.routerlogin.net/</a> 进入网件后台</h4><p>步骤：高级→管理→备份设置→擦除（恢复出厂设置)<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R1.png" alt="github--lena"></p><h4 id="第二步：刷入过渡固件，后缀是-chk。（R7000-380-70-0-X7-9-1-koolshare-chk）"><a href="#第二步：刷入过渡固件，后缀是-chk。（R7000-380-70-0-X7-9-1-koolshare-chk）" class="headerlink" title="第二步：刷入过渡固件，后缀是.chk。（R7000_380.70_0-X7.9.1-koolshare.chk）"></a>第二步：刷入过渡固件，后缀是.chk。（R7000_380.70_0-X7.9.1-koolshare.chk）</h4><p>步骤：高级→管理→路由器升级→浏览→上传</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R2.png" alt="github--lena"><br>无视警告信息，点“是”。这里根据官方固件版本不同，提示会有区别，总之，点“是”就行了。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R3.png" alt="github--lena"><br>等待重启</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R4.png" alt="github--lena"></p><h4 id="第三步：进入梅林后台，等待浏览器会自动打开后台设置界面。"><a href="#第三步：进入梅林后台，等待浏览器会自动打开后台设置界面。" class="headerlink" title="第三步：进入梅林后台，等待浏览器会自动打开后台设置界面。"></a>第三步：进入梅林后台，等待浏览器会自动打开后台设置界面。</h4><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R5.png" alt="github--lena"><br>恭喜你，到这里已经成功了一大半了。按照提示修改密码。<br>然后点击下一步。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R6.png" alt="github--lena"><br>因为我这里是光纤入户（路由连路由），不存在账号密码什么的，所以界面直接跳过“网络设置”到“路由器设置”了。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R7.png" alt="github--lena"><br>随意设置无线网络的名称和密码，因为等会还要一次还原出厂设置的，点击“应用本页面设置”。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R8.png" alt="github--lena"><br>可以看到路由器WAN IP和无线设置，点击“完成”，就可以看到梅林后台设置主页面了。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R9.png" alt="github--lena"></p><h4 id="第四步：准备梅林固件第一次出厂还原。"><a href="#第四步：准备梅林固件第一次出厂还原。" class="headerlink" title="第四步：准备梅林固件第一次出厂还原。"></a>第四步：准备梅林固件第一次出厂还原。</h4><p>步骤：高级设置→系统管理→恢复</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R10.png" alt="github--lena"><br>等待重启。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R11.png" alt="github--lena"><br>重启后需要刷入正式版固件。固件版本后缀是.trx。（这里固件版本是R7000_380.70_0-X7.9.1-koolshare.trx）</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R11-1.png" alt="github--lena"></p><h4 id="第五步：刷入梅林新版固件"><a href="#第五步：刷入梅林新版固件" class="headerlink" title="第五步：刷入梅林新版固件"></a>第五步：刷入梅林新版固件</h4><p>步骤：高级设置→系统管理→固件升级→选择固件版本→上传。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R1-2.png" alt="github--lena"><br>等待固件升级，之后会重启。<br>进入梅林后台，等待浏览器会自动打开后台设置界面。账号admin，密码是升级之前设置的密码。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R13.png" alt="github--lena"></p><h4 id="第六步：梅林固件第二次出厂还原。"><a href="#第六步：梅林固件第二次出厂还原。" class="headerlink" title="第六步：梅林固件第二次出厂还原。"></a>第六步：梅林固件第二次出厂还原。</h4><p>步骤：高级设置→系统管理→恢复。<br>等待恢复结束之后登录梅林固件后台，准备JFFS分区格式化。<br>步骤：高级设置→系统管理→系统设置内勾选：Format JFFS partition at next boot（下次重启格式化jffs分区） 和 Enable JFFS custom scripts and configs（开启jffs自定义脚本），（分别点是）点击下方“应用本页面设置”，成功应用后重启路由器；</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R14.png" alt="github--lena"></p><h4 id="第七步：更新软件中心，准备装插件。"><a href="#第七步：更新软件中心，准备装插件。" class="headerlink" title="第七步：更新软件中心，准备装插件。"></a>第七步：更新软件中心，准备装插件。</h4><p>重启完成后重新登入后台，打开路由器设置界面，进入“软件中心”，首先点击“更新”按钮，将更新软件中心到最新版本，然后即可安装并使用插件。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R15.png" alt="github--lena"></p><h4 id="第八步：安装离线包。"><a href="#第八步：安装离线包。" class="headerlink" title="第八步：安装离线包。"></a>第八步：安装离线包。</h4><p>进入软件中心→离线安装，选择上网工具文件（shadowsocks_4.1.7.tar.gz），上传并安装。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R16.png" alt="github--lena"><br>安装完毕之后返回到软件中心，可以看到上网图标了。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R17.png" alt="github--lena"><br>点开“上网”</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R18.png" alt="github--lena"><br>按需添加节点类型。我这里是×××兼容SS，所以我直接添加SS节点。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R19.png" alt="github--lena"><br>点击“更新管理”中间那个“立即更新”。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R20.png" alt="github--lena"><br>上网规则更新中…</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R2-1.png" alt="github--lena"><br>开启“上网开关”，启用gfwlist模式。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R22.png" alt="github--lena"><br>运行状态：“国内链接”及“国外链接”都显示正确。</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/weilain/cdn-photo/img/R23.png" alt="github--lena"><br>就可以连接Wi-Fi上网了。</p>]]></content>
      
      
      <categories>
          
          <category> 奇怪的知识点 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> R7000 </tag>
            
            <tag> Netgear网件 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitlab 存储仓库目录设置及数据迁移</title>
      <link href="p/2c54d1ec/"/>
      <url>p/2c54d1ec/</url>
      
        <content type="html"><![CDATA[<blockquote><p>注：一开始没有考虑到把gitlab划分好存储目录，占用系统磁盘，由于gitlab是默认安装的，随着公司代码越来越多，导致gitlab数据目录空间不足</p></blockquote><p>磁盘空间：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab ~]# df -hT</span><br><span class="line">Filesystem     Type      Size  Used Avail Use% Mounted on</span><br><span class="line">&#x2F;dev&#x2F;vda1      ext4       40G   25G   13G  67% &#x2F;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>注：因为使用的阿里云服务，所以考虑另挂载一块磁盘专用于gitlab存储。<br>  ······ 云盘挂载，磁盘分区就直接略过。</p></blockquote><h3 id="设置存储仓库数据"><a href="#设置存储仓库数据" class="headerlink" title="设置存储仓库数据"></a>设置存储仓库数据</h3><p>默认情况下omnibus-gitlab 将仓库数据存储在 <code>/var/opt/gitlab/git-data</code>目录下，仓库存放在子目录 <code>repositories</code>里面。 以可以通过修改<code>/etc/gitlab/gitlab.rb</code> 的这一行来自定义 git-data 的父目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab ~]#  vim &#x2F;etc&#x2F;gitlab&#x2F;gitlab.rb </span><br><span class="line"># 把注释取消然后指定新的仓库存储位置</span><br><span class="line">git_data_dirs(&#123; &quot;default&quot; &#x3D;&gt; &#123; &quot;path&quot; &#x3D;&gt; &quot;&#x2F;home&#x2F;gitlab-data&quot; &#125; &#125;)</span><br></pre></td></tr></table></figure><blockquote><p>注： /home/gitlab-data 是我新挂载的目录，<br>注意 ：目标路径和其子路径必须不能为软链接。</p></blockquote><h3 id="使设置生效"><a href="#使设置生效" class="headerlink" title="使设置生效"></a>使设置生效</h3><p>1.1 ，在没有数据的情况下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@gitlab ~]#  gitlab-ctl stop</span><br><span class="line">[root@gitlab ~]# gitlab-ctl reconfigure &#x2F;&#x2F;使修改生效</span><br></pre></td></tr></table></figure><p>1.2，如果 <code>/var/opt/gitlab/git-data</code> 目录已经存在Git仓库数据， 你可以用下面的命令把数据迁移到新的位置:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 准备迁移之前要停止GitLab服务，防止用户写入数据。</span><br><span class="line">[root@gitlab ~]# gitlab-ctl stop</span><br><span class="line"></span><br><span class="line"># 注意 &#39;repositories&#39;后面不带斜杠，而</span><br><span class="line"># &#39;&#x2F;home&#x2F;gitlab-data&#39;后面是有斜杠的。</span><br><span class="line">[root@gitlab ~]# rsync -av &#x2F;var&#x2F;opt&#x2F;gitlab&#x2F;git-data&#x2F;repositories &#x2F;home&#x2F;gitlab-data&#x2F;</span><br><span class="line"></span><br><span class="line"># 如果需要修复权限设置，</span><br><span class="line"># 可运行下面的命令进行修复。</span><br><span class="line">[root@gitlab ~]# gitlab-ctl reconfigure</span><br><span class="line"></span><br><span class="line"># 再次检查下  &#x2F;home&#x2F;gitlab-data 的目录. 正常情况应该有下面这个子目录:</span><br><span class="line"># repositories</span><br><span class="line"></span><br><span class="line">[root@gitlab ~]# ls  &#x2F;home&#x2F;gitlab-data&#x2F;</span><br><span class="line">repositories</span><br><span class="line"># 完工! 启动GitLab，验证下是否能</span><br><span class="line"># 通过web访问Git仓库。</span><br><span class="line">[root@gitlab ~]# gitlab-ctl start</span><br></pre></td></tr></table></figure><h3 id="设置存储仓库数据的备用目录"><a href="#设置存储仓库数据的备用目录" class="headerlink" title="设置存储仓库数据的备用目录"></a>设置存储仓库数据的备用目录</h3><blockquote><p>注意的是：自GitLab 8.10开始,可以通过在<code>/etc/gitlab/gitlab.rb</code>文件中添加下面的几行配置， 来增加多个 git 数据存储目录。</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git_data_dirs(&#123;</span><br><span class="line">  &quot;default&quot; &#x3D;&gt; &#123; &quot;path&quot; &#x3D;&gt; &quot;&#x2F;var&#x2F;opt&#x2F;gitlab&#x2F;git-data&quot; &#125;,  &#x2F;&#x2F;默认存储目录</span><br><span class="line">  &quot;alternative&quot; &#x3D;&gt; &#123; &quot;path&quot; &#x3D;&gt; &quot; &#x2F;home&#x2F;gitlab-data&quot; &#125;     &#x2F;&#x2F;备用存储目录</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Gitlab </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Gitlab </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
